





<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
  <link rel="dns-prefetch" href="https://assets-cdn.github.com">
  <link rel="dns-prefetch" href="https://avatars0.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars1.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars2.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars3.githubusercontent.com">
  <link rel="dns-prefetch" href="https://github-cloud.s3.amazonaws.com">
  <link rel="dns-prefetch" href="https://user-images.githubusercontent.com/">



  <link crossorigin="anonymous" href="https://assets-cdn.github.com/assets/frameworks-3e3f370097e3a4bec29b24356300a7ba8316af25f4576ce2170d64678fee6d17.css" integrity="sha256-Pj83AJfjpL7CmyQ1YwCnuoMWryX0V2ziFw1kZ4/ubRc=" media="all" rel="stylesheet" />
  <link crossorigin="anonymous" href="https://assets-cdn.github.com/assets/github-cb4e745bdd1cd46849ac03658c2771e92f19ed52ca01d93d25563d95623e8782.css" integrity="sha256-y050W90c1GhJrANljCdx6S8Z7VLKAdk9JVY9lWI+h4I=" media="all" rel="stylesheet" />
  
  
  
  

  <meta name="viewport" content="width=device-width">
  
  <title>vue-echarts/vue-echarts.js at master Â· Justineo/vue-echarts</title>
  <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">
  <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
  <meta property="fb:app_id" content="1401488693436528">

    
    <meta content="https://avatars0.githubusercontent.com/u/1726061?s=400&amp;v=4" property="og:image" /><meta content="GitHub" property="og:site_name" /><meta content="object" property="og:type" /><meta content="Justineo/vue-echarts" property="og:title" /><meta content="https://github.com/Justineo/vue-echarts" property="og:url" /><meta content="vue-echarts - ECharts component for Vue.js." property="og:description" />

  <link rel="assets" href="https://assets-cdn.github.com/">
  <link rel="web-socket" href="wss://live.github.com/_sockets/VjI6MjMzNjgzNzUxOjRhMWMwODRmMWVmMTUyNzk5ZjExNTU5ZTkwZDM3NWRlMWEwOGIwODM3ZjIwZmE1NjFiY2IxYzdiODRjMjJhM2Y=--85083edc7d5972a504dd8183b4d149faa6de34e9">
  <meta name="pjax-timeout" content="1000">
  <link rel="sudo-modal" href="/sessions/sudo_modal">
  <meta name="request-id" content="83A6:1EE13:4188:66FC:5A5EAEE2" data-pjax-transient>
  

  <meta name="selected-link" value="repo_source" data-pjax-transient>

    <meta name="google-site-verification" content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU">
  <meta name="google-site-verification" content="ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA">
  <meta name="google-site-verification" content="GXs5KoUUkNCoaAZn7wPN-t01Pywp9M3sEjnt_3_ZWPc">
    <meta name="google-analytics" content="UA-3769691-2">

<meta content="collector.githubapp.com" name="octolytics-host" /><meta content="github" name="octolytics-app-id" /><meta content="https://collector.githubapp.com/github-external/browser_event" name="octolytics-event-url" /><meta content="83A6:1EE13:4188:66FC:5A5EAEE2" name="octolytics-dimension-request_id" /><meta content="sea" name="octolytics-dimension-region_edge" /><meta content="iad" name="octolytics-dimension-region_render" /><meta content="10386570" name="octolytics-actor-id" /><meta content="jjjabc" name="octolytics-actor-login" /><meta content="c965bb7e3cf82f3bc52b024e6d33b75012cbe7dd293aac7c52c122c9a64f8c29" name="octolytics-actor-hash" />
<meta content="/&lt;user-name&gt;/&lt;repo-name&gt;/blob/show" data-pjax-transient="true" name="analytics-location" />




  <meta class="js-ga-set" name="dimension1" content="Logged In">


  

      <meta name="hostname" content="github.com">
  <meta name="user-login" content="jjjabc">

      <meta name="expected-hostname" content="github.com">
    <meta name="js-proxy-site-detection-payload" content="NjI4Yzc2ZjdkNWM4MzZjMDY5Zjg5MjM3NjM2M2JmZWQ3NThiMmJhZTQ1Njg4Y2QyMTIzZGFmNjIxOTljNzk2MXx7InJlbW90ZV9hZGRyZXNzIjoiNDcuNzQuMzMuMjI1IiwicmVxdWVzdF9pZCI6IjgzQTY6MUVFMTM6NDE4ODo2NkZDOjVBNUVBRUUyIiwidGltZXN0YW1wIjoxNTE2MTU0NjAzLCJob3N0IjoiZ2l0aHViLmNvbSJ9">

    <meta name="enabled-features" content="UNIVERSE_BANNER,FREE_TRIALS">

  <meta name="html-safe-nonce" content="3178db10dfa50329826610a33a78368bb0df14f4">

  <meta http-equiv="x-pjax-version" content="9d9c177e5bd45172f2a79258021e38f0">
  

      <link href="https://github.com/Justineo/vue-echarts/commits/master.atom" rel="alternate" title="Recent Commits to vue-echarts:master" type="application/atom+xml">

  <meta name="description" content="vue-echarts - ECharts component for Vue.js.">
  <meta name="go-import" content="github.com/Justineo/vue-echarts git https://github.com/Justineo/vue-echarts.git">

  <meta content="1726061" name="octolytics-dimension-user_id" /><meta content="Justineo" name="octolytics-dimension-user_login" /><meta content="61364083" name="octolytics-dimension-repository_id" /><meta content="Justineo/vue-echarts" name="octolytics-dimension-repository_nwo" /><meta content="true" name="octolytics-dimension-repository_public" /><meta content="false" name="octolytics-dimension-repository_is_fork" /><meta content="61364083" name="octolytics-dimension-repository_network_root_id" /><meta content="Justineo/vue-echarts" name="octolytics-dimension-repository_network_root_nwo" /><meta content="false" name="octolytics-dimension-repository_explore_github_marketplace_ci_cta_shown" />


    <link rel="canonical" href="https://github.com/Justineo/vue-echarts/blob/master/dist/vue-echarts.js" data-pjax-transient>


  <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">

  <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">

  <link rel="mask-icon" href="https://assets-cdn.github.com/pinned-octocat.svg" color="#000000">
  <link rel="icon" type="image/x-icon" class="js-site-favicon" href="https://assets-cdn.github.com/favicon.ico">

<meta name="theme-color" content="#1e2327">


  <meta name="u2f-support" content="true">

  </head>

  <body class="logged-in env-production page-blob">
    

  <div class="position-relative js-header-wrapper ">
    <a href="#start-of-content" tabindex="1" class="bg-black text-white p-3 show-on-focus js-skip-to-content">Skip to content</a>
    <div id="js-pjax-loader-bar" class="pjax-loader-bar"><div class="progress"></div></div>

    
    
    



        
<header class="Header  f5" role="banner">
  <div class="d-flex px-3 flex-justify-between container-lg">
    <div class="d-flex flex-justify-between">
      <a class="header-logo-invertocat" href="https://github.com/" data-hotkey="g d" aria-label="Homepage" data-ga-click="Header, go to dashboard, icon:logo">
  <svg aria-hidden="true" class="octicon octicon-mark-github" height="32" version="1.1" viewBox="0 0 16 16" width="32"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
</a>


    </div>

    <div class="HeaderMenu d-flex flex-justify-between flex-auto">
      <div class="d-flex">
            <div class="">
              <div class="header-search scoped-search site-scoped-search js-site-search" role="search">
  <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/Justineo/vue-echarts/search" class="js-site-search-form" data-scoped-search-url="/Justineo/vue-echarts/search" data-unscoped-search-url="/search" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>
    <label class="form-control header-search-wrapper js-chromeless-input-container">
        <a href="/Justineo/vue-echarts/blob/master/dist/vue-echarts.js" class="header-search-scope no-underline">This repository</a>
      <input type="text"
        class="form-control header-search-input js-site-search-focus js-site-search-field is-clearable"
        data-hotkey="s"
        name="q"
        value=""
        placeholder="Search"
        aria-label="Search this repository"
        data-unscoped-placeholder="Search GitHub"
        data-scoped-placeholder="Search"
        autocapitalize="off">
        <input type="hidden" class="js-site-search-type-field" name="type" >
    </label>
</form></div>

            </div>

          <ul class="d-flex pl-2 flex-items-center text-bold list-style-none" role="navigation">
            <li>
              <a href="/pulls" aria-label="Pull requests you created" class="js-selected-navigation-item HeaderNavlink px-2" data-ga-click="Header, click, Nav menu - item:pulls context:user" data-hotkey="g p" data-selected-links="/pulls /pulls/assigned /pulls/mentioned /pulls">
                Pull requests
</a>            </li>
            <li>
              <a href="/issues" aria-label="Issues you created" class="js-selected-navigation-item HeaderNavlink px-2" data-ga-click="Header, click, Nav menu - item:issues context:user" data-hotkey="g i" data-selected-links="/issues /issues/assigned /issues/mentioned /issues">
                Issues
</a>            </li>
                <li>
                  <a href="/marketplace" class="js-selected-navigation-item HeaderNavlink px-2" data-ga-click="Header, click, Nav menu - item:marketplace context:user" data-selected-links=" /marketplace">
                    Marketplace
</a>                </li>
            <li>
              <a href="/explore" class="js-selected-navigation-item HeaderNavlink px-2" data-ga-click="Header, click, Nav menu - item:explore" data-selected-links="/explore /trending /trending/developers /integrations /integrations/feature/code /integrations/feature/collaborate /integrations/feature/ship showcases showcases_search showcases_landing /explore">
                Explore
</a>            </li>
          </ul>
      </div>

      <div class="d-flex">
        
<ul class="user-nav d-flex flex-items-center list-style-none" id="user-links">
  <li class="dropdown js-menu-container">
    <span class="d-inline-block  px-2">
      
    <a href="/notifications" aria-label="You have unread notifications" class="notification-indicator tooltipped tooltipped-s  js-socket-channel js-notification-indicator" data-channel="notification-changed:10386570" data-ga-click="Header, go to notifications, icon:unread" data-hotkey="g n">
        <span class="mail-status unread"></span>
        <svg aria-hidden="true" class="octicon octicon-bell" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M14 12v1H0v-1l.73-.58c.77-.77.81-2.55 1.19-4.42C2.69 3.23 6 2 6 2c0-.55.45-1 1-1s1 .45 1 1c0 0 3.39 1.23 4.16 5 .38 1.88.42 3.66 1.19 4.42l.66.58H14zm-7 4c1.11 0 2-.89 2-2H5c0 1.11.89 2 2 2z"/></svg>
</a>
    </span>
  </li>

  <li class="dropdown js-menu-container">
    <details class="dropdown-details details-reset js-dropdown-details d-flex px-2 flex-items-center">
      <summary class="HeaderNavlink"
         aria-label="Create newâ¦"
         data-ga-click="Header, create new, icon:add">
        <svg aria-hidden="true" class="octicon octicon-plus float-left mr-1 mt-1" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 9H7v5H5V9H0V7h5V2h2v5h5z"/></svg>
        <span class="dropdown-caret mt-1"></span>
      </summary>

      <ul class="dropdown-menu dropdown-menu-sw">
        
<a class="dropdown-item" href="/new" data-ga-click="Header, create new repository">
  New repository
</a>

  <a class="dropdown-item" href="/new/import" data-ga-click="Header, import a repository">
    Import repository
  </a>

<a class="dropdown-item" href="https://gist.github.com/" data-ga-click="Header, create new gist">
  New gist
</a>

  <a class="dropdown-item" href="/organizations/new" data-ga-click="Header, create new organization">
    New organization
  </a>



  <div class="dropdown-divider"></div>
  <div class="dropdown-header">
    <span title="Justineo/vue-echarts">This repository</span>
  </div>
    <a class="dropdown-item" href="/Justineo/vue-echarts/issues/new" data-ga-click="Header, create new issue">
      New issue
    </a>

      </ul>
    </details>
  </li>

  <li class="dropdown js-menu-container">

    <details class="dropdown-details details-reset js-dropdown-details d-flex pl-2 flex-items-center">
      <summary class="HeaderNavlink name mt-1"
        aria-label="View profile and more"
        data-ga-click="Header, show menu, icon:avatar">
        <img alt="@jjjabc" class="avatar float-left mr-1" src="https://avatars3.githubusercontent.com/u/10386570?s=40&amp;v=4" height="20" width="20">
        <span class="dropdown-caret"></span>
      </summary>

      <ul class="dropdown-menu dropdown-menu-sw">
        <li class="dropdown-header header-nav-current-user css-truncate">
          Signed in as <strong class="css-truncate-target">jjjabc</strong>
        </li>

        <li class="dropdown-divider"></li>

        <li><a class="dropdown-item" href="/jjjabc" data-ga-click="Header, go to profile, text:your profile">
          Your profile
        </a></li>
        <li><a class="dropdown-item" href="/jjjabc?tab=stars" data-ga-click="Header, go to starred repos, text:your stars">
          Your stars
        </a></li>
          <li><a class="dropdown-item" href="https://gist.github.com/" data-ga-click="Header, your gists, text:your gists">Your Gists</a></li>

        <li class="dropdown-divider"></li>

        <li><a class="dropdown-item" href="https://help.github.com" data-ga-click="Header, go to help, text:help">
          Help
        </a></li>

        <li><a class="dropdown-item" href="/settings/profile" data-ga-click="Header, go to settings, icon:settings">
          Settings
        </a></li>

        <li><!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/logout" class="logout-form" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="3yvFFfycBMBrf0Gzvk8LfZgi00wqpSZFstWC95M6UeFXBIlF0FnQTt2S/5msdVUp00vKIxrhj7ejJ8sbC2OYpg==" /></div>
          <button type="submit" class="dropdown-item dropdown-signout" data-ga-click="Header, sign out, icon:logout">
            Sign out
          </button>
        </form></li>
      </ul>
    </details>
  </li>
</ul>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/logout" class="sr-only right-0" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="/UjUhe8xNdJu3g+Q5TsRN5/qRqk0cSqcc0OIVvMaFrV1Z5jVw/ThXNgzsbr3AU9j1INfxgQ1g25iscG6a0Pf8g==" /></div>
          <button type="submit" class="dropdown-item dropdown-signout" data-ga-click="Header, sign out, icon:logout">
            Sign out
          </button>
</form>      </div>
    </div>
  </div>
</header>

      

  </div>

  <div id="start-of-content" class="show-on-focus"></div>

    <div id="js-flash-container">
</div>



  <div role="main" >
        <div itemscope itemtype="http://schema.org/SoftwareSourceCode" class="">
    <div id="js-repo-pjax-container" data-pjax-container >
      






  <div class="pagehead repohead instapaper_ignore readability-menu experiment-repo-nav  ">
    <div class="repohead-details-container clearfix container">

      <ul class="pagehead-actions">
  <li>
        <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/notifications/subscribe" class="js-social-container" data-autosubmit="true" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="k9ccVOmFV2HPDXQTGVUAJ+WCUcvfRQLWUa9bpfZvZ/w9U7v6jt7W6JnBxOS52bhyHXL1uSxV0tD9kfnHJlGZEg==" /></div>      <input class="form-control" id="repository_id" name="repository_id" type="hidden" value="61364083" />

        <div class="select-menu js-menu-container js-select-menu">
          <a href="/Justineo/vue-echarts/subscription"
            class="btn btn-sm btn-with-count select-menu-button js-menu-target"
            role="button"
            aria-haspopup="true"
            aria-expanded="false"
            aria-label="Toggle repository notifications menu"
            data-ga-click="Repository, click Watch settings, action:blob#show">
            <span class="js-select-button">
                <svg aria-hidden="true" class="octicon octicon-eye" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"/></svg>
                Watch
            </span>
          </a>
          <a class="social-count js-social-count"
            href="/Justineo/vue-echarts/watchers"
            aria-label="56 users are watching this repository">
            56
          </a>

        <div class="select-menu-modal-holder">
          <div class="select-menu-modal subscription-menu-modal js-menu-content">
            <div class="select-menu-header js-navigation-enable" tabindex="-1">
              <svg aria-label="Close" class="octicon octicon-x js-menu-close" height="16" role="img" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"/></svg>
              <span class="select-menu-title">Notifications</span>
            </div>

              <div class="select-menu-list js-navigation-container" role="menu">

                <div class="select-menu-item js-navigation-item selected" role="menuitem" tabindex="0">
                  <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
                  <div class="select-menu-item-text">
                    <input checked="checked" id="do_included" name="do" type="radio" value="included" />
                    <span class="select-menu-item-heading">Not watching</span>
                    <span class="description">Be notified when participating or @mentioned.</span>
                    <span class="js-select-button-text hidden-select-button-text">
                      <svg aria-hidden="true" class="octicon octicon-eye" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"/></svg>
                      Watch
                    </span>
                  </div>
                </div>

                <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
                  <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
                  <div class="select-menu-item-text">
                    <input id="do_subscribed" name="do" type="radio" value="subscribed" />
                    <span class="select-menu-item-heading">Watching</span>
                    <span class="description">Be notified of all conversations.</span>
                    <span class="js-select-button-text hidden-select-button-text">
                      <svg aria-hidden="true" class="octicon octicon-eye" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"/></svg>
                        Unwatch
                    </span>
                  </div>
                </div>

                <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
                  <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
                  <div class="select-menu-item-text">
                    <input id="do_ignore" name="do" type="radio" value="ignore" />
                    <span class="select-menu-item-heading">Ignoring</span>
                    <span class="description">Never be notified.</span>
                    <span class="js-select-button-text hidden-select-button-text">
                      <svg aria-hidden="true" class="octicon octicon-mute" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8 2.81v10.38c0 .67-.81 1-1.28.53L3 10H1c-.55 0-1-.45-1-1V7c0-.55.45-1 1-1h2l3.72-3.72C7.19 1.81 8 2.14 8 2.81zm7.53 3.22l-1.06-1.06-1.97 1.97-1.97-1.97-1.06 1.06L11.44 8 9.47 9.97l1.06 1.06 1.97-1.97 1.97 1.97 1.06-1.06L13.56 8l1.97-1.97z"/></svg>
                        Stop ignoring
                    </span>
                  </div>
                </div>

              </div>

            </div>
          </div>
        </div>
</form>
  </li>

  <li>
    
  <div class="js-toggler-container js-social-container starring-container ">
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/Justineo/vue-echarts/unstar" class="starred js-social-form" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="W40XiQTKGnwjjsFP8mG/VMitumabcWIe68i0SQ5z9xXRDp8RkdX8JUQOKFhIoONNAPQBxg1KSqZ4l/q6akDyYw==" /></div>
      <input type="hidden" name="context" value="repository"></input>
      <button
        type="submit"
        class="btn btn-sm btn-with-count js-toggler-target"
        aria-label="Unstar this repository" title="Unstar Justineo/vue-echarts"
        data-ga-click="Repository, click unstar button, action:blob#show; text:Unstar">
        <svg aria-hidden="true" class="octicon octicon-star" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74z"/></svg>
        Unstar
      </button>
        <a class="social-count js-social-count" href="/Justineo/vue-echarts/stargazers"
           aria-label="1300 users starred this repository">
          1,300
        </a>
</form>
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/Justineo/vue-echarts/star" class="unstarred js-social-form" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="81oG5wb+wJgX64WoaF3m5PQRR8dKkM064QjlJR2RolRLEo4TQbMyDE2YWUWB3jJbEURgmJLPx1jw8CEUKJWWrQ==" /></div>
      <input type="hidden" name="context" value="repository"></input>
      <button
        type="submit"
        class="btn btn-sm btn-with-count js-toggler-target"
        aria-label="Star this repository" title="Star Justineo/vue-echarts"
        data-ga-click="Repository, click star button, action:blob#show; text:Star">
        <svg aria-hidden="true" class="octicon octicon-star" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74z"/></svg>
        Star
      </button>
        <a class="social-count js-social-count" href="/Justineo/vue-echarts/stargazers"
           aria-label="1300 users starred this repository">
          1,300
        </a>
</form>  </div>

  </li>

  <li>
          <a href="#fork-destination-box" class="btn btn-sm btn-with-count"
              title="Fork your own copy of Justineo/vue-echarts to your account"
              aria-label="Fork your own copy of Justineo/vue-echarts to your account"
              rel="facebox"
              data-ga-click="Repository, show fork modal, action:blob#show; text:Fork">
              <svg aria-hidden="true" class="octicon octicon-repo-forked" height="16" version="1.1" viewBox="0 0 10 16" width="10"><path fill-rule="evenodd" d="M8 1a1.993 1.993 0 0 0-1 3.72V6L5 8 3 6V4.72A1.993 1.993 0 0 0 2 1a1.993 1.993 0 0 0-1 3.72V6.5l3 3v1.78A1.993 1.993 0 0 0 5 15a1.993 1.993 0 0 0 1-3.72V9.5l3-3V4.72A1.993 1.993 0 0 0 8 1zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3 10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3-10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"/></svg>
            Fork
          </a>

          <div id="fork-destination-box" style="display: none;">
            <h2 class="facebox-header" data-facebox-id="facebox-header">Where should we fork this repository?</h2>
            <include-fragment src=""
                class="js-fork-select-fragment fork-select-fragment"
                data-url="/Justineo/vue-echarts/fork?fragment=1">
              <img alt="Loading" height="64" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-128.gif" width="64" />
            </include-fragment>
          </div>

    <a href="/Justineo/vue-echarts/network" class="social-count"
       aria-label="239 users forked this repository">
      239
    </a>
  </li>
</ul>

      <h1 class="public ">
  <svg aria-hidden="true" class="octicon octicon-repo" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"/></svg>
  <span class="author" itemprop="author"><a href="/Justineo" class="url fn" rel="author">Justineo</a></span><!--
--><span class="path-divider">/</span><!--
--><strong itemprop="name"><a href="/Justineo/vue-echarts" data-pjax="#js-repo-pjax-container">vue-echarts</a></strong>

</h1>

    </div>
    
<nav class="reponav js-repo-nav js-sidenav-container-pjax container"
     itemscope
     itemtype="http://schema.org/BreadcrumbList"
     role="navigation"
     data-pjax="#js-repo-pjax-container">

  <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a href="/Justineo/vue-echarts" class="js-selected-navigation-item selected reponav-item" data-hotkey="g c" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages /Justineo/vue-echarts" itemprop="url">
      <svg aria-hidden="true" class="octicon octicon-code" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"/></svg>
      <span itemprop="name">Code</span>
      <meta itemprop="position" content="1">
</a>  </span>

    <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
      <a href="/Justineo/vue-echarts/issues" class="js-selected-navigation-item reponav-item" data-hotkey="g i" data-selected-links="repo_issues repo_labels repo_milestones /Justineo/vue-echarts/issues" itemprop="url">
        <svg aria-hidden="true" class="octicon octicon-issue-opened" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg>
        <span itemprop="name">Issues</span>
        <span class="Counter">3</span>
        <meta itemprop="position" content="2">
</a>    </span>

  <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a href="/Justineo/vue-echarts/pulls" class="js-selected-navigation-item reponav-item" data-hotkey="g p" data-selected-links="repo_pulls /Justineo/vue-echarts/pulls" itemprop="url">
      <svg aria-hidden="true" class="octicon octicon-git-pull-request" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"/></svg>
      <span itemprop="name">Pull requests</span>
      <span class="Counter">1</span>
      <meta itemprop="position" content="3">
</a>  </span>

    <a href="/Justineo/vue-echarts/projects" class="js-selected-navigation-item reponav-item" data-hotkey="g b" data-selected-links="repo_projects new_repo_project repo_project /Justineo/vue-echarts/projects">
      <svg aria-hidden="true" class="octicon octicon-project" height="16" version="1.1" viewBox="0 0 15 16" width="15"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"/></svg>
      Projects
      <span class="Counter" >0</span>
</a>
    <a href="/Justineo/vue-echarts/wiki" class="js-selected-navigation-item reponav-item" data-hotkey="g w" data-selected-links="repo_wiki /Justineo/vue-echarts/wiki">
      <svg aria-hidden="true" class="octicon octicon-book" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M3 5h4v1H3V5zm0 3h4V7H3v1zm0 2h4V9H3v1zm11-5h-4v1h4V5zm0 2h-4v1h4V7zm0 2h-4v1h4V9zm2-6v9c0 .55-.45 1-1 1H9.5l-1 1-1-1H2c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h5.5l1 1 1-1H15c.55 0 1 .45 1 1zm-8 .5L7.5 3H2v9h6V3.5zm7-.5H9.5l-.5.5V12h6V3z"/></svg>
      Wiki
</a>

  <a href="/Justineo/vue-echarts/pulse" class="js-selected-navigation-item reponav-item" data-selected-links="repo_graphs repo_contributors dependency_graph pulse /Justineo/vue-echarts/pulse">
    <svg aria-hidden="true" class="octicon octicon-graph" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M16 14v1H0V0h1v14h15zM5 13H3V8h2v5zm4 0H7V3h2v10zm4 0h-2V6h2v7z"/></svg>
    Insights
</a>

</nav>


  </div>

<div class="container new-discussion-timeline experiment-repo-nav ">
  <div class="repository-content ">

    
  <a href="/Justineo/vue-echarts/blob/18aff090320b6543a410887668ef4b9c2a98fc0e/dist/vue-echarts.js" class="d-none js-permalink-shortcut" data-hotkey="y">Permalink</a>

  <!-- blob contrib key: blob_contributors:v21:932bcfa3de1a2307fef7bd62e73bc906 -->

  <div class="file-navigation js-zeroclipboard-container">
    
<div class="select-menu branch-select-menu js-menu-container js-select-menu float-left">
  <button class=" btn btn-sm select-menu-button js-menu-target css-truncate" data-hotkey="w"
    
    type="button" aria-label="Switch branches or tags" aria-expanded="false" aria-haspopup="true">
      <i>Branch:</i>
      <span class="js-select-button css-truncate-target">master</span>
  </button>

  <div class="select-menu-modal-holder js-menu-content js-navigation-container" data-pjax>

    <div class="select-menu-modal">
      <div class="select-menu-header">
        <svg aria-label="Close" class="octicon octicon-x js-menu-close" height="16" role="img" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"/></svg>
        <span class="select-menu-title">Switch branches/tags</span>
      </div>

      <div class="select-menu-filters">
        <div class="select-menu-text-filter">
          <input type="text" aria-label="Filter branches/tags" id="context-commitish-filter-field" class="form-control js-filterable-field js-navigation-enable" placeholder="Filter branches/tags">
        </div>
        <div class="select-menu-tabs">
          <ul>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="branches" data-filter-placeholder="Filter branches/tags" class="js-select-menu-tab" role="tab">Branches</a>
            </li>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="tags" data-filter-placeholder="Find a tagâ¦" class="js-select-menu-tab" role="tab">Tags</a>
            </li>
          </ul>
        </div>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="branches" role="menu">

        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <a class="select-menu-item js-navigation-item js-navigation-open selected"
               href="/Justineo/vue-echarts/blob/master/dist/vue-echarts.js"
               data-name="master"
               data-skip-pjax="true"
               rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target js-select-menu-filter-text">
                master
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
               href="/Justineo/vue-echarts/blob/vue-1.x/dist/vue-echarts.js"
               data-name="vue-1.x"
               data-skip-pjax="true"
               rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target js-select-menu-filter-text">
                vue-1.x
              </span>
            </a>
        </div>

          <div class="select-menu-no-results">Nothing to show</div>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="tags">
        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


        </div>

        <div class="select-menu-no-results">Nothing to show</div>
      </div>

    </div>
  </div>
</div>

    <div class="BtnGroup float-right">
      <a href="/Justineo/vue-echarts/find/master"
            class="js-pjax-capture-input btn btn-sm BtnGroup-item"
            data-pjax
            data-hotkey="t">
        Find file
      </a>
      <button aria-label="Copy file path to clipboard" class="js-zeroclipboard btn btn-sm BtnGroup-item tooltipped tooltipped-s" data-copied-hint="Copied!" type="button">Copy path</button>
    </div>
    <div class="breadcrumb js-zeroclipboard-target">
      <span class="repo-root js-repo-root"><span class="js-path-segment"><a href="/Justineo/vue-echarts"><span>vue-echarts</span></a></span></span><span class="separator">/</span><span class="js-path-segment"><a href="/Justineo/vue-echarts/tree/master/dist"><span>dist</span></a></span><span class="separator">/</span><strong class="final-path">vue-echarts.js</strong>
    </div>
  </div>


  
  <div class="commit-tease">
      <span class="float-right">
        <a class="commit-tease-sha" href="/Justineo/vue-echarts/commit/a831be0db6335be7b818720ef308de38cfc4dcdc" data-pjax>
          a831be0
        </a>
        <relative-time datetime="2017-12-18T07:32:28Z">Dec 18, 2017</relative-time>
      </span>
      <div>
        <img alt="@Justineo" class="avatar" height="20" src="https://avatars2.githubusercontent.com/u/1726061?s=40&amp;v=4" width="20" />
        <a href="/Justineo" class="user-mention" rel="author">Justineo</a>
          <a href="/Justineo/vue-echarts/commit/a831be0db6335be7b818720ef308de38cfc4dcdc" class="message" data-pjax="true" title="2.6.0">2.6.0</a>
      </div>

    <div class="commit-tease-contributors">
      <button type="button" class="btn-link muted-link contributors-toggle" data-facebox="#blob_contributors_box">
        <strong>2</strong>
         contributors
      </button>
          <a class="avatar-link tooltipped tooltipped-s" aria-label="Justineo" href="/Justineo/vue-echarts/commits/master/dist/vue-echarts.js?author=Justineo"><img alt="@Justineo" class="avatar" height="20" src="https://avatars2.githubusercontent.com/u/1726061?s=40&amp;v=4" width="20" /> </a>
    <a class="avatar-link tooltipped tooltipped-s" aria-label="soundtina" href="/Justineo/vue-echarts/commits/master/dist/vue-echarts.js?author=soundtina"><img alt="@soundtina" class="avatar" height="20" src="https://avatars1.githubusercontent.com/u/4946901?s=40&amp;v=4" width="20" /> </a>


    </div>

    <div id="blob_contributors_box" style="display:none">
      <h2 class="facebox-header" data-facebox-id="facebox-header">Users who have contributed to this file</h2>
      <ul class="facebox-user-list" data-facebox-id="facebox-description">
          <li class="facebox-user-list-item">
            <img alt="@Justineo" height="24" src="https://avatars3.githubusercontent.com/u/1726061?s=48&amp;v=4" width="24" />
            <a href="/Justineo">Justineo</a>
          </li>
          <li class="facebox-user-list-item">
            <img alt="@soundtina" height="24" src="https://avatars0.githubusercontent.com/u/4946901?s=48&amp;v=4" width="24" />
            <a href="/soundtina">soundtina</a>
          </li>
      </ul>
    </div>
  </div>


  <div class="file">
    <div class="file-header">
  <div class="file-actions">

    <div class="BtnGroup">
      <a href="/Justineo/vue-echarts/raw/master/dist/vue-echarts.js" class="btn btn-sm BtnGroup-item" id="raw-url">Raw</a>
        <a href="/Justineo/vue-echarts/blame/master/dist/vue-echarts.js" class="btn btn-sm js-update-url-with-hash BtnGroup-item" data-hotkey="b">Blame</a>
      <a href="/Justineo/vue-echarts/commits/master/dist/vue-echarts.js" class="btn btn-sm BtnGroup-item" rel="nofollow">History</a>
    </div>


          <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/Justineo/vue-echarts/edit/master/dist/vue-echarts.js" class="inline-form js-update-url-with-hash" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="foAi7hRBpJgrw7ejcKLeHlGm4AlR9h16P4WBRrgoMBL/axIy7pPbmRWGj44cIAHygKRWIuWMsjifJ02In2Hqzg==" /></div>
            <button class="btn-octicon tooltipped tooltipped-nw" type="submit"
              aria-label="Fork this project and edit the file" data-hotkey="e" data-disable-with>
              <svg aria-hidden="true" class="octicon octicon-pencil" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M0 12v3h3l8-8-3-3-8 8zm3 2H1v-2h1v1h1v1zm10.3-9.3L12 6 9 3l1.3-1.3a.996.996 0 0 1 1.41 0l1.59 1.59c.39.39.39 1.02 0 1.41z"/></svg>
            </button>
</form>
        <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/Justineo/vue-echarts/delete/master/dist/vue-echarts.js" class="inline-form" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="wNmdm0viNcdDaGAq1aRk2rkKIXZH3tBT1PzMAw066P8O7nybC/8jM+Wu7OfxFwnzqC9dkgKKBFXoIIErh6NDvQ==" /></div>
          <button class="btn-octicon btn-octicon-danger tooltipped tooltipped-nw" type="submit"
            aria-label="Fork this project and delete the file" data-disable-with>
            <svg aria-hidden="true" class="octicon octicon-trashcan" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M11 2H9c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1H2c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1v9c0 .55.45 1 1 1h7c.55 0 1-.45 1-1V5c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 12H3V5h1v8h1V5h1v8h1V5h1v8h1V5h1v9zm1-10H2V3h9v1z"/></svg>
          </button>
</form>  </div>

  <div class="file-info">
      1 lines (1 sloc)
      <span class="file-info-divider"></span>
    664 KB
  </div>
</div>

    

  <div itemprop="text" class="blob-wrapper data type-javascript">
      <table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tr>
        <td id="L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="LC1" class="blob-code blob-code-inner js-file-line">!function(t,e){&quot;object&quot;==typeof exports&amp;&amp;&quot;undefined&quot;!=typeof module?module.exports=e(require(&quot;vue&quot;)):&quot;function&quot;==typeof define&amp;&amp;define.amd?define([&quot;vue&quot;],e):t.VueECharts=e(t.Vue)}(this,function(t){&quot;use strict&quot;;function e(t,e){return e={exports:{}},t(e,e.exports),e.exports}function i(t){if(null==t||&quot;object&quot;!=typeof t)return t;var e=t,n=Ys.call(t);if(&quot;[object Array]&quot;===n){e=[];for(var a=0,o=t.length;a&lt;o;a++)e[a]=i(t[a])}else if(Xs[n]){var r=t.constructor;if(t.constructor.from)e=r.from(t);else{e=new r(t.length);for(var a=0,o=t.length;a&lt;o;a++)e[a]=i(t[a])}}else if(!qs[n]&amp;&amp;!c(t)&amp;&amp;!u(t)){e={};for(var s in t)t.hasOwnProperty(s)&amp;&amp;(e[s]=i(t[s]))}return e}function n(t,e,a){if(!l(e)||!l(t))return a?i(e):t;for(var o in e)if(e.hasOwnProperty(o)){var r=t[o],d=e[o];!l(d)||!l(r)||s(d)||s(r)||u(d)||u(r)||h(d)||h(r)||c(d)||c(r)?!a&amp;&amp;o in t||(t[o]=i(e[o])):n(r,d,a)}return t}function a(t,e,i){for(var n in e)e.hasOwnProperty(n)&amp;&amp;(i?null!=e[n]:null==t[n])&amp;&amp;(t[n]=e[n]);return t}function o(t,e,i){if(t&amp;&amp;e)if(t.forEach&amp;&amp;t.forEach===Ks)t.forEach(e,i);else if(t.length===+t.length)for(var n=0,a=t.length;n&lt;a;n++)e.call(i,t[n],n,t);else for(var o in t)t.hasOwnProperty(o)&amp;&amp;e.call(i,t[o],o,t)}function r(t,e){var i=Qs.call(arguments,2);return function(){return t.apply(e,i.concat(Qs.call(arguments)))}}function s(t){return&quot;[object Array]&quot;===Ys.call(t)}function l(t){var e=typeof t;return&quot;function&quot;===e||!!t&amp;&amp;&quot;object&quot;==e}function h(t){return!!qs[Ys.call(t)]}function u(t){return&quot;object&quot;==typeof t&amp;&amp;&quot;number&quot;==typeof t.nodeType&amp;&amp;&quot;object&quot;==typeof t.ownerDocument}function c(t){return t[ol]}function d(t){t&amp;&amp;o(t,function(t,e){this.set(e,t)},this)}function p(t){return Math.sqrt(f(t))}function f(t){return t[0]*t[0]+t[1]*t[1]}function g(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function m(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}function v(){this.on(&quot;mousedown&quot;,this._dragStart,this),this.on(&quot;mousemove&quot;,this._drag,this),this.on(&quot;mouseup&quot;,this._dragEnd,this),this.on(&quot;globalout&quot;,this._dragEnd,this)}function y(t,e){return{target:t,topTarget:e&amp;&amp;e.topTarget}}function x(){}function _(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function b(t){return t&gt;_l||t&lt;-_l}function w(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&amp;&amp;t.loop,this.gap=t.gap||0,this.easing=t.easing||&quot;Linear&quot;,this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}function S(t){return(t=Math.round(t))&lt;0?0:t&gt;255?255:t}function M(t){return t&lt;0?0:t&gt;1?1:t}function I(t){return S(t.length&amp;&amp;&quot;%&quot;===t.charAt(t.length-1)?parseFloat(t)/100*255:parseInt(t,10))}function T(t){return M(t.length&amp;&amp;&quot;%&quot;===t.charAt(t.length-1)?parseFloat(t)/100:parseFloat(t))}function A(t,e,i){return i&lt;0?i+=1:i&gt;1&amp;&amp;(i-=1),6*i&lt;1?t+(e-t)*i*6:2*i&lt;1?e:3*i&lt;2?t+(e-t)*(2/3-i)*6:t}function C(t,e,i){return t+(e-t)*i}function L(t,e,i,n,a){return t[0]=e,t[1]=i,t[2]=n,t[3]=a,t}function D(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function P(t,e){Rl&amp;&amp;D(Rl,e),Rl=El.put(t,Rl||e.slice())}function k(t,e){if(t){e=e||[];var i=El.get(t);if(i)return D(e,i);var n=(t+=&quot;&quot;).replace(/ /g,&quot;&quot;).toLowerCase();if(n in zl)return D(e,zl[n]),P(t,e),e;if(&quot;#&quot;!==n.charAt(0)){var a=n.indexOf(&quot;(&quot;),o=n.indexOf(&quot;)&quot;);if(-1!==a&amp;&amp;o+1===n.length){var r=n.substr(0,a),s=n.substr(a+1,o-(a+1)).split(&quot;,&quot;),l=1;switch(r){case&quot;rgba&quot;:if(4!==s.length)return void L(e,0,0,0,1);l=T(s.pop());case&quot;rgb&quot;:return 3!==s.length?void L(e,0,0,0,1):(L(e,I(s[0]),I(s[1]),I(s[2]),l),P(t,e),e);case&quot;hsla&quot;:return 4!==s.length?void L(e,0,0,0,1):(s[3]=T(s[3]),O(s,e),P(t,e),e);case&quot;hsl&quot;:return 3!==s.length?void L(e,0,0,0,1):(O(s,e),P(t,e),e);default:return}}L(e,0,0,0,1)}else{if(4===n.length){return(h=parseInt(n.substr(1),16))&gt;=0&amp;&amp;h&lt;=4095?(L(e,(3840&amp;h)&gt;&gt;4|(3840&amp;h)&gt;&gt;8,240&amp;h|(240&amp;h)&gt;&gt;4,15&amp;h|(15&amp;h)&lt;&lt;4,1),P(t,e),e):void L(e,0,0,0,1)}if(7===n.length){var h=parseInt(n.substr(1),16);return h&gt;=0&amp;&amp;h&lt;=16777215?(L(e,(16711680&amp;h)&gt;&gt;16,(65280&amp;h)&gt;&gt;8,255&amp;h,1),P(t,e),e):void L(e,0,0,0,1)}}}}function O(t,e){var i=(parseFloat(t[0])%360+360)%360/360,n=T(t[1]),a=T(t[2]),o=a&lt;=.5?a*(n+1):a+n-a*n,r=2*a-o;return e=e||[],L(e,S(255*A(r,o,i+1/3)),S(255*A(r,o,i)),S(255*A(r,o,i-1/3)),1),4===t.length&amp;&amp;(e[3]=t[3]),e}function z(t,e,i){if(e&amp;&amp;e.length&amp;&amp;t&gt;=0&amp;&amp;t&lt;=1){i=i||[];var n=t*(e.length-1),a=Math.floor(n),o=Math.ceil(n),r=e[a],s=e[o],l=n-a;return i[0]=S(C(r[0],s[0],l)),i[1]=S(C(r[1],s[1],l)),i[2]=S(C(r[2],s[2],l)),i[3]=M(C(r[3],s[3],l)),i}}function E(t,e,i){if(e&amp;&amp;e.length&amp;&amp;t&gt;=0&amp;&amp;t&lt;=1){var n=t*(e.length-1),a=Math.floor(n),o=Math.ceil(n),r=k(e[a]),s=k(e[o]),l=n-a,h=R([S(C(r[0],s[0],l)),S(C(r[1],s[1],l)),S(C(r[2],s[2],l)),M(C(r[3],s[3],l))],&quot;rgba&quot;);return i?{color:h,leftIndex:a,rightIndex:o,value:n}:h}}function R(t,e){if(t&amp;&amp;t.length){var i=t[0]+&quot;,&quot;+t[1]+&quot;,&quot;+t[2];return&quot;rgba&quot;!==e&amp;&amp;&quot;hsva&quot;!==e&amp;&amp;&quot;hsla&quot;!==e||(i+=&quot;,&quot;+t[3]),e+&quot;(&quot;+i+&quot;)&quot;}}function N(t,e,i){return(e-t)*i+t}function V(t,e,i){return i&gt;.5?e:t}function B(t,e,i,n,a){var o=t.length;if(1==a)for(s=0;s&lt;o;s++)n[s]=N(t[s],e[s],i);else for(var r=o&amp;&amp;t[0].length,s=0;s&lt;o;s++)for(var l=0;l&lt;r;l++)n[s][l]=N(t[s][l],e[s][l],i)}function G(t,e,i){var n=t.length,a=e.length;if(n!==a){if(n&gt;a)t.length=a;else for(r=n;r&lt;a;r++)t.push(1===i?e[r]:Bl.call(e[r]))}for(var o=t[0]&amp;&amp;t[0].length,r=0;r&lt;t.length;r++)if(1===i)isNaN(t[r])&amp;&amp;(t[r]=e[r]);else for(var s=0;s&lt;o;s++)isNaN(t[r][s])&amp;&amp;(t[r][s]=e[r][s])}function H(t,e,i,n,a,o,r,s,l){var h=t.length;if(1==l)for(c=0;c&lt;h;c++)s[c]=W(t[c],e[c],i[c],n[c],a,o,r);else for(var u=t[0].length,c=0;c&lt;h;c++)for(var d=0;d&lt;u;d++)s[c][d]=W(t[c][d],e[c][d],i[c][d],n[c][d],a,o,r)}function W(t,e,i,n,a,o,r){var s=.5*(i-t),l=.5*(n-e);return(2*(e-i)+s+l)*r+(-3*(e-i)-2*s-l)*o+s*a+e}function F(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),&quot;rgba(&quot;+t.join(&quot;,&quot;)+&quot;)&quot;}function Z(t,e,i,n){i&lt;0&amp;&amp;(t+=i,i=-i),n&lt;0&amp;&amp;(e+=n,n=-n),this.x=t,this.y=e,this.width=i,this.height=n}function j(t,e,i,n){var a=e+1;if(a===i)return 1;if(n(t[a++],t[e])&lt;0){for(;a&lt;i&amp;&amp;n(t[a],t[a-1])&lt;0;)a++;!function(t,e,i){i--;for(;e&lt;i;){var n=t[e];t[e++]=t[i],t[i--]=n}}(t,e,a)}else for(;a&lt;i&amp;&amp;n(t[a],t[a-1])&gt;=0;)a++;return a-e}function U(t,e,i,n,a){for(n===e&amp;&amp;n++;n&lt;i;n++){for(var o,r=t[n],s=e,l=n;s&lt;l;)a(r,t[o=s+l&gt;&gt;&gt;1])&lt;0?l=o:s=o+1;var h=n-s;switch(h){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;h&gt;0;)t[s+h]=t[s+h-1],h--}t[s]=r}}function q(t,e,i,n,a,o){var r=0,s=0,l=1;if(o(t,e[i+a])&gt;0){for(s=n-a;l&lt;s&amp;&amp;o(t,e[i+a+l])&gt;0;)r=l,(l=1+(l&lt;&lt;1))&lt;=0&amp;&amp;(l=s);l&gt;s&amp;&amp;(l=s),r+=a,l+=a}else{for(s=a+1;l&lt;s&amp;&amp;o(t,e[i+a-l])&lt;=0;)r=l,(l=1+(l&lt;&lt;1))&lt;=0&amp;&amp;(l=s);l&gt;s&amp;&amp;(l=s);var h=r;r=a-l,l=a-h}for(r++;r&lt;l;){var u=r+(l-r&gt;&gt;&gt;1);o(t,e[i+u])&gt;0?r=u+1:l=u}return l}function X(t,e,i,n,a,o){var r=0,s=0,l=1;if(o(t,e[i+a])&lt;0){for(s=a+1;l&lt;s&amp;&amp;o(t,e[i+a-l])&lt;0;)r=l,(l=1+(l&lt;&lt;1))&lt;=0&amp;&amp;(l=s);l&gt;s&amp;&amp;(l=s);var h=r;r=a-l,l=a-h}else{for(s=n-a;l&lt;s&amp;&amp;o(t,e[i+a+l])&gt;=0;)r=l,(l=1+(l&lt;&lt;1))&lt;=0&amp;&amp;(l=s);l&gt;s&amp;&amp;(l=s),r+=a,l+=a}for(r++;r&lt;l;){var u=r+(l-r&gt;&gt;&gt;1);o(t,e[i+u])&lt;0?l=u:r=u+1}return l}function Y(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}function $(t,e,i){var n=rl.createCanvas(),a=e.getWidth(),o=e.getHeight(),r=n.style;return r.position=&quot;absolute&quot;,r.left=0,r.top=0,r.width=a+&quot;px&quot;,r.height=o+&quot;px&quot;,n.width=a*i,n.height=o*i,n.setAttribute(&quot;data-zr-dom-id&quot;,t),n}function K(t){return t&amp;&amp;t.width&amp;&amp;t.height}function J(t,e){var i=t+&quot;:&quot;+(e=e||Eh);if(Ph[i])return Ph[i];for(var n=(t+&quot;&quot;).split(&quot;\n&quot;),a=0,o=0,r=n.length;o&lt;r;o++)a=Math.max(ot(n[o],e).width,a);return kh&gt;Oh&amp;&amp;(kh=0,Ph={}),kh++,Ph[i]=a,a}function Q(t,e,i){return&quot;right&quot;===i?t-=e:&quot;center&quot;===i&amp;&amp;(t-=e/2),t}function tt(t,e,i){return&quot;middle&quot;===i?t-=e/2:&quot;bottom&quot;===i&amp;&amp;(t-=e),t}function et(t,e,i,n,a){if(!e)return&quot;&quot;;var o=(t+&quot;&quot;).split(&quot;\n&quot;);a=it(e,i,n,a);for(var r=0,s=o.length;r&lt;s;r++)o[r]=nt(o[r],a);return o.join(&quot;\n&quot;)}function it(t,e,i,n){(n=Ch({},n)).font=e;i=Lh(i,&quot;...&quot;);n.maxIterations=Lh(n.maxIterations,2);var a=n.minChar=Lh(n.minChar,0);n.cnCharWidth=J(&quot;å½&quot;,e);var o=n.ascCharWidth=J(&quot;a&quot;,e);n.placeholder=Lh(n.placeholder,&quot;&quot;);for(var r=t=Math.max(0,t-1),s=0;s&lt;a&amp;&amp;r&gt;=o;s++)r-=o;var l=J(i);return l&gt;r&amp;&amp;(i=&quot;&quot;,l=0),r=t-l,n.ellipsis=i,n.ellipsisWidth=l,n.contentWidth=r,n.containerWidth=t,n}function nt(t,e){var i=e.containerWidth,n=e.font,a=e.contentWidth;if(!i)return&quot;&quot;;var o=J(t,n);if(o&lt;=i)return t;for(var r=0;;r++){if(o&lt;=a||r&gt;=e.maxIterations){t+=e.ellipsis;break}var s=0===r?function(t,e,i,n){for(var a=0,o=0,r=t.length;o&lt;r&amp;&amp;a&lt;e;o++){var s=t.charCodeAt(o);a+=0&lt;=s&amp;&amp;s&lt;=127?i:n}return o}(t,a,e.ascCharWidth,e.cnCharWidth):o&gt;0?Math.floor(t.length*a/o):0;o=J(t=t.substr(0,s),n)}return&quot;&quot;===t&amp;&amp;(t=e.placeholder),t}function at(t){return J(&quot;å½&quot;,t)}function ot(t,e){return Rh.measureText(t,e)}function rt(t,e,i,n){null!=t&amp;&amp;(t+=&quot;&quot;);var a=at(e),o=t?t.split(&quot;\n&quot;):[],r=o.length*a,s=r;if(i&amp;&amp;(s+=i[0]+i[2]),t&amp;&amp;n){var l=n.outerHeight,h=n.outerWidth;if(null!=l&amp;&amp;s&gt;l)t=&quot;&quot;,o=[];else if(null!=h)for(var u=it(h-(i?i[1]+i[3]:0),e,n.ellipsis,{minChar:n.minChar,placeholder:n.placeholder}),c=0,d=o.length;c&lt;d;c++)o[c]=nt(o[c],u)}return{lines:o,height:r,outerHeight:s,lineHeight:a}}function st(t,e){var i={lines:[],width:0,height:0};if(null!=t&amp;&amp;(t+=&quot;&quot;),!t)return i;for(var n,a=zh.lastIndex=0;null!=(n=zh.exec(t));){var o=n.index;o&gt;a&amp;&amp;lt(i,t.substring(a,o)),lt(i,n[2],n[1]),a=zh.lastIndex}a&lt;t.length&amp;&amp;lt(i,t.substring(a,t.length));var r=i.lines,s=0,l=0,h=[],u=e.textPadding,c=e.truncate,d=c&amp;&amp;c.outerWidth,p=c&amp;&amp;c.outerHeight;u&amp;&amp;(null!=d&amp;&amp;(d-=u[1]+u[3]),null!=p&amp;&amp;(p-=u[0]+u[2]));for(C=0;C&lt;r.length;C++){for(var f=r[C],g=0,m=0,v=0;v&lt;f.tokens.length;v++){var y=(L=f.tokens[v]).styleName&amp;&amp;e.rich[L.styleName]||{},x=L.textPadding=y.textPadding,_=L.font=y.font||e.font,b=L.textHeight=Lh(y.textHeight,at(_));if(x&amp;&amp;(b+=x[0]+x[2]),L.height=b,L.lineHeight=Dh(y.textLineHeight,e.textLineHeight,b),L.textAlign=y&amp;&amp;y.textAlign||e.textAlign,L.textVerticalAlign=y&amp;&amp;y.textVerticalAlign||&quot;middle&quot;,null!=p&amp;&amp;s+L.lineHeight&gt;p)return{lines:[],width:0,height:0};L.textWidth=J(L.text,_);var w=y.textWidth,S=null==w||&quot;auto&quot;===w;if(&quot;string&quot;==typeof w&amp;&amp;&quot;%&quot;===w.charAt(w.length-1))L.percentWidth=w,h.push(L),w=0;else{if(S){w=L.textWidth;var M=y.textBackgroundColor,I=M&amp;&amp;M.image;I&amp;&amp;(I=Th.findExistImage(I),Th.isImageReady(I)&amp;&amp;(w=Math.max(w,I.width*b/I.height)))}var T=x?x[1]+x[3]:0;w+=T;var A=null!=d?d-m:null;null!=A&amp;&amp;A&lt;w&amp;&amp;(!S||A&lt;T?(L.text=&quot;&quot;,L.textWidth=w=0):(L.text=et(L.text,A-T,_,c.ellipsis,{minChar:c.minChar}),L.textWidth=J(L.text,_),w=L.textWidth+T))}m+=L.width=w,y&amp;&amp;(g=Math.max(g,L.lineHeight))}f.width=m,f.lineHeight=g,s+=g,l=Math.max(l,m)}i.outerWidth=i.width=Lh(e.textWidth,l),i.outerHeight=i.height=Lh(e.textHeight,s),u&amp;&amp;(i.outerWidth+=u[1]+u[3],i.outerHeight+=u[0]+u[2]);for(var C=0;C&lt;h.length;C++){var L=h[C],D=L.percentWidth;L.width=parseInt(D,10)/100*l}return i}function lt(t,e,i){for(var n=&quot;&quot;===e,a=e.split(&quot;\n&quot;),o=t.lines,r=0;r&lt;a.length;r++){var s=a[r],l={styleName:i,text:s,isLineHolder:!s&amp;&amp;!n};if(r)o.push({tokens:[l]});else{var h=(o[o.length-1]||(o[0]={tokens:[]})).tokens,u=h.length;1===u&amp;&amp;h[0].isLineHolder?h[0]=l:(s||!u||n)&amp;&amp;h.push(l)}}}function ht(t){if(t){t.font=Nh.makeFont(t);var e=t.textAlign;&quot;middle&quot;===e&amp;&amp;(e=&quot;center&quot;),t.textAlign=null==e||jh[e]?e:&quot;left&quot;;var i=t.textVerticalAlign||t.textBaseline;&quot;center&quot;===i&amp;&amp;(i=&quot;middle&quot;),t.textVerticalAlign=null==i||Uh[i]?i:&quot;top&quot;;t.textPadding&amp;&amp;(t.textPadding=Wh(t.textPadding))}}function ut(t,e,i,n,a){if(i&amp;&amp;e.textRotation){var o=e.textOrigin;&quot;center&quot;===o?(n=i.width/2+i.x,a=i.height/2+i.y):o&amp;&amp;(n=o[0]+i.x,a=o[1]+i.y),t.translate(n,a),t.rotate(-e.textRotation),t.translate(-n,-a)}}function ct(t,e,i,n,a,o,r,s){var l=n.rich[i.styleName]||{},h=i.textVerticalAlign,u=o+a/2;&quot;top&quot;===h?u=o+i.height/2:&quot;bottom&quot;===h&amp;&amp;(u=o+a-i.height/2),!i.isLineHolder&amp;&amp;dt(l)&amp;&amp;pt(t,e,l,&quot;right&quot;===s?r-i.width:&quot;center&quot;===s?r-i.width/2:r,u-i.height/2,i.width,i.height);var c=i.textPadding;c&amp;&amp;(r=xt(r,s,c),u-=i.height/2-c[2]-i.textHeight/2),gt(e,&quot;shadowBlur&quot;,Gh(l.textShadowBlur,n.textShadowBlur,0)),gt(e,&quot;shadowColor&quot;,l.textShadowColor||n.textShadowColor||&quot;transparent&quot;),gt(e,&quot;shadowOffsetX&quot;,Gh(l.textShadowOffsetX,n.textShadowOffsetX,0)),gt(e,&quot;shadowOffsetY&quot;,Gh(l.textShadowOffsetY,n.textShadowOffsetY,0)),gt(e,&quot;textAlign&quot;,s),gt(e,&quot;textBaseline&quot;,&quot;middle&quot;),gt(e,&quot;font&quot;,i.font||Nh.DEFAULT_FONT);var d=mt(l.textStroke||n.textStroke,f),p=vt(l.textFill||n.textFill),f=Bh(l.textStrokeWidth,n.textStrokeWidth);d&amp;&amp;(gt(e,&quot;lineWidth&quot;,f),gt(e,&quot;strokeStyle&quot;,d),e.strokeText(i.text,r,u)),p&amp;&amp;(gt(e,&quot;fillStyle&quot;,p),e.fillText(i.text,r,u))}function dt(t){return t.textBackgroundColor||t.textBorderWidth&amp;&amp;t.textBorderColor}function pt(t,e,i,n,a,o,r){var s=i.textBackgroundColor,l=i.textBorderWidth,h=i.textBorderColor,u=Fh(s);if(gt(e,&quot;shadowBlur&quot;,i.textBoxShadowBlur||0),gt(e,&quot;shadowColor&quot;,i.textBoxShadowColor||&quot;transparent&quot;),gt(e,&quot;shadowOffsetX&quot;,i.textBoxShadowOffsetX||0),gt(e,&quot;shadowOffsetY&quot;,i.textBoxShadowOffsetY||0),u||l&amp;&amp;h){e.beginPath();var c=i.textBorderRadius;c?Vh.buildPath(e,{x:n,y:a,width:o,height:r,r:c}):e.rect(n,a,o,r),e.closePath()}if(u)gt(e,&quot;fillStyle&quot;,s),e.fill();else if(Zh(s)){var d=s.image;(d=Th.createOrUpdateImage(d,null,t,function(t,e){e.image=t},s))&amp;&amp;Th.isImageReady(d)&amp;&amp;e.drawImage(d,n,a,o,r)}l&amp;&amp;h&amp;&amp;(gt(e,&quot;lineWidth&quot;,l),gt(e,&quot;strokeStyle&quot;,h),e.stroke())}function ft(t,e,i){var n=e.x||0,a=e.y||0,o=e.textAlign,r=e.textVerticalAlign;if(i){var s=e.textPosition;if(s instanceof Array)n=i.x+yt(s[0],i.width),a=i.y+yt(s[1],i.height);else{var l=Nh.adjustTextPositionOnRect(s,i,e.textDistance);n=l.x,a=l.y,o=o||l.textAlign,r=r||l.textVerticalAlign}var h=e.textOffset;h&amp;&amp;(n+=h[0],a+=h[1])}return{baseX:n,baseY:a,textAlign:o,textVerticalAlign:r}}function gt(t,e,i){return t[e]=i,t[e]}function mt(t,e){return null==t||e&lt;=0||&quot;transparent&quot;===t||&quot;none&quot;===t?null:t.image||t.colorStops?&quot;#000&quot;:t}function vt(t){return null==t||&quot;none&quot;===t?null:t.image||t.colorStops?&quot;#000&quot;:t}function yt(t,e){return&quot;string&quot;==typeof t?t.lastIndexOf(&quot;%&quot;)&gt;=0?parseFloat(t)/100*e:parseFloat(t):t}function xt(t,e,i){return&quot;right&quot;===e?t-i[1]:&quot;center&quot;===e?t+i[3]/2-i[1]/2:t+i[3]}function _t(t){t=t||{},eh.call(this,t);for(var e in t)t.hasOwnProperty(e)&amp;&amp;&quot;style&quot;!==e&amp;&amp;(this[e]=t[e]);this.style=new yh(t.style,this),this._rect=null,this.__clipPaths=[]}function bt(t){Kh.call(this,t)}function wt(t){return parseInt(t,10)}function St(t,e,i,n){return i=i||{},n||!Us.canvasSupported?Mt(t,e,i):Us.browser.firefox&amp;&amp;null!=e.layerX&amp;&amp;e.layerX!==e.offsetX?(i.zrX=e.layerX,i.zrY=e.layerY):null!=e.offsetX?(i.zrX=e.offsetX,i.zrY=e.offsetY):Mt(t,e,i),i}function Mt(t,e,i){var n=function(t){return t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0}}(t);i.zrX=e.clientX-n.left,i.zrY=e.clientY-n.top}function It(t){var e=t[1][0]-t[0][0],i=t[1][1]-t[0][1];return Math.sqrt(e*e+i*i)}function Tt(t){return&quot;mousewheel&quot;===t&amp;&amp;Us.browser.firefox?&quot;DOMMouseScroll&quot;:t}function At(t,e,i){var n=t._gestureMgr;&quot;start&quot;===i&amp;&amp;n.clear();var a=n.recognize(e,t.handler.findHover(e.zrX,e.zrY,null).target,t.dom);if(&quot;end&quot;===i&amp;&amp;n.clear(),a){var o=a.type;e.gestureEvent=o,t.handler.dispatchToElement({target:a.target},o,a.event)}}function Ct(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout(function(){t._touching=!1},700)}function Lt(t){var e=t.pointerType;return&quot;pen&quot;===e||&quot;touch&quot;===e}function Dt(t){function e(e,i){rl.each(e,function(e){fu(t,Tt(e),i._handlers[e])},i)}dl.call(this),this.dom=t,this._touching=!1,this._touchTimer,this._gestureMgr=new pu,this._handlers={},function(t){rl.each(yu,function(e){t._handlers[e]=rl.bind(bu[e],t)}),rl.each(_u,function(e){t._handlers[e]=rl.bind(bu[e],t)}),rl.each(vu,function(e){t._handlers[e]=function(t,e){return function(){if(!e._touching)return t.apply(e,arguments)}}(bu[e],t)})}(this),Us.pointerEventsSupported?e(_u,this):(Us.touchEventsSupported&amp;&amp;e(yu,this),e(vu,this))}function Pt(t){return Math.floor(Math.log(t)/Math.LN10)}function kt(t){return String(t).replace(/&amp;/g,&quot;&amp;amp;&quot;).replace(/&lt;/g,&quot;&amp;lt;&quot;).replace(/&gt;/g,&quot;&amp;gt;&quot;).replace(/&quot;/g,&quot;&amp;quot;&quot;).replace(/&#39;/g,&quot;&amp;#39;&quot;)}function Ot(t){var e={main:&quot;&quot;,sub:&quot;&quot;};return t&amp;&amp;(t=t.split(Ru),e.main=t[0]||&quot;&quot;,e.sub=t[1]||&quot;&quot;),e}function zt(t){return t&gt;-Yu&amp;&amp;t&lt;Yu}function Et(t){return t&gt;Yu||t&lt;-Yu}function Rt(t,e,i,n,a){var o=1-a;return o*o*(o*t+3*a*e)+a*a*(a*n+3*o*i)}function Nt(t,e,i,n){var a=1-n;return a*(a*t+2*n*e)+n*n*i}function Vt(t,e,i,n,a){for(var o=0,r=0,s=0,l=0,h=0,u=0;u&lt;t.length;){var c=t[u++];switch(c===Gc.M&amp;&amp;u&gt;1&amp;&amp;(i||(o+=Vc(r,s,l,h,n,a))),1==u&amp;&amp;(l=r=t[u],h=s=t[u+1]),c){case Gc.M:r=l=t[u++],s=h=t[u++];break;case Gc.L:if(i){if(Lc.containStroke(r,s,t[u],t[u+1],e,n,a))return!0}else o+=Vc(r,s,t[u],t[u+1],n,a)||0;r=t[u++],s=t[u++];break;case Gc.C:if(i){if(Dc.containStroke(r,s,t[u++],t[u++],t[u++],t[u++],t[u],t[u+1],e,n,a))return!0}else o+=function(t,e,i,n,a,o,r,s,l,h){if(h&gt;e&amp;&amp;h&gt;n&amp;&amp;h&gt;o&amp;&amp;h&gt;s||h&lt;e&amp;&amp;h&lt;n&amp;&amp;h&lt;o&amp;&amp;h&lt;s)return 0;var u=ic.cubicRootAt(e,n,o,s,h,Fc);if(0===u)return 0;for(var c,d,p=0,f=-1,g=0;g&lt;u;g++){var m=Fc[g],v=0===m||1===m?.5:1;ic.cubicAt(t,i,a,r,m)&lt;l||(f&lt;0&amp;&amp;(f=ic.cubicExtrema(e,n,o,s,Zc),Zc[1]&lt;Zc[0]&amp;&amp;f&gt;1&amp;&amp;function(){var t=Zc[0];Zc[0]=Zc[1],Zc[1]=t}(),c=ic.cubicAt(e,n,o,s,Zc[0]),f&gt;1&amp;&amp;(d=ic.cubicAt(e,n,o,s,Zc[1]))),2==f?m&lt;Zc[0]?p+=c&lt;e?v:-v:m&lt;Zc[1]?p+=d&lt;c?v:-v:p+=s&lt;d?v:-v:m&lt;Zc[0]?p+=c&lt;e?v:-v:p+=s&lt;c?v:-v)}return p}(r,s,t[u++],t[u++],t[u++],t[u++],t[u],t[u+1],n,a)||0;r=t[u++],s=t[u++];break;case Gc.Q:if(i){if(kc.containStroke(r,s,t[u++],t[u++],t[u],t[u+1],e,n,a))return!0}else o+=function(t,e,i,n,a,o,r,s){if(s&gt;e&amp;&amp;s&gt;n&amp;&amp;s&gt;o||s&lt;e&amp;&amp;s&lt;n&amp;&amp;s&lt;o)return 0;var l=ic.quadraticRootAt(e,n,o,s,Fc);if(0===l)return 0;var h=ic.quadraticExtremum(e,n,o);if(h&gt;=0&amp;&amp;h&lt;=1){for(var u=0,c=ic.quadraticAt(e,n,o,h),d=0;d&lt;l;d++)p=0===Fc[d]||1===Fc[d]?.5:1,(f=ic.quadraticAt(t,i,a,Fc[d]))&lt;r||(Fc[d]&lt;h?u+=c&lt;e?p:-p:u+=o&lt;c?p:-p);return u}var p=0===Fc[0]||1===Fc[0]?.5:1,f=ic.quadraticAt(t,i,a,Fc[0]);return f&lt;r?0:o&lt;e?p:-p}(r,s,t[u++],t[u++],t[u],t[u+1],n,a)||0;r=t[u++],s=t[u++];break;case Gc.A:var d=t[u++],p=t[u++],f=t[u++],g=t[u++],m=t[u++],v=t[u++],y=(t[u++],1-t[u++]),x=Math.cos(m)*f+d,_=Math.sin(m)*g+p;u&gt;1?o+=Vc(r,s,x,_,n,a):(l=x,h=_);var b=(n-d)*g/f+d;if(i){if(Nc.containStroke(d,p,g,m,m+v,y,e,b,a))return!0}else o+=function(t,e,i,n,a,o,r,s){if((s-=e)&gt;i||s&lt;-i)return 0;h=Math.sqrt(i*i-s*s),Fc[0]=-h,Fc[1]=h;var l=Math.abs(n-a);if(l&lt;1e-4)return 0;if(l%Hc&lt;1e-4)return n=0,a=Hc,f=o?1:-1,r&gt;=Fc[0]+t&amp;&amp;r&lt;=Fc[1]+t?f:0;if(o){var h=n;n=Bc(a),a=Bc(h)}else n=Bc(n),a=Bc(a);n&gt;a&amp;&amp;(a+=Hc);for(var u=0,c=0;c&lt;2;c++){var d=Fc[c];if(d+t&gt;r){var p=Math.atan2(s,d),f=o?1:-1;p&lt;0&amp;&amp;(p=Hc+p),(p&gt;=n&amp;&amp;p&lt;=a||p+Hc&gt;=n&amp;&amp;p+Hc&lt;=a)&amp;&amp;(p&gt;Math.PI/2&amp;&amp;p&lt;1.5*Math.PI&amp;&amp;(f=-f),u+=f)}}return u}(d,p,g,m,m+v,y,b,a);r=Math.cos(m+v)*f+d,s=Math.sin(m+v)*g+p;break;case Gc.R:l=r=t[u++],h=s=t[u++];var x=l+t[u++],_=h+t[u++];if(i){if(Lc.containStroke(l,h,x,h,e,n,a)||Lc.containStroke(x,h,x,_,e,n,a)||Lc.containStroke(x,_,l,_,e,n,a)||Lc.containStroke(l,_,l,h,e,n,a))return!0}else o+=Vc(x,h,x,_,n,a),o+=Vc(l,_,l,h,n,a);break;case Gc.Z:if(i){if(Lc.containStroke(r,s,l,h,e,n,a))return!0}else o+=Vc(r,s,l,h,n,a);r=l,s=h}}return i||function(t,e){return Math.abs(t-e)&lt;Wc}(s,h)||(o+=Vc(r,s,l,h,n,a)||0),0!==o}function Bt(t){Kh.call(this,t),this.path=null}function Gt(t,e,i,n,a,o,r,s,l,h,u){var c=l*(rd/180),d=od(c)*(t-i)/2+ad(c)*(e-n)/2,p=-1*ad(c)*(t-i)/2+od(c)*(e-n)/2,f=d*d/(r*r)+p*p/(s*s);f&gt;1&amp;&amp;(r*=nd(f),s*=nd(f));var g=(a===o?-1:1)*nd((r*r*(s*s)-r*r*(p*p)-s*s*(d*d))/(r*r*(p*p)+s*s*(d*d)))||0,m=g*r*p/s,v=g*-s*d/r,y=(t+i)/2+od(c)*m-ad(c)*v,x=(e+n)/2+ad(c)*m+od(c)*v,_=hd([1,0],[(d-m)/r,(p-v)/s]),b=[(d-m)/r,(p-v)/s],w=[(-1*d-m)/r,(-1*p-v)/s],S=hd(b,w);ld(b,w)&lt;=-1&amp;&amp;(S=rd),ld(b,w)&gt;=1&amp;&amp;(S=0),0===o&amp;&amp;S&gt;0&amp;&amp;(S-=2*rd),1===o&amp;&amp;S&lt;0&amp;&amp;(S+=2*rd),u.addData(h,y,x,r,s,_,S,c,o)}function Ht(t,e){var i=function(t){if(!t)return[];var e,i=t.replace(/-/g,&quot; -&quot;).replace(/  /g,&quot; &quot;).replace(/ /g,&quot;,&quot;).replace(/,,/g,&quot;,&quot;);for(e=0;e&lt;id.length;e++)i=i.replace(new RegExp(id[e],&quot;g&quot;),&quot;|&quot;+id[e]);var n,a=i.split(&quot;|&quot;),o=0,r=0,s=new Cc,l=Cc.CMD;for(e=1;e&lt;a.length;e++){var h,u=a[e],c=u.charAt(0),d=0,p=u.slice(1).replace(/e,-/g,&quot;e-&quot;).split(&quot;,&quot;);p.length&gt;0&amp;&amp;&quot;&quot;===p[0]&amp;&amp;p.shift();for(var f=0;f&lt;p.length;f++)p[f]=parseFloat(p[f]);for(;d&lt;p.length&amp;&amp;!isNaN(p[d])&amp;&amp;!isNaN(p[0]);){var g,m,v,y,x,_,b,w=o,S=r;switch(c){case&quot;l&quot;:o+=p[d++],r+=p[d++],h=l.L,s.addData(h,o,r);break;case&quot;L&quot;:o=p[d++],r=p[d++],h=l.L,s.addData(h,o,r);break;case&quot;m&quot;:o+=p[d++],r+=p[d++],h=l.M,s.addData(h,o,r),c=&quot;l&quot;;break;case&quot;M&quot;:o=p[d++],r=p[d++],h=l.M,s.addData(h,o,r),c=&quot;L&quot;;break;case&quot;h&quot;:o+=p[d++],h=l.L,s.addData(h,o,r);break;case&quot;H&quot;:o=p[d++],h=l.L,s.addData(h,o,r);break;case&quot;v&quot;:r+=p[d++],h=l.L,s.addData(h,o,r);break;case&quot;V&quot;:r=p[d++],h=l.L,s.addData(h,o,r);break;case&quot;C&quot;:h=l.C,s.addData(h,p[d++],p[d++],p[d++],p[d++],p[d++],p[d++]),o=p[d-2],r=p[d-1];break;case&quot;c&quot;:h=l.C,s.addData(h,p[d++]+o,p[d++]+r,p[d++]+o,p[d++]+r,p[d++]+o,p[d++]+r),o+=p[d-2],r+=p[d-1];break;case&quot;S&quot;:g=o,m=r;var M=s.len(),I=s.data;n===l.C&amp;&amp;(g+=o-I[M-4],m+=r-I[M-3]),h=l.C,w=p[d++],S=p[d++],o=p[d++],r=p[d++],s.addData(h,g,m,w,S,o,r);break;case&quot;s&quot;:g=o,m=r;var M=s.len(),I=s.data;n===l.C&amp;&amp;(g+=o-I[M-4],m+=r-I[M-3]),h=l.C,w=o+p[d++],S=r+p[d++],o+=p[d++],r+=p[d++],s.addData(h,g,m,w,S,o,r);break;case&quot;Q&quot;:w=p[d++],S=p[d++],o=p[d++],r=p[d++],h=l.Q,s.addData(h,w,S,o,r);break;case&quot;q&quot;:w=p[d++]+o,S=p[d++]+r,o+=p[d++],r+=p[d++],h=l.Q,s.addData(h,w,S,o,r);break;case&quot;T&quot;:g=o,m=r;var M=s.len(),I=s.data;n===l.Q&amp;&amp;(g+=o-I[M-4],m+=r-I[M-3]),o=p[d++],r=p[d++],h=l.Q,s.addData(h,g,m,o,r);break;case&quot;t&quot;:g=o,m=r;var M=s.len(),I=s.data;n===l.Q&amp;&amp;(g+=o-I[M-4],m+=r-I[M-3]),o+=p[d++],r+=p[d++],h=l.Q,s.addData(h,g,m,o,r);break;case&quot;A&quot;:v=p[d++],y=p[d++],x=p[d++],_=p[d++],b=p[d++],Gt(w=o,S=r,o=p[d++],r=p[d++],_,b,v,y,x,h=l.A,s);break;case&quot;a&quot;:v=p[d++],y=p[d++],x=p[d++],_=p[d++],b=p[d++],Gt(w=o,S=r,o+=p[d++],r+=p[d++],_,b,v,y,x,h=l.A,s)}}&quot;z&quot;!==c&amp;&amp;&quot;Z&quot;!==c||(h=l.Z,s.addData(h)),n=h}return s.toStatic(),s}(t);return e=e||{},e.buildPath=function(t){if(t.setData){t.setData(i.data);(e=t.getContext())&amp;&amp;t.rebuildPath(e)}else{var e=t;i.rebuildPath(e)}},e.applyTransform=function(t){ed(i,t),this.dirty(!0)},e}function Wt(t,e,i,n,a,o,r){var s=.5*(i-t),l=.5*(n-e);return(2*(e-i)+s+l)*r+(-3*(e-i)-2*s-l)*o+s*a+e}function Ft(t,e,i){var n=t.cpx2,a=t.cpy2;return null===n||null===a?[(i?Vd:Rd)(t.x1,t.cpx1,t.cpx2,t.x2,e),(i?Vd:Rd)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(i?Nd:Ed)(t.x1,t.cpx1,t.x2,e),(i?Nd:Ed)(t.y1,t.cpy1,t.y2,e)]}function Zt(t,e,i,n){var a=ud.createFromString(t,e),o=a.getBoundingRect();return i&amp;&amp;(&quot;center&quot;===n&amp;&amp;(i=jt(i,o)),Ut(a,i)),a}function jt(t,e){var i,n=e.width/e.height,a=t.height*n;i=a&lt;=t.width?t.height:(a=t.width)/n;return{x:t.x+t.width/2-a/2,y:t.y+t.height/2-i/2,width:a,height:i}}function Ut(t,e){if(t.applyTransform){var i=t.getBoundingRect().calculateTransform(e);t.applyTransform(i)}}function qt(t,e,i){var n=up(2*t);return(n+up(e))%2==0?n/2:(n+(i?1:-1))/2}function Xt(t){return null!=t&amp;&amp;&quot;none&quot;!=t}function Yt(t){return&quot;string&quot;==typeof t?Nl.lift(t,-.1):t}function $t(t){if(t.__hoverStlDirty){var e=t.style.stroke,i=t.style.fill,n=t.__hoverStl;n.fill=n.fill||(Xt(i)?Yt(i):null),n.stroke=n.stroke||(Xt(e)?Yt(e):null);var a={};for(var o in n)null!=n[o]&amp;&amp;(a[o]=t.style[o]);t.__normalStl=a,t.__hoverStlDirty=!1}}function Kt(t){if(!t.__isHover){if($t(t),t.useHoverLayer)t.__zr&amp;&amp;t.__zr.addHover(t,t.__hoverStl);else{var e=t.style,i=e.insideRollbackOpt;i&amp;&amp;function(t){var e=t.insideRollback;e&amp;&amp;(t.textFill=e.textFill,t.textStroke=e.textStroke,t.textStrokeWidth=e.textStrokeWidth)}(e),e.extendFrom(t.__hoverStl),i&amp;&amp;(re(e,e.insideOriginalTextPosition,i),null==e.textFill&amp;&amp;(e.textFill=i.autoColor)),t.dirty(!1),t.z2+=1}t.__isHover=!0}}function Jt(t){if(t.__isHover){var e=t.__normalStl;t.useHoverLayer?t.__zr&amp;&amp;t.__zr.removeHover(t):(e&amp;&amp;t.setStyle(e),t.z2-=1),t.__isHover=!1}}function Qt(t){&quot;group&quot;===t.type?t.traverse(function(t){&quot;group&quot;!==t.type&amp;&amp;Kt(t)}):Kt(t)}function te(t){&quot;group&quot;===t.type?t.traverse(function(t){&quot;group&quot;!==t.type&amp;&amp;Jt(t)}):Jt(t)}function ee(t,e){t.__hoverStl=t.hoverStyle||e||{},t.__hoverStlDirty=!0,t.__isHover&amp;&amp;$t(t)}function ie(t,e,i,n,a){return ne(t,e,n,a),i&amp;&amp;rl.extend(t,i),t.host&amp;&amp;t.host.dirty&amp;&amp;t.host.dirty(!1),t}function ne(t,e,i,n){if((i=i||pp).isRectText){var a=e.getShallow(&quot;position&quot;)||(n?null:&quot;inside&quot;);&quot;outside&quot;===a&amp;&amp;(a=&quot;top&quot;),t.textPosition=a,t.textOffset=e.getShallow(&quot;offset&quot;);var o=e.getShallow(&quot;rotate&quot;);null!=o&amp;&amp;(o*=Math.PI/180),t.textRotation=o,t.textDistance=rl.retrieve2(e.getShallow(&quot;distance&quot;),n?null:5)}var r,s=e.ecModel,l=s&amp;&amp;s.option.textStyle,h=function(t){var e;for(;t&amp;&amp;t!==t.ecModel;){var i=(t.option||pp).rich;if(i){e=e||{};for(var n in i)i.hasOwnProperty(n)&amp;&amp;(e[n]=1)}t=t.parentModel}return e}(e);if(h){r={};for(var u in h)if(h.hasOwnProperty(u)){var c=e.getModel([&quot;rich&quot;,u]);ae(r[u]={},c,l,i,n)}}return t.rich=r,ae(t,e,l,i,n,!0),i.forceRich&amp;&amp;!i.textStyle&amp;&amp;(i.textStyle={}),t}function ae(t,e,i,n,a,o){if(i=!a&amp;&amp;i||pp,t.textFill=oe(e.getShallow(&quot;color&quot;),n)||i.color,t.textStroke=oe(e.getShallow(&quot;textBorderColor&quot;),n)||i.textBorderColor,t.textStrokeWidth=rl.retrieve2(e.getShallow(&quot;textBorderWidth&quot;),i.textBorderWidth),!a){if(o){var r=t.textPosition;t.insideRollback=re(t,r,n),t.insideOriginalTextPosition=r,t.insideRollbackOpt=n}null==t.textFill&amp;&amp;(t.textFill=n.autoColor)}t.fontStyle=e.getShallow(&quot;fontStyle&quot;)||i.fontStyle,t.fontWeight=e.getShallow(&quot;fontWeight&quot;)||i.fontWeight,t.fontSize=e.getShallow(&quot;fontSize&quot;)||i.fontSize,t.fontFamily=e.getShallow(&quot;fontFamily&quot;)||i.fontFamily,t.textAlign=e.getShallow(&quot;align&quot;),t.textVerticalAlign=e.getShallow(&quot;verticalAlign&quot;)||e.getShallow(&quot;baseline&quot;),t.textLineHeight=e.getShallow(&quot;lineHeight&quot;),t.textWidth=e.getShallow(&quot;width&quot;),t.textHeight=e.getShallow(&quot;height&quot;),t.textTag=e.getShallow(&quot;tag&quot;),o&amp;&amp;n.disableBox||(t.textBackgroundColor=oe(e.getShallow(&quot;backgroundColor&quot;),n),t.textPadding=e.getShallow(&quot;padding&quot;),t.textBorderColor=oe(e.getShallow(&quot;borderColor&quot;),n),t.textBorderWidth=e.getShallow(&quot;borderWidth&quot;),t.textBorderRadius=e.getShallow(&quot;borderRadius&quot;),t.textBoxShadowColor=e.getShallow(&quot;shadowColor&quot;),t.textBoxShadowBlur=e.getShallow(&quot;shadowBlur&quot;),t.textBoxShadowOffsetX=e.getShallow(&quot;shadowOffsetX&quot;),t.textBoxShadowOffsetY=e.getShallow(&quot;shadowOffsetY&quot;)),t.textShadowColor=e.getShallow(&quot;textShadowColor&quot;)||i.textShadowColor,t.textShadowBlur=e.getShallow(&quot;textShadowBlur&quot;)||i.textShadowBlur,t.textShadowOffsetX=e.getShallow(&quot;textShadowOffsetX&quot;)||i.textShadowOffsetX,t.textShadowOffsetY=e.getShallow(&quot;textShadowOffsetY&quot;)||i.textShadowOffsetY}function oe(t,e){return&quot;auto&quot;!==t?t:e&amp;&amp;e.autoColor?e.autoColor:null}function re(t,e,i){var n,a=i.useInsideStyle;return null==t.textFill&amp;&amp;!1!==a&amp;&amp;(!0===a||i.isRectText&amp;&amp;e&amp;&amp;&quot;string&quot;==typeof e&amp;&amp;e.indexOf(&quot;inside&quot;)&gt;=0)&amp;&amp;(n={textFill:null,textStroke:t.textStroke,textStrokeWidth:t.textStrokeWidth},t.textFill=&quot;#fff&quot;,null==t.textStroke&amp;&amp;(t.textStroke=i.autoColor,null==t.textStrokeWidth&amp;&amp;(t.textStrokeWidth=2))),n}function se(t,e,i,n,a,o){&quot;function&quot;==typeof a&amp;&amp;(o=a,a=null);if(n&amp;&amp;n.isAnimationEnabled()){var r=t?&quot;Update&quot;:&quot;&quot;,s=n.getShallow(&quot;animationDuration&quot;+r),l=n.getShallow(&quot;animationEasing&quot;+r),h=n.getShallow(&quot;animationDelay&quot;+r);&quot;function&quot;==typeof h&amp;&amp;(h=h(a,n.getAnimationDelayParams?n.getAnimationDelayParams(e,a):null)),&quot;function&quot;==typeof s&amp;&amp;(s=s(a)),s&gt;0?e.animateTo(i,s,h||0,l,o,!!o):(e.stopAnimation(),e.attr(i),o&amp;&amp;o())}else e.stopAnimation(),e.attr(i),o&amp;&amp;o()}function le(t,e,i,n,a){se(!0,t,e,i,n,a)}function he(t,e,i){return e&amp;&amp;!rl.isArrayLike(e)&amp;&amp;(e=Ml.getLocalTransform(e)),i&amp;&amp;(e=yl.invert([],e)),ll.applyTransform([],t,e)}function ue(t,e,i){this.parentModel=e,this.ecModel=i,this.option=t}function ce(t,e,i){for(var n=0;n&lt;e.length&amp;&amp;(!e[n]||null!=(t=t&amp;&amp;&quot;object&quot;==typeof t?t[e[n]]:null));n++);return null==t&amp;&amp;i&amp;&amp;(t=i.get(e)),t}function de(t,e){var i=Bu.get(t,&quot;getParent&quot;);return i?i.call(t,e):t.parentModel}function pe(t){return t instanceof Array?t:null==t?[]:[t]}function fe(t){return wp(t)&amp;&amp;t.id&amp;&amp;0===(t.id+&quot;&quot;).indexOf(&quot;\0_ec_\0&quot;)}function ge(t,e){return t&amp;&amp;t.hasOwnProperty(e)}function me(t,e,i,n,a){var o=0,r=0;null==n&amp;&amp;(n=1/0),null==a&amp;&amp;(a=1/0);var s=0;e.eachChild(function(l,h){var u,c,d=l.position,p=l.getBoundingRect(),f=e.childAt(h+1),g=f&amp;&amp;f.getBoundingRect();if(&quot;horizontal&quot;===t){var m=p.width+(g?-g.x+p.x:0);(u=o+m)&gt;n||l.newline?(o=0,u=m,r+=s+i,s=p.height):s=Math.max(s,p.height)}else{var v=p.height+(g?-g.y+p.y:0);(c=r+v)&gt;a||l.newline?(o+=s+i,r=0,c=v,s=p.width):s=Math.max(s,p.width)}l.newline||(d[0]=o,d[1]=r,&quot;horizontal&quot;===t?o=u+i:r=c+i)})}function ve(t,e,i){i=Eu.normalizeCssArray(i||0);var n=e.width,a=e.height,o=Dp(t.left,n),r=Dp(t.top,a),s=Dp(t.right,n),l=Dp(t.bottom,a),h=Dp(t.width,n),u=Dp(t.height,a),c=i[2]+i[0],d=i[1]+i[3],p=t.aspect;switch(isNaN(h)&amp;&amp;(h=n-s-d-o),isNaN(u)&amp;&amp;(u=a-l-c-r),null!=p&amp;&amp;(isNaN(h)&amp;&amp;isNaN(u)&amp;&amp;(p&gt;n/a?h=.8*n:u=.8*a),isNaN(h)&amp;&amp;(h=p*u),isNaN(u)&amp;&amp;(u=h/p)),isNaN(o)&amp;&amp;(o=n-s-h-d),isNaN(r)&amp;&amp;(r=a-l-u-c),t.left||t.right){case&quot;center&quot;:o=n/2-h/2-i[3];break;case&quot;right&quot;:o=n-h-d}switch(t.top||t.bottom){case&quot;middle&quot;:case&quot;center&quot;:r=a/2-u/2-i[0];break;case&quot;bottom&quot;:r=a-u-c}o=o||0,r=r||0,isNaN(h)&amp;&amp;(h=n-d-o-(s||0)),isNaN(u)&amp;&amp;(u=a-c-r-(l||0));var f=new oh(o+i[3],r+i[0],h,u);return f.margin=i,f}function ye(t,e){return e&amp;&amp;t&amp;&amp;Pp(kp,function(i){e.hasOwnProperty(i)&amp;&amp;(t[i]=e[i])}),t}function xe(t){return Yp(t,function(t){return t.componentIndex})||[]}function _e(t,e){return e.hasOwnProperty(&quot;subType&quot;)?Xp(t,function(t){return t.subType===e.subType}):t}function be(t){}function we(){this._coordinateSystems=[]}function Se(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function Me(t){var e=t&amp;&amp;t.itemStyle;if(e)for(var i=0,n=gf.length;i&lt;n;i++){var a=gf[i],o=e.normal,r=e.emphasis;o&amp;&amp;o[a]&amp;&amp;(t[a]=t[a]||{},t[a].normal?rl.merge(t[a].normal,o[a]):t[a].normal=o[a],o[a]=null),r&amp;&amp;r[a]&amp;&amp;(t[a]=t[a]||{},t[a].emphasis?rl.merge(t[a].emphasis,r[a]):t[a].emphasis=r[a],r[a]=null)}}function Ie(t,e){var i=ff(t)&amp;&amp;t[e],n=ff(i)&amp;&amp;i.textStyle;if(n)for(var a=0,o=Ip.TEXT_STYLE_OPTIONS.length;a&lt;o;a++){e=Ip.TEXT_STYLE_OPTIONS[a];n.hasOwnProperty(e)&amp;&amp;(i[e]=n[e])}}function Te(t){ff(t)&amp;&amp;(Ie(t,&quot;normal&quot;),Ie(t,&quot;emphasis&quot;))}function Ae(t){return rl.isArray(t)?t:t?[t]:[]}function Ce(t){return(rl.isArray(t)?t[0]:t)||{}}function Le(t){vf(bf,function(e){e[0]in t&amp;&amp;!(e[1]in t)&amp;&amp;(t[e[1]]=t[e[0]])})}function De(){this.group=new sh,this.uid=Lp.getUID(&quot;viewChart&quot;)}function Pe(t,e){if(t&amp;&amp;(t.trigger(e),&quot;group&quot;===t.type))for(var i=0;i&lt;t.childCount();i++)Pe(t.childAt(i),e)}function ke(t,e,i){var n=Ip.queryDataIndex(t,e);null!=n?rl.each(Ip.normalizeToArray(n),function(e){Pe(t.getItemGraphicEl(e),i)}):t.eachItemGraphicEl(function(t){Pe(t,i)})}function Oe(t,e,i){function n(){u=(new Date).getTime(),c=null,t.apply(r,s||[])}var a,o,r,s,l,h=0,u=0,c=null;e=e||0;var d=function(){a=(new Date).getTime(),r=this,s=arguments;var t=l||e,d=l||i;l=null,o=a-(d?h:u)-t,clearTimeout(c),d?c=setTimeout(n,t):o&gt;=0?n():c=setTimeout(n,-o),h=a};return d.clear=function(){c&amp;&amp;(clearTimeout(c),c=null)},d.debounceNextCall=function(t){l=t},d}function ze(t){return t}function Ee(t,e,i,n,a){this._old=t,this._new=e,this._oldKeyGetter=i||ze,this._newKeyGetter=n||ze,this.context=a}function Re(t,e,i,n,a){for(var o=0;o&lt;t.length;o++){var r=&quot;_ec_&quot;+a[n](t[o],o),s=e[r];null==s?(i.push(r),e[r]=o):(s.length||(e[r]=s=[s]),s.push(o))}}function Ne(t,e){rl.each(Kf.concat(e.__wrappedMethods||[]),function(i){e.hasOwnProperty(i)&amp;&amp;(t[i]=e[i])}),t.__wrappedMethods=e.__wrappedMethods}function Ve(t){this._array=t||[]}function Be(t){return rl.isArray(t)||(t=[t]),t}function Ge(t,e){var i=t.dimensions,n=new Jf(rl.map(i,t.getDimensionInfo,t),t.hostModel);Ne(n,t);for(var a=n._storage={},o=t._storage,r=0;r&lt;i.length;r++){var s=i[r],l=o[s];rl.indexOf(e,s)&gt;=0?a[s]=new l.constructor(o[s].length):a[s]=o[s]}return n}function He(t,e,i){function n(t,e,i){og[e]?t.otherDims[e]=i:(t.coordDim=e,t.coordDimIndex=i,l.set(e,!0))}function a(t,e,i){if(i||null!=e.get(t)){for(var n=0;null!=e.get(t+n);)n++;t+=n}return e.set(t,!0),t}e=e||[],i=i||{},t=(t||[]).slice();var o=(i.dimsDef||[]).slice(),r=rl.createHashMap(i.encodeDef),s=rl.createHashMap(),l=rl.createHashMap(),h=[],u=i.dimCount;if(null==u){var c=We(e[0]);u=Math.max(rl.isArray(c)&amp;&amp;c.length||1,t.length,o.length),ig(t,function(t){var e=t.dimsDef;e&amp;&amp;(u=Math.max(u,e.length))})}for(var d=0;d&lt;u;d++){var p=ng(o[d])?{name:o[d]}:o[d]||{},f=p.name,g=h[d]={otherDims:{}};null!=f&amp;&amp;null==s.get(f)&amp;&amp;(g.name=g.tooltipName=f,s.set(f,d)),null!=p.type&amp;&amp;(g.type=p.type)}r.each(function(t,e){t=r.set(e,eg(t).slice()),ig(t,function(i,a){ng(i)&amp;&amp;(i=s.get(i)),null!=i&amp;&amp;i&lt;u&amp;&amp;(t[a]=i,n(h[i],e,a))})});var m=0;ig(t,function(t,e){var i,a,o;ng(t)?(i=t,t={}):(i=t.name,t=rl.clone(t),a=t.dimsDef,o=t.otherDims,t.name=t.coordDim=t.coordDimIndex=t.dimsDef=t.otherDims=null);var s=eg(r.get(i));if(!s.length)for(var l=0;l&lt;(a&amp;&amp;a.length||1);l++){for(;m&lt;h.length&amp;&amp;null!=h[m].coordDim;)m++;m&lt;h.length&amp;&amp;s.push(m++)}ig(s,function(e,r){var s=h[e];n(ag(s,t),i,r),null==s.name&amp;&amp;a&amp;&amp;(s.name=s.tooltipName=a[r]),o&amp;&amp;ag(s.otherDims,o)})});for(var v=i.extraPrefix||&quot;value&quot;,y=0;y&lt;u;y++){null==(g=h[y]=h[y]||{}).coordDim&amp;&amp;(g.coordDim=a(v,l,i.extraFromZero),g.coordDimIndex=0,g.isExtraCoord=!0),null==g.name&amp;&amp;(g.name=a(g.coordDim,s)),null==g.type&amp;&amp;rg(e,y)&amp;&amp;(g.type=&quot;ordinal&quot;)}return h}function We(t){return rl.isArray(t)?t:rl.isObject(t)?t.value:t}function Fe(t){return&quot;category&quot;!==t&amp;&amp;&quot;time&quot;!==t}function Ze(t){return&quot;category&quot;===t?&quot;ordinal&quot;:&quot;time&quot;===t?&quot;time&quot;:&quot;float&quot;}function je(t){this._setting=t||{},this._extent=[1/0,-1/0],this._interval=0,this.init&amp;&amp;this.init.apply(this,arguments)}function Ue(t){return Pu.getPrecisionSafe(t)+2}function qe(t,e,i){t[e]=Math.max(Math.min(t[e],i[1]),i[0])}function Xe(t,e){!isFinite(t[0])&amp;&amp;(t[0]=e[0]),!isFinite(t[1])&amp;&amp;(t[1]=e[1]),qe(t,0,e),qe(t,1,e),t[0]&gt;t[1]&amp;&amp;(t[0]=t[1])}function Ye(t,e){return Dg(t,Lg(e))}function $e(t,e){var i,n,a,o=t.type,r=e.getMin(),s=e.getMax(),l=null!=r,h=null!=s,u=t.getExtent();return&quot;ordinal&quot;===o?i=(e.get(&quot;data&quot;)||[]).length:(n=e.get(&quot;boundaryGap&quot;),rl.isArray(n)||(n=[n||0,n||0]),&quot;boolean&quot;==typeof n[0]&amp;&amp;(n=[0,0]),n[0]=Pu.parsePercent(n[0],1),n[1]=Pu.parsePercent(n[1],1),a=u[1]-u[0]||Math.abs(u[0])),null==r&amp;&amp;(r=&quot;ordinal&quot;===o?i?0:NaN:u[0]-n[0]*a),null==s&amp;&amp;(s=&quot;ordinal&quot;===o?i?i-1:NaN:u[1]+n[1]*a),&quot;dataMin&quot;===r?r=u[0]:&quot;function&quot;==typeof r&amp;&amp;(r=r({min:u[0],max:u[1]})),&quot;dataMax&quot;===s?s=u[1]:&quot;function&quot;==typeof s&amp;&amp;(s=s({min:u[0],max:u[1]})),(null==r||!isFinite(r))&amp;&amp;(r=NaN),(null==s||!isFinite(s))&amp;&amp;(s=NaN),t.setBlank(rl.eqNaN(r)||rl.eqNaN(s)),e.getNeedCrossZero()&amp;&amp;(r&gt;0&amp;&amp;s&gt;0&amp;&amp;!l&amp;&amp;(r=0),r&lt;0&amp;&amp;s&lt;0&amp;&amp;!h&amp;&amp;(s=0)),[r,s]}function Ke(t,e){return&quot;category&quot;===t.type?t.scale.getLabel(e):e}function Je(t,e){var i=(t[1]-t[0])/e/2;t[0]+=i,t[1]-=i}function Qe(t,e){return Math.abs(t-e)&lt;Jg}function ti(t,e,i){if(this.name=t,this.geometries=e,i)i=[i[0],i[1]];else{var n=this.getBoundingRect();i=[n.x+n.width/2,n.y+n.height/2]}this.center=i}function ei(t,e,i){for(var n=[],a=e[0],o=e[1],r=0;r&lt;t.length;r+=2){var s=t.charCodeAt(r)-64,l=t.charCodeAt(r+1)-64;s=s&gt;&gt;1^-(1&amp;s),l=l&gt;&gt;1^-(1&amp;l),a=s+=a,o=l+=o,n.push([s/i,l/i])}return n}function ii(t){return[t[0]/2,t[1]/2]}function ni(t,e,i){fp.Group.call(this),this.updateData(t,e,i)}function ai(t){this.group=new fp.Group,this._symbolCtor=t||Lm}function oi(t,e,i){var n=t.getItemLayout(e);return n&amp;&amp;!isNaN(n[0])&amp;&amp;!isNaN(n[1])&amp;&amp;!(i&amp;&amp;i(e))&amp;&amp;&quot;none&quot;!==t.getItemVisual(e,&quot;symbol&quot;)}function ri(t){return t&gt;=0?1:-1}function si(t,e,i){for(var n,a=t.getBaseAxis(),o=t.getOtherAxis(a),r=a.onZero?0:o.scale.getExtent()[0],s=o.dim,l=&quot;x&quot;===s||&quot;radius&quot;===s?1:0,h=e.stackedOn,u=e.get(s,i);h&amp;&amp;ri(h.get(s,i))===ri(u);){n=h;break}var c=[];return c[l]=e.get(a.dim,i),c[1-l]=n?n.get(s,i,!0):r,t.dataToPoint(c)}function li(t){return isNaN(t[0])||isNaN(t[1])}function hi(t,e,i,n,a,o,r,s,l,h,u){for(var c=0,d=i,p=0;p&lt;n;p++){var f=e[d];if(d&gt;=a||d&lt;0)break;if(li(f)){if(u){d+=o;continue}break}if(d===i)t[o&gt;0?&quot;moveTo&quot;:&quot;lineTo&quot;](f[0],f[1]),Rm(Vm,f);else if(l&gt;0){var g=d+o,m=e[g];if(u)for(;m&amp;&amp;li(e[g]);)m=e[g+=o];var v=.5,y=e[c];if(!(m=e[g])||li(m))Rm(Bm,f);else{li(m)&amp;&amp;!u&amp;&amp;(m=f),ll.sub(Nm,m,y);var x,_;if(&quot;x&quot;===h||&quot;y&quot;===h){var b=&quot;x&quot;===h?0:1;x=Math.abs(f[b]-y[b]),_=Math.abs(f[b]-m[b])}else x=ll.dist(f,y),_=ll.dist(f,m);Em(Bm,f,Nm,-l*(1-(v=_/(_+x))))}Om(Vm,Vm,s),zm(Vm,Vm,r),Om(Bm,Bm,s),zm(Bm,Bm,r),t.bezierCurveTo(Vm[0],Vm[1],Bm[0],Bm[1],f[0],f[1]),Em(Vm,f,Nm,l*v)}else t.lineTo(f[0],f[1]);c=d,d+=o}return p}function ui(t,e){var i=[1/0,1/0],n=[-1/0,-1/0];if(e)for(var a=0;a&lt;t.length;a++){var o=t[a];o[0]&lt;i[0]&amp;&amp;(i[0]=o[0]),o[1]&lt;i[1]&amp;&amp;(i[1]=o[1]),o[0]&gt;n[0]&amp;&amp;(n[0]=o[0]),o[1]&gt;n[1]&amp;&amp;(n[1]=o[1])}return{min:e?i:n,max:e?n:i}}function ci(t,e){if(t.length===e.length){for(var i=0;i&lt;t.length;i++){var n=t[i],a=e[i];if(n[0]!==a[0]||n[1]!==a[1])return}return!0}}function di(t){return&quot;number&quot;==typeof t?t:t?.3:0}function pi(t){var e=t.getGlobalExtent();if(t.onBand){var i=t.getBandWidth()/2-1,n=e[1]&gt;e[0]?1:-1;e[0]+=n*i,e[1]-=n*i}return e}function fi(t){return t&gt;=0?1:-1}function gi(t,e,i){return&quot;polar&quot;===t.type?function(t,e,i){var n=t.getAngleAxis(),a=t.getRadiusAxis().getExtent(),o=n.getExtent(),r=Math.PI/180,s=new fp.Sector({shape:{cx:t.cx,cy:t.cy,r0:a[0],r:a[1],startAngle:-o[0]*r,endAngle:-o[1]*r,clockwise:n.inverse}});return e&amp;&amp;(s.shape.endAngle=-o[0]*r,fp.initProps(s,{shape:{endAngle:-o[1]*r}},i)),s}(t,e,i):function(t,e,i){var n=pi(t.getAxis(&quot;x&quot;)),a=pi(t.getAxis(&quot;y&quot;)),o=t.getBaseAxis().isHorizontal(),r=Math.min(n[0],n[1]),s=Math.min(a[0],a[1]),l=Math.max(n[0],n[1])-r,h=Math.max(a[0],a[1])-s,u=i.get(&quot;lineStyle.normal.width&quot;)||2,c=i.get(&quot;clipOverflow&quot;)?u/2:Math.max(l,h);o?(s-=c,h+=2*c):(r-=c,l+=2*c);var d=new fp.Rect({shape:{x:r,y:s,width:l,height:h}});return e&amp;&amp;(d.shape[o?&quot;width&quot;:&quot;height&quot;]=0,fp.initProps(d,{shape:{width:l,height:h}},i)),d}(t,e,i)}function mi(t,e,i){for(var n=e.getBaseAxis(),a=&quot;x&quot;===n.dim||&quot;radius&quot;===n.dim?0:1,o=[],r=0;r&lt;t.length-1;r++){var s=t[r+1],l=t[r];o.push(l);var h=[];switch(i){case&quot;end&quot;:h[a]=s[a],h[1-a]=l[1-a],o.push(h);break;case&quot;middle&quot;:var u=(l[a]+s[a])/2,c=[];h[a]=c[a]=u,h[1-a]=l[1-a],c[1-a]=s[1-a],o.push(h),o.push(c);break;default:h[a]=l[a],h[1-a]=s[1-a],o.push(h)}}return t[r]&amp;&amp;o.push(t[r]),o}function vi(t){Ym.call(this,t)}function yi(t,e){return e.type||(e.data?&quot;category&quot;:&quot;value&quot;)}function xi(t,e,i){return t.getCoordSysModel()===e}function _i(t,e,i){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,i),this.model=t}function bi(t,e,i){var n=t[e];if(i.onZero){var a=i.onZeroAxisIndex;if(null==a){for(var o in n)if(n.hasOwnProperty(o)){r=n[o];if(r&amp;&amp;!wi(r)){a=+o;break}}null==a&amp;&amp;(i.onZero=!1),i.onZeroAxisIndex=a}else{var r;(r=n[a])&amp;&amp;wi(r)&amp;&amp;(i.onZero=!1)}}}function wi(t){return&quot;category&quot;===t.type||&quot;time&quot;===t.type||!uv(t)}function Si(t,e){return rl.map(pv,function(e){return t.getReferringComponents(e)[0]})}function Mi(t){return&quot;cartesian2d&quot;===t.get(&quot;coordinateSystem&quot;)}function Ii(t){var e={componentType:t.mainType};return e[t.mainType+&quot;Index&quot;]=t.componentIndex,e}function Ti(t){var e=t.get(&quot;tooltip&quot;);return t.get(&quot;silent&quot;)||!(t.get(&quot;triggerEvent&quot;)||e&amp;&amp;e.show)}function Ai(t){t&amp;&amp;(t.ignore=!0)}function Ci(t,e,i){var n=t&amp;&amp;t.getBoundingRect().clone(),a=e&amp;&amp;e.getBoundingRect().clone();if(n&amp;&amp;a){var o=yl.identity([]);return yl.rotate(o,o,-t.rotation),n.applyTransform(yl.mul([],o,t.getLocalTransform())),a.applyTransform(yl.mul([],o,e.getLocalTransform())),n.intersect(a)}}function Li(t){return&quot;middle&quot;===t||&quot;center&quot;===t}function Di(t,e){return&quot;all&quot;===t||rl.isArray(t)&amp;&amp;rl.indexOf(t,e)&gt;=0||t===e}function Pi(t){var e=(t.ecModel.getComponent(&quot;axisPointer&quot;)||{}).coordSysAxesInfo;return e&amp;&amp;e.axesInfo[Oi(t)]}function ki(t){return!!t.get(&quot;handle.show&quot;)}function Oi(t){return t.type+&quot;||&quot;+t.id}function zi(t,e,i,n,a,o){var r=kv.getAxisPointerClass(t.axisPointerClass);if(r){var s=Pv.getAxisPointerModel(e);s?(t._axisPointer||(t._axisPointer=new r)).render(e,s,n,o):Ei(t,n)}}function Ei(t,e,i){var n=t._axisPointer;n&amp;&amp;n.dispose(e,i),t._axisPointer=null}function Ri(t){return t.get(&quot;stack&quot;)||Wv+t.seriesIndex}function Ni(t){return t.dim+t.index}function Vi(t,e){var i={};rl.each(t,function(t,e){var n=t.axisKey,a=t.bandWidth,o=i[n]||{bandWidth:a,remainedWidth:a,autoWidthCount:0,categoryGap:&quot;20%&quot;,gap:&quot;30%&quot;,stacks:{}},r=o.stacks;i[n]=o;var s=t.stackId;r[s]||o.autoWidthCount++,r[s]=r[s]||{width:0,maxWidth:0};var l=t.barWidth;l&amp;&amp;!r[s].width&amp;&amp;(r[s].width=l,l=Math.min(o.remainedWidth,l),o.remainedWidth-=l);var h=t.barMaxWidth;h&amp;&amp;(r[s].maxWidth=h);var u=t.barGap;null!=u&amp;&amp;(o.gap=u);var c=t.barCategoryGap;null!=c&amp;&amp;(o.categoryGap=c)});var n={};return rl.each(i,function(t,e){n[e]={};var i=t.stacks,a=t.bandWidth,o=Hv(t.categoryGap,a),r=Hv(t.gap,1),s=t.remainedWidth,l=t.autoWidthCount,h=(s-o)/(l+(l-1)*r);h=Math.max(h,0),rl.each(i,function(t,e){var i=t.maxWidth;i&amp;&amp;i&lt;h&amp;&amp;(i=Math.min(i,s),t.width&amp;&amp;(i=Math.min(i,t.width)),s-=i,t.width=i,l--)}),h=(s-o)/(l+(l-1)*r),h=Math.max(h,0);var u,c=0;rl.each(i,function(t,e){t.width||(t.width=h),u=t,c+=t.width*(1+r)}),u&amp;&amp;(c-=u.width*r);var d=-c/2;rl.each(i,function(t,i){n[e][i]=n[e][i]||{offset:d,width:t.width},d+=t.width*(1+r)})}),n}function Bi(t,e,i){var n=function(t,e){return Vi(rl.map(t,function(t){var e=t.getData(),i=t.coordinateSystem.getBaseAxis(),n=i.getExtent(),a=&quot;category&quot;===i.type?i.getBandWidth():Math.abs(n[1]-n[0])/e.count();return{bandWidth:a,barWidth:Hv(t.get(&quot;barWidth&quot;),a),barMaxWidth:Hv(t.get(&quot;barMaxWidth&quot;),a),barGap:t.get(&quot;barGap&quot;),barCategoryGap:t.get(&quot;barCategoryGap&quot;),axisKey:Ni(i),stackId:Ri(t)}}))}(rl.filter(e.getSeriesByType(t),function(t){return!e.isSeriesFiltered(t)&amp;&amp;t.coordinateSystem&amp;&amp;&quot;cartesian2d&quot;===t.coordinateSystem.type})),a={},o={};e.eachSeriesByType(t,function(t){if(&quot;cartesian2d&quot;===t.coordinateSystem.type){var e=t.getData(),i=t.coordinateSystem,r=i.getBaseAxis(),s=Ri(t),l=n[Ni(r)][s],h=l.offset,u=l.width,c=i.getOtherAxis(r),d=t.get(&quot;barMinHeight&quot;)||0,p=r.onZero?c.toGlobalCoord(c.dataToCoord(0)):c.getGlobalExtent()[0],f=[t.coordDimToDataDim(&quot;x&quot;)[0],t.coordDimToDataDim(&quot;y&quot;)[0]],g=e.mapArray(f,function(t,e){return i.dataToPoint([t,e])},!0);a[s]=a[s]||[],o[s]=o[s]||[],e.setLayout({offset:h,size:u}),e.each(t.coordDimToDataDim(c.dim)[0],function(t,i){if(!isNaN(t)){a[s][i]||(a[s][i]={p:p,n:p},o[s][i]={p:p,n:p});var n,r,l,f,m=t&gt;=0?&quot;p&quot;:&quot;n&quot;,v=g[i],y=a[s][i][m],x=o[s][i][m];c.isHorizontal()?(n=y,r=v[1]+h,l=v[0]-x,f=u,o[s][i][m]+=l,Math.abs(l)&lt;d&amp;&amp;(l=(l&lt;0?-1:1)*d),a[s][i][m]+=l):(n=v[0]+h,r=y,l=u,f=v[1]-x,o[s][i][m]+=f,Math.abs(f)&lt;d&amp;&amp;(f=(f&lt;=0?-1:1)*d),a[s][i][m]+=f),e.setItemLayout(i,{x:n,y:r,width:l,height:f})}},!0)}},this)}function Gi(t,e){&quot;outside&quot;===t.textPosition&amp;&amp;(t.textPosition=e)}function Hi(t,e,i){i.style.text=null,fp.updateProps(i,{shape:{width:0}},e,t,function(){i.parent&amp;&amp;i.parent.remove(i)})}function Wi(t,e,i){i.style.text=null,fp.updateProps(i,{shape:{r:i.shape.r0}},e,t,function(){i.parent&amp;&amp;i.parent.remove(i)})}function Fi(t,e,i,n,a,o,r,s){var l=e.getItemVisual(i,&quot;color&quot;),h=e.getItemVisual(i,&quot;opacity&quot;),u=n.getModel(&quot;itemStyle.normal&quot;),c=n.getModel(&quot;itemStyle.emphasis&quot;).getBarItemStyle();s||t.setShape(&quot;r&quot;,u.get(&quot;barBorderRadius&quot;)||0),t.useStyle(rl.defaults({fill:l,opacity:h},u.getBarItemStyle()));var d=n.getShallow(&quot;cursor&quot;);d&amp;&amp;t.attr(&quot;cursor&quot;,d);var p=r?a.height&gt;0?&quot;bottom&quot;:&quot;top&quot;:a.width&gt;0?&quot;left&quot;:&quot;right&quot;;s||Xv(t.style,c,n,l,o,i,p),fp.setHoverStyle(t,c)}function Zi(t,e,i,n,a){var o=(e.startAngle+e.endAngle)/2,r=Math.cos(o),s=Math.sin(o),l=i?n:0,h=[r*l,s*l];a?t.animate().when(200,{position:h}).start(&quot;bounceOut&quot;):t.attr(&quot;position&quot;,h)}function ji(t,e){function i(){o.ignore=o.hoverIgnore,r.ignore=r.hoverIgnore}function n(){o.ignore=o.normalIgnore,r.ignore=r.normalIgnore}fp.Group.call(this);var a=new fp.Sector({z2:2}),o=new fp.Polyline,r=new fp.Text;this.add(a),this.add(o),this.add(r),this.updateData(t,e,!0),this.on(&quot;emphasis&quot;,i).on(&quot;normal&quot;,n).on(&quot;mouseover&quot;,i).on(&quot;mouseout&quot;,n)}function Ui(t,e,i,n,a,o,r){function s(e,i){for(var n=e;n&gt;=0&amp;&amp;(t[n].y-=i,!(n&gt;0&amp;&amp;t[n].y&gt;t[n-1].y+t[n-1].height));n--);}function l(t,e,i,n,a,o){for(var r=e?Number.MAX_VALUE:0,s=0,l=t.length;s&lt;l;s++)if(&quot;center&quot;!==t[s].position){var h=Math.abs(t[s].y-n),u=t[s].len,c=t[s].len2,d=h&lt;a+u?Math.sqrt((a+u+c)*(a+u+c)-h*h):Math.abs(t[s].x-i);e&amp;&amp;d&gt;=r&amp;&amp;(d=r-10),!e&amp;&amp;d&lt;=r&amp;&amp;(d=r+10),t[s].x=i+d*o,r=d}}t.sort(function(t,e){return t.y-e.y});for(var h,u=0,c=t.length,d=[],p=[],f=0;f&lt;c;f++)(h=t[f].y-u)&lt;0&amp;&amp;function(e,i,n,a){for(var o=e;o&lt;i;o++)if(t[o].y+=n,o&gt;e&amp;&amp;o+1&lt;i&amp;&amp;t[o+1].y&gt;t[o].y+t[o].height)return void s(o,n/2);s(i-1,n/2)}(f,c,-h),u=t[f].y+t[f].height;r-u&lt;0&amp;&amp;s(c-1,u-r);for(f=0;f&lt;c;f++)t[f].y&gt;=i?p.push(t[f]):d.push(t[f]);l(d,!1,e,i,n,a),l(p,!0,e,i,n,a)}function qi(){this.group=new fp.Group,this._symbolEl=new dy({})}function Xi(t,e,i){Kg.call(this,t,e,i),this.type=&quot;value&quot;,this.angle=0,this.name=&quot;&quot;,this.model}function Yi(t,e,i){this._model=t,this.dimensions=[],this._indicatorAxes=rl.map(t.getIndicatorModels(),function(t,e){var i=&quot;indicator_&quot;+e,n=new gy(i,new bg);return n.name=t.get(&quot;name&quot;),n.model=t,t.axis=n,this.dimensions.push(i),n},this),this.resize(t,i),this.cx,this.cy,this.r,this.startAngle}function $i(t,e){return rl.defaults({show:e},t)}function Ki(){Ml.call(this)}function Ji(t){this.name=t,this.zoomLimit,Ml.call(this),this._roamTransform=new Ki,this._viewTransform=new Ki,this._center,this._zoom}function Qi(t,e,i,n){var a=i.seriesModel,o=a?a.coordinateSystem:null;return o===this?o[t](n):null}function tn(t,e,i,n,a){Iy.call(this,t),this.map=e,this._nameCoordMap=rl.createHashMap(),this.loadGeoJson(i,n,a)}function en(t,e,i,n){var a=i.geoModel,o=i.seriesModel,r=a?a.coordinateSystem:o?o.coordinateSystem||(o.getReferringComponents(&quot;geo&quot;)[0]||{}).coordinateSystem:null;return r===this?r[t](n):null}function nn(t,e){var i=t.get(&quot;boundingCoords&quot;);if(null!=i){var n=i[0],a=i[1];isNaN(n[0])||isNaN(n[1])||isNaN(a[0])||isNaN(a[1])||this.setBoundingRect(n[0],n[1],a[0]-n[0],a[1]-n[1])}var o,r=this.getBoundingRect(),s=t.get(&quot;layoutCenter&quot;),l=t.get(&quot;layoutSize&quot;),h=e.getWidth(),u=e.getHeight(),c=t.get(&quot;aspectScale&quot;)||.75,d=r.width/r.height*c,p=!1;s&amp;&amp;l&amp;&amp;(s=[Pu.parsePercent(s[0],h),Pu.parsePercent(s[1],u)],l=Pu.parsePercent(l,Math.min(h,u)),isNaN(s[0])||isNaN(s[1])||isNaN(l)||(p=!0));if(p){var f={};d&gt;1?(f.width=l,f.height=l/d):(f.height=l,f.width=l*d),f.y=s[1]-f.height/2,f.x=s[0]-f.width/2}else(o=t.getBoxLayoutParams()).aspect=d,f=Np.getLayoutRect(o,{width:h,height:u});this.setViewRect(f.x,f.y,f.width,f.height),this.setCenter(t.get(&quot;center&quot;)),this.setZoom(t.get(&quot;zoom&quot;))}function an(t,e){rl.each(e.get(&quot;geoCoord&quot;),function(e,i){t.addGeoCoord(i,e)})}function on(t){return t[Gy]||(t[Gy]={})}function rn(t){this.pointerChecker,this._zr=t,this._opt={};var e=rl.bind,i=e(function(t){if(su.notLeftMouse(t)||t.target&amp;&amp;t.target.draggable)return;var e=t.offsetX,i=t.offsetY;this.pointerChecker&amp;&amp;this.pointerChecker(t,e,i)&amp;&amp;(this._x=e,this._y=i,this._dragging=!0)},this),n=e(function(t){if(su.notLeftMouse(t)||!ln(this,&quot;moveOnMouseMove&quot;,t)||!this._dragging||&quot;pinch&quot;===t.gestureEvent||Hy.isTaken(this._zr,&quot;globalPan&quot;))return;var e=t.offsetX,i=t.offsetY,n=this._x,a=this._y,o=e-n,r=i-a;this._x=e,this._y=i,this._opt.preventDefaultMouseMove&amp;&amp;su.stop(t.event),this.trigger(&quot;pan&quot;,o,r,n,a,e,i)},this),a=e(function(t){su.notLeftMouse(t)||(this._dragging=!1)},this),o=e(function(t){if(!ln(this,&quot;zoomOnMouseWheel&quot;,t)||0===t.wheelDelta)return;var e=t.wheelDelta&gt;0?1.1:1/1.1;sn.call(this,t,e,t.offsetX,t.offsetY)},this),r=e(function(t){if(Hy.isTaken(this._zr,&quot;globalPan&quot;))return;var e=t.pinchScale&gt;1?1.1:1/1.1;sn.call(this,t,e,t.pinchX,t.pinchY)},this);dl.call(this),this.setPointerChecker=function(t){this.pointerChecker=t},this.enable=function(e,s){this.disable(),this._opt=rl.defaults(rl.clone(s)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}),null==e&amp;&amp;(e=!0),!0!==e&amp;&amp;&quot;move&quot;!==e&amp;&amp;&quot;pan&quot;!==e||(t.on(&quot;mousedown&quot;,i),t.on(&quot;mousemove&quot;,n),t.on(&quot;mouseup&quot;,a)),!0!==e&amp;&amp;&quot;scale&quot;!==e&amp;&amp;&quot;zoom&quot;!==e||(t.on(&quot;mousewheel&quot;,o),t.on(&quot;pinch&quot;,r))},this.disable=function(){t.off(&quot;mousedown&quot;,i),t.off(&quot;mousemove&quot;,n),t.off(&quot;mouseup&quot;,a),t.off(&quot;mousewheel&quot;,o),t.off(&quot;pinch&quot;,r)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function sn(t,e,i,n){this.pointerChecker&amp;&amp;this.pointerChecker(t,i,n)&amp;&amp;(su.stop(t.event),this.trigger(&quot;zoom&quot;,e,i,n))}function ln(t,e,i){var n=t._opt[e];return n&amp;&amp;(!rl.isString(n)||i.event[n+&quot;Key&quot;])}function hn(t,e){var i=t.getItemStyle(),n=t.get(&quot;areaColor&quot;);return null!=n&amp;&amp;(i.fill=n),i}function un(t,e){e.eachChild(function(e){rl.each(e.__regions,function(i){e.trigger(t.isSelected(i.name)?&quot;emphasis&quot;:&quot;normal&quot;)})})}function cn(t,e){var i=new fp.Group;this._controller=new Wy(t.getZr()),this._controllerHost={target:e?i:null},this.group=i,this._updateGroup=e,this._mouseDownFlag}function dn(t,e,i){t[ex]={},tx(e,function(e,n){pn(e,n,t,i)})}function pn(t,e,i,n){i[ex][e]=t,t[ix]=i,t.dataType=e,n.struct&amp;&amp;(t[n.structAttr]=n.struct,n.struct[n.datasAttr[e]]=t),t.getLinkedData=function(t){var e=this[ix];return null==t||null==e?e:e[ex][t]}}function fn(t,e,i){this.root,this.data,this._nodes=[],this.hostModel=t,this.levelModels=rl.map(e||[],function(e){return new _p(e,t,t.ecModel)}),this.leavesModel=new _p(i||{},t,t.ecModel)}function gn(t){var e=t.children;return e.length&amp;&amp;t.isExpand?e[e.length-1]:t.hierNode.thread}function mn(t){var e=t.children;return e.length&amp;&amp;t.isExpand?e[0]:t.hierNode.thread}function vn(t,e){var i=t.getItemLayout(e);return i&amp;&amp;!isNaN(i.x)&amp;&amp;!isNaN(i.y)&amp;&amp;&quot;none&quot;!==t.getItemVisual(e,&quot;symbol&quot;)}function yn(t,e,i){return i.itemModel=e,i.itemStyle=e.getModel(&quot;itemStyle.normal&quot;).getItemStyle(),i.hoverItemStyle=e.getModel(&quot;itemStyle.emphasis&quot;).getItemStyle(),i.lineStyle=e.getModel(&quot;lineStyle.normal&quot;).getLineStyle(),i.labelModel=e.getModel(&quot;label.normal&quot;),i.hoverLabelModel=e.getModel(&quot;label.emphasis&quot;),!1===t.isExpand&amp;&amp;0!==t.children.length?i.symbolInnerColor=i.itemStyle.fill:i.symbolInnerColor=&quot;#fff&quot;,i}function xn(t,e,i,n,a,o){var r=!i,s=t.tree.getNodeByDataIndex(e),o=yn(s,s.getModel(),o),l=t.tree.root,h=s.parentNode===l?s:s.parentNode||s,u=t.getItemGraphicEl(h.dataIndex),c=h.getLayout(),d=u?{x:u.position[0],y:u.position[1],rawX:u.__radialOldRawX,rawY:u.__radialOldRawY}:c,p=s.getLayout();r?(i=new Lm(t,e,o)).attr(&quot;position&quot;,[d.x,d.y]):i.updateData(t,e,o),i.__radialOldRawX=i.__radialRawX,i.__radialOldRawY=i.__radialRawY,i.__radialRawX=p.rawX,i.__radialRawY=p.rawY,n.add(i),t.setItemGraphicEl(e,i),fp.updateProps(i,{position:[p.x,p.y]},a);var f=i.getSymbolPath();if(&quot;radial&quot;===o.layout){var g,m,v=l.children[0],y=v.getLayout(),x=v.children.length;if(p.x===y.x&amp;&amp;!0===s.isExpand){var _={};_.x=(v.children[0].getLayout().x+v.children[x-1].getLayout().x)/2,_.y=(v.children[0].getLayout().y+v.children[x-1].getLayout().y)/2,(g=Math.atan2(_.y-y.y,_.x-y.x))&lt;0&amp;&amp;(g=2*Math.PI+g),(m=_.x&lt;y.x)&amp;&amp;(g-=Math.PI)}else(g=Math.atan2(p.y-y.y,p.x-y.x))&lt;0&amp;&amp;(g=2*Math.PI+g),0===s.children.length||0!==s.children.length&amp;&amp;!1===s.isExpand?(m=p.x&lt;y.x)&amp;&amp;(g-=Math.PI):(m=p.x&gt;y.x)||(g-=Math.PI);var b=m?&quot;left&quot;:&quot;right&quot;;f.setStyle({textPosition:b,textRotation:-g,textOrigin:&quot;center&quot;,verticalAlign:&quot;middle&quot;})}if(s.parentNode&amp;&amp;s.parentNode!==l){var w=i.__edge;w||(w=i.__edge=new fp.BezierCurve({shape:bn(o,d,d),style:rl.defaults({opacity:0},o.lineStyle)})),fp.updateProps(w,{shape:bn(o,c,p),style:{opacity:1}},a),n.add(w)}}function _n(t,e,i,n,a,o){for(var r,s=t.tree.getNodeByDataIndex(e),l=t.tree.root,o=yn(s,s.getModel(),o),h=s.parentNode===l?s:s.parentNode||s;null==(r=h.getLayout());)h=h.parentNode===l?h:h.parentNode||h;fp.updateProps(i,{position:[r.x+1,r.y+1]},a,function(){n.remove(i),t.setItemGraphicEl(e,null)}),i.fadeOut(null,{keepLabel:!0});var u=i.__edge;u&amp;&amp;fp.updateProps(u,{shape:bn(o,r,r),style:{opacity:0}},a,function(){n.remove(u)})}function bn(t,e,i){var n,a,o,r,s=t.orient;if(&quot;radial&quot;===t.layout){var l=e.rawX,h=e.rawY,u=i.rawX,c=i.rawY,d=lx(l,h),p=lx(l,h+(c-h)*t.curvature),f=lx(u,c+(h-c)*t.curvature),g=lx(u,c);return{x1:d.x,y1:d.y,x2:g.x,y2:g.y,cpx1:p.x,cpy1:p.y,cpx2:f.x,cpy2:f.y}}var l=e.x,h=e.y,u=i.x,c=i.y;return&quot;horizontal&quot;===s&amp;&amp;(n=l+(u-l)*t.curvature,a=h,o=u+(l-u)*t.curvature,r=c),&quot;vertical&quot;===s&amp;&amp;(n=l,a=h+(c-h)*t.curvature,o=u,r=c+(h-c)*t.curvature),{x1:l,y1:h,x2:u,y2:c,cpx1:n,cpy1:a,cpx2:o,cpy2:r}}function wn(t){for(var e=[];t;)(t=t.parentNode)&amp;&amp;e.push(t);return e.reverse()}function Sn(t){var e=0;rl.each(t.children,function(t){Sn(t);var i=t.value;rl.isArray(i)&amp;&amp;(i=i[0]),e+=i});var i=t.value;rl.isArray(i)&amp;&amp;(i=i[0]),(null==i||isNaN(i))&amp;&amp;(i=e),i&lt;0&amp;&amp;(i=0),rl.isArray(t.value)?t.value[0]=i:t.value=i}function Mn(t){this.group=new fp.Group,t.add(this.group)}function In(t,e){var i=t.visual,n=[];rl.isObject(i)?jx(i,function(t){n.push(t)}):null!=i&amp;&amp;n.push(i);e||1!==n.length||{color:1,symbol:1}.hasOwnProperty(t.type)||(n[1]=n[0]),On(t,n)}function Tn(t){return{applyVisual:function(e,i,n){e=this.mapValueToVisual(e),n(&quot;color&quot;,t(i(&quot;color&quot;),e))},_doMap:Pn([0,1])}}function An(t){var e=this.option.visual;return e[Math.round(Zx(t,[0,1],[0,e.length-1],!0))]||{}}function Cn(t){return function(e,i,n){n(t,this.mapValueToVisual(e))}}function Ln(t){var e=this.option.visual;return e[this.option.loop&amp;&amp;t!==qx?t%e.length:t]}function Dn(){return this.option.visual[0]}function Pn(t){return{linear:function(e){return Zx(e,t,this.option.visual,!0)},category:Ln,piecewise:function(e,i){var n=kn.call(this,i);return null==n&amp;&amp;(n=Zx(e,t,this.option.visual,!0)),n},fixed:Dn}}function kn(t){var e=this.option,i=e.pieceList;if(e.hasSpecialVisual){var n=i[Xx.findPieceIndex(t,i)];if(n&amp;&amp;n.visual)return n.visual[this.type]}}function On(t,e){return t.visual=e,&quot;color&quot;===t.type&amp;&amp;(t.parsedVisual=rl.map(e,function(t){return Nl.parse(t)})),e}function zn(t,e,i){return t?e&lt;=i:e&lt;i}function En(t,e,i,n,a,o){var r=t.getModel(),s=t.getLayout();if(s&amp;&amp;!s.invisible&amp;&amp;s.isInView){var l,h=t.getModel(Qx),u=function(t,e,i,n){var a=rl.extend({},e);return rl.each([&quot;color&quot;,&quot;colorAlpha&quot;,&quot;colorSaturation&quot;],function(o){var r=t.get(o,!0);null==r&amp;&amp;i&amp;&amp;(r=i[o]),null==r&amp;&amp;(r=e[o]),null==r&amp;&amp;(r=n.get(o)),null!=r&amp;&amp;(a[o]=r)}),a}(h,e,i[t.depth],n),c=h.get(&quot;borderColor&quot;),d=h.get(&quot;borderColorSaturation&quot;);null!=d&amp;&amp;(c=function(t,e){return null!=e?Nl.modifyHSL(e,null,null,t):null}(d,l=Rn(u))),t.setVisual(&quot;borderColor&quot;,c);var p=t.viewChildren;if(p&amp;&amp;p.length){var f=function(t,e,i,n,a,o){if(!o||!o.length)return;var r=Vn(e,&quot;color&quot;)||null!=a.color&amp;&amp;&quot;none&quot;!==a.color&amp;&amp;(Vn(e,&quot;colorAlpha&quot;)||Vn(e,&quot;colorSaturation&quot;));if(!r)return;var s=e.get(&quot;visualMin&quot;),l=e.get(&quot;visualMax&quot;),h=i.dataExtent.slice();null!=s&amp;&amp;s&lt;h[0]&amp;&amp;(h[0]=s),null!=l&amp;&amp;l&gt;h[1]&amp;&amp;(h[1]=l);var u=e.get(&quot;colorMappingBy&quot;),c={type:r.name,dataExtent:h,visual:r.range};&quot;color&quot;!==c.type||&quot;index&quot;!==u&amp;&amp;&quot;id&quot;!==u?c.mappingMethod=&quot;linear&quot;:(c.mappingMethod=&quot;category&quot;,c.loop=!0);var d=new Kx(c);return d.__drColorMappingBy=u,d}(0,r,s,0,u,p);rl.each(p,function(t,e){if(t.depth&gt;=a.length||t===a[t.depth]){En(t,function(t,e,i,n,a,o){var r=rl.extend({},e);if(a){var s=a.type,l=&quot;color&quot;===s&amp;&amp;a.__drColorMappingBy,h=&quot;index&quot;===l?n:&quot;id&quot;===l?o.mapIdToIndex(i.getId()):i.getValue(t.get(&quot;visualDimension&quot;));r[s]=a.mapValueToVisual(h)}return r}(r,u,t,e,f,o),i,n,a,o)}})}else l=Rn(u),t.setVisual(&quot;color&quot;,l)}}function Rn(t){var e=Nn(t,&quot;color&quot;);if(e){var i=Nn(t,&quot;colorAlpha&quot;),n=Nn(t,&quot;colorSaturation&quot;);return n&amp;&amp;(e=Nl.modifyHSL(e,null,null,n)),i&amp;&amp;(e=Nl.modifyAlpha(e,i)),e}}function Nn(t,e){var i=t[e];if(null!=i&amp;&amp;&quot;none&quot;!==i)return i}function Vn(t,e){var i=t.get(e);return Jx(i)&amp;&amp;i.length?{name:e,range:i}:null}function Bn(t,e,i,n){var a,o;if(!t.isRemoved()){var r=t.getLayout();a=r.width,o=r.height;var s=(p=t.getModel()).get(s_),l=p.get(l_)/2,h=Wn(p),u=Math.max(s,h),c=s-l,d=u-l,p=t.getModel();t.setLayout({borderWidth:s,upperHeight:u,upperLabelHeight:h},!0);var f=(a=n_(a-2*c,0))*(o=n_(o-c-d,0)),g=function(t,e,i,n,a,o){var r=t.children||[],s=n.sort;&quot;asc&quot;!==s&amp;&amp;&quot;desc&quot;!==s&amp;&amp;(s=null);var l=null!=n.leafDepth&amp;&amp;n.leafDepth&lt;=o;if(a&amp;&amp;!l)return t.viewChildren=[];!function(t,e){e&amp;&amp;t.sort(function(t,i){var n=&quot;asc&quot;===e?t.getValue()-i.getValue():i.getValue()-t.getValue();return 0===n?&quot;asc&quot;===e?t.dataIndex-i.dataIndex:i.dataIndex-t.dataIndex:n})}(r=rl.filter(r,function(t){return!t.isRemoved()}),s);var h=function(t,e,i){for(var n=0,a=0,o=e.length;a&lt;o;a++)n+=e[a].getValue();var r=t.get(&quot;visualDimension&quot;);if(e&amp;&amp;e.length)if(&quot;value&quot;===r&amp;&amp;i)s=[e[e.length-1].getValue(),e[0].getValue()],&quot;asc&quot;===i&amp;&amp;s.reverse();else{var s=[1/0,-1/0];r_(e,function(t){var e=t.getValue(r);e&lt;s[0]&amp;&amp;(s[0]=e),e&gt;s[1]&amp;&amp;(s[1]=e)})}else s=[NaN,NaN];return{sum:n,dataExtent:s}}(e,r,s);if(0===h.sum)return t.viewChildren=[];if(h.sum=function(t,e,i,n,a){if(!n)return i;for(var o=t.get(&quot;visibleMin&quot;),r=a.length,s=r,l=r-1;l&gt;=0;l--){var h=a[&quot;asc&quot;===n?r-l-1:l].getValue();h/i*e&lt;o&amp;&amp;(s=l,i-=h)}return&quot;asc&quot;===n?a.splice(0,r-s):a.splice(s,r-s),i}(e,i,h.sum,s,r),0===h.sum)return t.viewChildren=[];for(var u=0,c=r.length;u&lt;c;u++){var d=r[u].getValue()/h.sum*i;r[u].setLayout({area:d})}l&amp;&amp;(r.length&amp;&amp;t.setLayout({isLeafRoot:!0},!0),r.length=0);return t.viewChildren=r,t.setLayout({dataExtent:h.dataExtent},!0),r}(t,p,f,e,i,n);if(g.length){var m={x:c,y:d,width:a,height:o},v=a_(a,o),y=1/0,x=[];x.area=0;for(var _=0,b=g.length;_&lt;b;){var w=g[_];x.push(w),x.area+=w.getLayout().area;var S=function(t,e,i){for(var n,a=0,o=1/0,r=0,s=t.length;r&lt;s;r++)(n=t[r].getLayout().area)&amp;&amp;(n&lt;o&amp;&amp;(o=n),n&gt;a&amp;&amp;(a=n));var l=t.area*t.area,h=e*e*i;return l?n_(h*a/l,l/(h*o)):1/0}(x,v,e.squareRatio);S&lt;=y?(_++,y=S):(x.area-=x.pop().getLayout().area,Gn(x,v,m,l,!1),v=a_(m.width,m.height),x.length=x.area=0,y=1/0)}if(x.length&amp;&amp;Gn(x,v,m,l,!0),!i){var M=p.get(&quot;childrenVisibleMin&quot;);null!=M&amp;&amp;f&lt;M&amp;&amp;(i=!0)}for(var _=0,b=g.length;_&lt;b;_++)Bn(g[_],e,i,n+1)}}}function Gn(t,e,i,n,a){var o=e===i.width?0:1,r=1-o,s=[&quot;x&quot;,&quot;y&quot;],l=[&quot;width&quot;,&quot;height&quot;],h=i[s[o]],u=e?t.area/e:0;(a||u&gt;i[l[r]])&amp;&amp;(u=i[l[r]]);for(var c=0,d=t.length;c&lt;d;c++){var p=t[c],f={},g=u?p.getLayout().area/u:0,m=f[l[r]]=n_(u-2*n,0),v=i[s[o]]+i[l[o]]-h,y=c===d-1||v&lt;g?v:g,x=f[l[o]]=n_(y-2*n,0);f[s[r]]=i[s[r]]+a_(n,m/2),f[s[o]]=h+a_(n,x/2),h+=y,p.setLayout(f,!0)}i[s[r]]+=u,i[l[r]]-=u}function Hn(t,e,i,n,a){var o=t.getLayout(),r=i[a],s=r&amp;&amp;r===t;if(!(r&amp;&amp;!s||a===i.length&amp;&amp;t!==n)){t.setLayout({isInView:!0,invisible:!s&amp;&amp;!e.intersect(o),isAboveViewRoot:s},!0);var l=new oh(e.x-o.x,e.y-o.y,e.width,e.height);r_(t.viewChildren||[],function(t){Hn(t,l,i,n,a+1)})}}function Wn(t){return t.get(h_)?t.get(u_):0}function Fn(t){return&quot;_EC_&quot;+t}function Zn(t,e){this.id=null==t?&quot;&quot;:t,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==e?-1:e}function jn(t,e,i){this.node1=t,this.node2=e,this.dataIndex=null==i?-1:i}function Un(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}function qn(t){return&quot;_&quot;+t+&quot;Type&quot;}function Xn(t,e,i){var n=e.getItemVisual(i,&quot;color&quot;),a=e.getItemVisual(i,t),o=e.getItemVisual(i,t+&quot;Size&quot;);if(a&amp;&amp;&quot;none&quot;!==a){rl.isArray(o)||(o=[o,o]);var r=Ug.createSymbol(a,-o[0]/2,-o[1]/2,o[0],o[1],n);return r.name=t,r}}function Yn(t,e){var i=e[0],n=e[1],a=e[2];t.x1=i[0],t.y1=i[1],t.x2=n[0],t.y2=n[1],t.percent=1,a?(t.cpx1=a[0],t.cpy1=a[1]):(t.cpx1=NaN,t.cpy1=NaN)}function $n(t,e,i){fp.Group.call(this),this._createLine(t,e,i)}function Kn(t){return isNaN(t[0])||isNaN(t[1])}function Jn(t){return!Kn(t[0])&amp;&amp;!Kn(t[1])}function Qn(t){this._ctor=t||T_,this.group=new fp.Group}function ta(t,e,i){for(var n,a=t[0],o=t[1],r=t[2],s=1/0,l=i*i,h=.1,u=.1;u&lt;=.9;u+=.1){L_[0]=k_(a[0],o[0],r[0],u),L_[1]=k_(a[1],o[1],r[1],u);(p=z_(O_(L_,e)-l))&lt;s&amp;&amp;(s=p,n=u)}for(var c=0;c&lt;32;c++){var d=n+h;D_[0]=k_(a[0],o[0],r[0],n),D_[1]=k_(a[1],o[1],r[1],n),P_[0]=k_(a[0],o[0],r[0],d),P_[1]=k_(a[1],o[1],r[1],d);var p=O_(D_,e)-l;if(z_(p)&lt;.01)break;var f=O_(P_,e)-l;h/=2,p&lt;0?f&gt;=0?n+=h:n-=h:f&gt;=0?n-=h:n+=h}return n}function ea(t,e){return t.getVisual(&quot;opacity&quot;)||t.getModel().get(e)}function ia(t,e,i){var n=t.getGraphicEl(),a=ea(t,e);null!=i&amp;&amp;(null==a&amp;&amp;(a=1),a*=i),n.downplay&amp;&amp;n.downplay(),n.traverse(function(t){&quot;group&quot;!==t.type&amp;&amp;t.setStyle(&quot;opacity&quot;,a)})}function na(t,e){var i=ea(t,e),n=t.getGraphicEl();n.highlight&amp;&amp;n.highlight(),n.traverse(function(t){&quot;group&quot;!==t.type&amp;&amp;t.setStyle(&quot;opacity&quot;,i)})}function aa(t){return t instanceof Array||(t=[t,t]),t}function oa(t){t.eachEdge(function(t){var e=t.getModel().get(&quot;lineStyle.normal.curveness&quot;)||0,i=ll.clone(t.node1.getLayout()),n=ll.clone(t.node2.getLayout()),a=[i,n];+e&amp;&amp;a.push([(i[0]+n[0])/2-(i[1]-n[1])*e,(i[1]+n[1])/2-(n[0]-i[0])*e]),t.setLayout(a)})}function ra(t,e){return e&amp;&amp;(&quot;string&quot;==typeof e?t=e.replace(&quot;{value}&quot;,null!=t?t:&quot;&quot;):&quot;function&quot;==typeof e&amp;&amp;(t=e(t))),t}function sa(t,e){function i(){o.ignore=o.hoverIgnore,r.ignore=r.hoverIgnore}function n(){o.ignore=o.normalIgnore,r.ignore=r.normalIgnore}fp.Group.call(this);var a=new fp.Polygon,o=new fp.Polyline,r=new fp.Text;this.add(a),this.add(o),this.add(r),this.updateData(t,e,!0),this.on(&quot;emphasis&quot;,i).on(&quot;normal&quot;,n).on(&quot;mouseover&quot;,i).on(&quot;mouseout&quot;,n)}function la(t,e){var i=t[e]-t[1-e];return{span:Math.abs(i),sign:i&gt;0?-1:i&lt;0?1:e?-1:1}}function ha(t,e){return Math.min(e[1],Math.max(e[0],t))}function ua(t,e,i){this._axesMap=rl.createHashMap(),this._axesLayout={},this.dimensions=t.dimensions,this._rect,this._model=t,this._init(t,e,i)}function ca(t,e){return bb(wb(t,e[0]),e[1])}function da(t){dl.call(this),this._zr=t,this.group=new fp.Group,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid=&quot;brushController_&quot;+Wb++,this._handlers={},Db(Fb,function(t,e){this._handlers[e]=rl.bind(t,this)},this)}function pa(t,e){var i=Zb[e.brushType].createCover(t,e);return i.__brushOption=e,ma(i,e),t.group.add(i),i}function fa(t,e){var i=ya(e);return i.endCreating&amp;&amp;(i.endCreating(t,e),ma(e,e.__brushOption)),e}function ga(t,e){var i=e.__brushOption;ya(e).updateCoverShape(t,e,i.range,i)}function ma(t,e){var i=e.z;null==i&amp;&amp;(i=Eb),t.traverse(function(t){t.z=i,t.z2=i})}function va(t,e){ya(e).updateCommon(t,e),ga(t,e)}function ya(t){return Zb[t.__brushOption.brushType]}function xa(t,e,i){var n=t._panels;if(!n)return!0;var a,o=t._transform;return Db(n,function(t){t.isTargetByCursor(e,i,o)&amp;&amp;(a=t)}),a}function _a(t,e){var i=t._panels;if(!i)return!0;var n=e.__brushOption.panelId;return null==n||i[n]}function ba(t){var e=t._covers,i=e.length;return Db(e,function(e){t.group.remove(e)},t),e.length=0,!!i}function wa(t,e){var i=Pb(t._covers,function(t){var e=t.__brushOption,i=rl.clone(e.range);return{brushType:e.brushType,panelId:e.panelId,range:i}});t.trigger(&quot;brush&quot;,i,{isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function Sa(t){var e=t.length-1;return e&lt;0&amp;&amp;(e=0),[t[0],t[e]]}function Ma(t,e,i,n){var a=new fp.Group;return a.add(new fp.Rect({name:&quot;main&quot;,style:Ca(i),silent:!0,draggable:!0,cursor:&quot;move&quot;,drift:Lb(t,e,a,&quot;nswe&quot;),ondragend:Lb(wa,e,{isEnd:!0})})),Db(n,function(i){a.add(new fp.Rect({name:i,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Lb(t,e,a,i),ondragend:Lb(wa,e,{isEnd:!0})}))}),a}function Ia(t,e,i,n){var a=n.brushStyle.lineWidth||0,o=Ob(a,Nb),r=i[0][0],s=i[1][0],l=r-a/2,h=s-a/2,u=i[0][1],c=i[1][1],d=u-o+a/2,p=c-o+a/2,f=u-r,g=c-s,m=f+a,v=g+a;Aa(t,e,&quot;main&quot;,r,s,f,g),n.transformable&amp;&amp;(Aa(t,e,&quot;w&quot;,l,h,o,v),Aa(t,e,&quot;e&quot;,d,h,o,v),Aa(t,e,&quot;n&quot;,l,h,m,o),Aa(t,e,&quot;s&quot;,l,p,m,o),Aa(t,e,&quot;nw&quot;,l,h,o,o),Aa(t,e,&quot;ne&quot;,d,h,o,o),Aa(t,e,&quot;sw&quot;,l,p,o,o),Aa(t,e,&quot;se&quot;,d,p,o,o))}function Ta(t,e){var i=e.__brushOption,n=i.transformable,a=e.childAt(0);a.useStyle(Ca(i)),a.attr({silent:!n,cursor:n?&quot;move&quot;:&quot;default&quot;}),Db([&quot;w&quot;,&quot;e&quot;,&quot;n&quot;,&quot;s&quot;,&quot;se&quot;,&quot;sw&quot;,&quot;ne&quot;,&quot;nw&quot;],function(i){var a=e.childOfName(i),o=Da(t,i);a&amp;&amp;a.attr({silent:!n,invisible:!n,cursor:n?Gb[o]+&quot;-resize&quot;:null})})}function Aa(t,e,i,n,a,o,r){var s=e.childOfName(i);s&amp;&amp;s.setShape(function(t){var e=kb(t[0][0],t[1][0]),i=kb(t[0][1],t[1][1]),n=Ob(t[0][0],t[1][0]),a=Ob(t[0][1],t[1][1]);return{x:e,y:i,width:n-e,height:a-i}}(Oa(t,e,[[n,a],[n+o,a+r]])))}function Ca(t){return rl.defaults({strokeNoScale:!0},t.brushStyle)}function La(t,e,i,n){var a=[kb(t,i),kb(e,n)],o=[Ob(t,i),Ob(e,n)];return[[a[0],o[0]],[a[1],o[1]]]}function Da(t,e){if(e.length&gt;1){return(&quot;e&quot;===(i=[Da(t,(e=e.split(&quot;&quot;))[0]),Da(t,e[1])])[0]||&quot;w&quot;===i[0])&amp;&amp;i.reverse(),i.join(&quot;&quot;)}var i=fp.transformDirection({w:&quot;left&quot;,e:&quot;right&quot;,n:&quot;top&quot;,s:&quot;bottom&quot;}[e],function(t){return fp.getTransform(t.group)}(t));return{left:&quot;w&quot;,right:&quot;e&quot;,top:&quot;n&quot;,bottom:&quot;s&quot;}[i]}function Pa(t,e,i,n,a,o,r,s){var l=n.__brushOption,h=t(l.range),u=ka(i,o,r);Db(a.split(&quot;&quot;),function(t){var e=Bb[t];h[e[0]][e[1]]+=u[e[0]]}),l.range=e(La(h[0][0],h[1][0],h[0][1],h[1][1])),va(i,n),wa(i,{isEnd:!1})}function ka(t,e,i){var n=t.group,a=n.transformCoordToLocal(e,i),o=n.transformCoordToLocal(0,0);return[a[0]-o[0],a[1]-o[1]]}function Oa(t,e,i){var n=_a(t,e);return n&amp;&amp;!0!==n?n.clipPath(i,t._transform):rl.clone(i)}function za(t){var e=t.event;e.preventDefault&amp;&amp;e.preventDefault()}function Ea(t,e,i){return t.childOfName(&quot;main&quot;).contain(e,i)}function Ra(t,e,i,n){var a,o=t._creatingCover,r=t._creatingPanel,s=t._brushOption;if(t._track.push(i.slice()),function(t){var e=t._track;if(!e.length)return!1;var i=e[e.length-1],n=e[0],a=i[0]-n[0],o=i[1]-n[1];return zb(a*a+o*o,.5)&gt;Rb}(t)||o){if(r&amp;&amp;!o){&quot;single&quot;===s.brushMode&amp;&amp;ba(t);var l=rl.clone(s);l.brushType=Na(l.brushType,r),l.panelId=!0===r?null:r.panelId,o=t._creatingCover=pa(t,l),t._covers.push(o)}if(o){var h=Zb[Na(t._brushType,r)];o.__brushOption.range=h.getCreatingRange(Oa(t,o,t._track)),n&amp;&amp;(fa(t,o),h.updateCommon(t,o)),ga(t,o),a={isEnd:n}}}else n&amp;&amp;&quot;single&quot;===s.brushMode&amp;&amp;s.removeOnClick&amp;&amp;xa(t,e,i)&amp;&amp;ba(t)&amp;&amp;(a={isEnd:n,removeOnClick:!0});return a}function Na(t,e){return&quot;auto&quot;===t?e.defaultBrushType:t}function Va(t){if(this._dragging){za(t);var e=Ra(this,t,this.group.transformCoordToLocal(t.offsetX,t.offsetY),!0);this._dragging=!1,this._track=[],this._creatingCover=null,e&amp;&amp;wa(this,e)}}function Ba(t){return{createCover:function(e,i){return Ma(Lb(Pa,function(e){var i=[e,[0,100]];return t&amp;&amp;i.reverse(),i},function(e){return e[t]}),e,i,[[&quot;w&quot;,&quot;e&quot;],[&quot;n&quot;,&quot;s&quot;]][t])},getCreatingRange:function(e){var i=Sa(e);return[kb(i[0][t],i[1][t]),Ob(i[0][t],i[1][t])]},updateCoverShape:function(e,i,n,a){var o,r=_a(e,i);if(!0!==r&amp;&amp;r.getLinearBrushOtherExtent)o=r.getLinearBrushOtherExtent(t,e._transform);else{var s=e._zr;o=[0,[s.getWidth(),s.getHeight()][1-t]]}var l=[n,o];t&amp;&amp;l.reverse(),Ia(e,i,l,a)},updateCommon:Ta,contain:Ea}}function Ga(t){return oh.create(t)}function Ha(t){var e=t.axis;return rl.map(t.activeIntervals,function(t){return{brushType:&quot;lineX&quot;,panelId:&quot;pl&quot;,range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}})}function Wa(t,e){var i=t._model;return i.get(&quot;axisExpandable&quot;)&amp;&amp;i.get(&quot;axisExpandTriggerOn&quot;)===e}function Fa(t){return+t.replace(&quot;dim&quot;,&quot;&quot;)}function Za(t,e,i,n){for(var a=[],o=0;o&lt;i.length;o++){var r=i[o],s=t.get(r,e);(function(t,e){return&quot;category&quot;===e?null==t:null==t||isNaN(t)})(s,n.getAxis(r).type)||a.push(n.dataToPoint(s,r))}return a}function ja(t,e,i){rl.each(t,function(t){var n,a,o,r=0,s=t.length;for(t.sort(function(t,e){return t.getLayout().y-e.getLayout().y}),o=0;o&lt;s;o++){if(n=t[o],(a=r-n.getLayout().y)&gt;0){l=n.getLayout().y+a;n.setLayout({y:l},!0)}r=n.getLayout().y+n.getLayout().dy+e}if((a=r-e-i)&gt;0){var l=n.getLayout().y-a;for(n.setLayout({y:l},!0),r=n.getLayout().y,o=s-2;o&gt;=0;--o)(a=(n=t[o]).getLayout().y+n.getLayout().dy+e-r)&gt;0&amp;&amp;(l=n.getLayout().y-a,n.setLayout({y:l},!0)),r=n.getLayout().y}})}function Ua(t,e){for(var i=0,n=t.length,a=-1;++a&lt;n;){var o=+e.call(t,t[a],a);isNaN(o)||(i+=o)}return i}function qa(t){return t.getLayout().y+t.getLayout().dy/2}function Xa(t){return t.getValue()}function Ya(t,e,i,n){fp.Group.call(this),this.bodyIndex,this.whiskerIndex,this.styleUpdater=i,this._createContent(t,e,n),this.updateData(t,e,n),this._seriesModel}function $a(t,e,i){return rl.map(t,function(t){return t=t.slice(),t[e]=i.initBaseline,t})}function Ka(t){var e={};return rl.each(t,function(t,i){e[&quot;ends&quot;+i]=t}),e}function Ja(t){this.group=new fp.Group,this.styleUpdater=t}function Qa(t,e){t.eachChild(function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:&quot;stroke&quot;===e.brushType?e.color:null,fill:&quot;fill&quot;===e.brushType?e.color:null}})})}function to(t,e){Vw.call(this);var i=new Lm(t,e),n=new Vw;this.add(i),this.add(n),n.beforeUpdate=function(){this.attr(i.getScale())},this.updateData(t,e)}function eo(t){var e=t.data;e&amp;&amp;e[0]&amp;&amp;e[0][0]&amp;&amp;e[0][0].coord&amp;&amp;(t.data=rl.map(e,function(t){var e={coords:[t[0].coord,t[1].coord]};return t[0].name&amp;&amp;(e.fromName=t[0].name),t[1].name&amp;&amp;(e.toName=t[1].name),rl.mergeAll([e,t[0],t[1]])}))}function io(t,e,i){fp.Group.call(this),this.add(this.createLine(t,e,i)),this._updateEffectSymbol(t,e)}function no(t,e,i){fp.Group.call(this),this._createPolyline(t,e,i)}function ao(t,e,i){Uw.call(this,t,e,i),this._lastFrame=0,this._lastFramePercent=0}function oo(){this.group=new fp.Group,this._lineEl=new Kw}function ro(t){return t instanceof Array||(t=[t,t]),t}function so(){var t=rl.createCanvas();this.canvas=t,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}function lo(t,e,i,n){var a=t.getItemLayout(e),o=i.get(&quot;symbolRepeat&quot;),r=i.get(&quot;symbolClip&quot;),s=i.get(&quot;symbolPosition&quot;)||&quot;start&quot;,l=(i.get(&quot;symbolRotate&quot;)||0)*Math.PI/180||0,h=i.get(&quot;symbolPatternSize&quot;)||2,u=i.isAnimationEnabled(),c={dataIndex:e,layout:a,itemModel:i,symbolType:t.getItemVisual(e,&quot;symbol&quot;)||&quot;circle&quot;,color:t.getItemVisual(e,&quot;color&quot;),symbolClip:r,symbolRepeat:o,symbolRepeatDirection:i.get(&quot;symbolRepeatDirection&quot;),symbolPatternSize:h,rotation:l,animationModel:u?i:null,hoverAnimation:u&amp;&amp;i.get(&quot;hoverAnimation&quot;),z2:i.getShallow(&quot;z&quot;,!0)||0};!function(t,e,i,n,a){var o,r=n.valueDim,s=t.get(&quot;symbolBoundingData&quot;),l=n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),h=l.toGlobalCoord(l.dataToCoord(0)),u=1-+(i[r.wh]&lt;=0);if(rl.isArray(s)){var c=[ho(l,s[0])-h,ho(l,s[1])-h];c[1]&lt;c[0]&amp;&amp;c.reverse(),o=c[u]}else o=null!=s?ho(l,s)-h:e?n.coordSysExtent[r.index][u]-h:i[r.wh];a.boundingLength=o,e&amp;&amp;(a.repeatCutLength=i[r.wh]);a.pxSign=o&gt;0?1:o&lt;0?-1:0}(i,o,a,n,c),function(t,e,i,n,a,o,r,s,l,h){var u=l.valueDim,c=l.categoryDim,d=Math.abs(i[c.wh]),p=t.getItemVisual(e,&quot;symbolSize&quot;);rl.isArray(p)?p=p.slice():(null==p&amp;&amp;(p=&quot;100%&quot;),p=[p,p]);p[c.index]=oS(p[c.index],d),p[u.index]=oS(p[u.index],n?d:Math.abs(o)),h.symbolSize=p;(h.symbolScale=[p[0]/s,p[1]/s])[u.index]*=(l.isHorizontal?-1:1)*r}(t,e,a,o,0,c.boundingLength,c.pxSign,h,n,c),function(t,e,i,n,a){var o=t.get(lS)||0;o&amp;&amp;(uS.attr({scale:e.slice(),rotation:i}),uS.updateTransform(),o/=uS.getLineScale(),o*=e[n.valueDim.index]);a.valueLineWidth=o}(i,c.symbolScale,l,n,c);var d=c.symbolSize,p=i.get(&quot;symbolOffset&quot;);return rl.isArray(p)&amp;&amp;(p=[oS(p[0],d[0]),oS(p[1],d[1])]),function(t,e,i,n,a,o,r,s,l,h,u,c){var d=u.categoryDim,p=u.valueDim,f=c.pxSign,g=Math.max(e[p.index]+s,0),m=g;if(n){var v=Math.abs(l),y=rl.retrieve(t.get(&quot;symbolMargin&quot;),&quot;15%&quot;)+&quot;&quot;,x=!1;y.lastIndexOf(&quot;!&quot;)===y.length-1&amp;&amp;(x=!0,y=y.slice(0,y.length-1)),y=oS(y,e[p.index]);var _=Math.max(g+2*y,0),b=x?0:2*y,w=rS(n),S=w?n:Mo((v+b)/_);_=g+2*(y=(v-S*g)/2/(x?S:S-1)),b=x?0:2*y,w||&quot;fixed&quot;===n||(S=h?Mo((Math.abs(h)+b)/_):0),m=S*_-b,c.repeatTimes=S,c.symbolMargin=y}var M=f*(m/2),I=c.pathPosition=[];I[d.index]=i[d.wh]/2,I[p.index]=&quot;start&quot;===r?M:&quot;end&quot;===r?l-M:l/2,o&amp;&amp;(I[0]+=o[0],I[1]+=o[1]);var T=c.bundlePosition=[];T[d.index]=i[d.xy],T[p.index]=i[p.xy];var A=c.barRectShape=rl.extend({},i);A[p.wh]=f*Math.max(Math.abs(i[p.wh]),Math.abs(I[p.index]+M)),A[d.wh]=i[d.wh];var C=c.clipShape={};C[d.xy]=-i[d.xy],C[d.wh]=u.ecSize[d.wh],C[p.xy]=0,C[p.wh]=i[p.wh]}(i,d,a,o,0,p,s,c.valueLineWidth,c.boundingLength,c.repeatCutLength,n,c),c}function ho(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function uo(t){var e=t.symbolPatternSize,i=aS(t.symbolType,-e/2,-e/2,e,e,t.color);return i.attr({culling:!0}),&quot;image&quot;!==i.type&amp;&amp;i.setStyle({strokeNoScale:!0}),i}function co(t,e,i,n){function a(t){var e=l.slice(),n=i.pxSign,a=t;return(&quot;start&quot;===i.symbolRepeatDirection?n&gt;0:n&lt;0)&amp;&amp;(a=u-1-t),e[h.index]=d*(a-u/2+.5)+l[h.index],{position:e,scale:i.symbolScale.slice(),rotation:i.rotation}}var o=t.__pictorialBundle,r=i.symbolSize,s=i.valueLineWidth,l=i.pathPosition,h=e.valueDim,u=i.repeatTimes||0,c=0,d=r[e.valueDim.index]+s+2*i.symbolMargin;for(bo(t,function(t){t.__pictorialAnimationIndex=c,t.__pictorialRepeatTimes=u,c&lt;u?wo(t,null,a(c),i,n):wo(t,null,{scale:[0,0]},i,n,function(){o.remove(t)}),vo(t,i),c++});c&lt;u;c++){var p=uo(i);p.__pictorialAnimationIndex=c,p.__pictorialRepeatTimes=u,o.add(p);var f=a(c);wo(p,{position:f.position,scale:[0,0]},{scale:f.scale,rotation:f.rotation},i,n),p.on(&quot;mouseover&quot;,function(){bo(t,function(t){t.trigger(&quot;emphasis&quot;)})}).on(&quot;mouseout&quot;,function(){bo(t,function(t){t.trigger(&quot;normal&quot;)})}),vo(p,i)}}function po(t,e,i,n){var a=t.__pictorialBundle,o=t.__pictorialMainPath;o?wo(o,null,{position:i.pathPosition.slice(),scale:i.symbolScale.slice(),rotation:i.rotation},i,n):(o=t.__pictorialMainPath=uo(i),a.add(o),wo(o,{position:i.pathPosition.slice(),scale:[0,0],rotation:i.rotation},{scale:i.symbolScale.slice()},i,n),o.on(&quot;mouseover&quot;,function(){this.trigger(&quot;emphasis&quot;)}).on(&quot;mouseout&quot;,function(){this.trigger(&quot;normal&quot;)})),vo(o,i)}function fo(t,e,i){var n=rl.extend({},e.barRectShape),a=t.__pictorialBarRect;a?wo(a,null,{shape:n},e,i):(a=t.__pictorialBarRect=new fp.Rect({z2:2,shape:n,silent:!0,style:{stroke:&quot;transparent&quot;,fill:&quot;transparent&quot;,lineWidth:0}}),t.add(a))}function go(t,e,i,n){if(i.symbolClip){var a=t.__pictorialClipPath,o=rl.extend({},i.clipShape),r=e.valueDim,s=i.animationModel,l=i.dataIndex;if(a)fp.updateProps(a,{shape:o},s,l);else{o[r.wh]=0,a=new fp.Rect({shape:o}),t.__pictorialBundle.setClipPath(a),t.__pictorialClipPath=a;var h={};h[r.wh]=i.clipShape[r.wh],fp[n?&quot;updateProps&quot;:&quot;initProps&quot;](a,{shape:h},s,l)}}}function mo(t,e){var i=t.getItemModel(e);return i.getAnimationDelayParams=function(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}},i.isAnimationEnabled=function(){return this.parentModel.isAnimationEnabled()&amp;&amp;!!this.getShallow(&quot;animation&quot;)},i}function vo(t,e){t.off(&quot;emphasis&quot;).off(&quot;normal&quot;);var i=e.symbolScale.slice();e.hoverAnimation&amp;&amp;t.on(&quot;emphasis&quot;,function(){this.animateTo({scale:[1.1*i[0],1.1*i[1]]},400,&quot;elasticOut&quot;)}).on(&quot;normal&quot;,function(){this.animateTo({scale:i.slice()},400,&quot;elasticOut&quot;)})}function yo(t,e,i,n){var a=new fp.Group,o=new fp.Group;return a.add(o),a.__pictorialBundle=o,o.attr(&quot;position&quot;,i.bundlePosition.slice()),i.symbolRepeat?co(a,e,i):po(a,0,i),fo(a,i,n),go(a,e,i,n),a.__pictorialShapeStr=_o(t,i),a.__pictorialSymbolMeta=i,a}function xo(t,e,i,n){var a=n.__pictorialBarRect;a&amp;&amp;(a.style.text=null);var o=[];bo(n,function(t){o.push(t)}),n.__pictorialMainPath&amp;&amp;o.push(n.__pictorialMainPath),n.__pictorialClipPath&amp;&amp;(i=null),rl.each(o,function(t){fp.updateProps(t,{scale:[0,0]},i,e,function(){n.parent&amp;&amp;n.parent.remove(n)})}),t.setItemGraphicEl(e,null)}function _o(t,e){return[t.getItemVisual(e.dataIndex,&quot;symbol&quot;)||&quot;none&quot;,!!e.symbolRepeat,!!e.symbolClip].join(&quot;:&quot;)}function bo(t,e,i){rl.each(t.__pictorialBundle.children(),function(n){n!==t.__pictorialBarRect&amp;&amp;e.call(i,n)})}function wo(t,e,i,n,a,o){e&amp;&amp;t.attr(e),n.symbolClip&amp;&amp;!a?i&amp;&amp;t.attr(i):i&amp;&amp;fp[a?&quot;updateProps&quot;:&quot;initProps&quot;](t,i,n.animationModel,n.dataIndex,o)}function So(t,e,i){var n=i.color,a=i.dataIndex,o=i.itemModel,r=o.getModel(&quot;itemStyle.normal&quot;).getItemStyle([&quot;color&quot;]),s=o.getModel(&quot;itemStyle.emphasis&quot;).getItemStyle(),l=o.getShallow(&quot;cursor&quot;);bo(t,function(t){t.setColor(n),t.setStyle(rl.defaults({fill:n,opacity:i.opacity},r)),fp.setHoverStyle(t,s),l&amp;&amp;(t.cursor=l),t.z2=i.z2});var h={},u=e.valueDim.posDesc[+(i.boundingLength&gt;0)],c=t.__pictorialBarRect;sS(c.style,h,o,n,e.seriesModel,a,u),fp.setHoverStyle(c,h)}function Mo(t){var e=Math.round(t);return Math.abs(t-e)&lt;1e-4?e:Math.ceil(t)}function Io(t,e,i){this.dimension=&quot;single&quot;,this.dimensions=[&quot;single&quot;],this._axis=null,this._rect,this._init(t,e,i),this.model=t}function To(t,e,i,n,a){var o=t.axis;if(!o.scale.isBlank()&amp;&amp;o.containData(e))if(t.involveSeries){var r=function(t,e){var i=e.axis,n=i.dim,a=t,o=[],r=Number.MAX_VALUE,s=-1;return wS(e.seriesModels,function(e,l){var h,u,c=e.coordDimToDataDim(n);if(e.getAxisTooltipData){var d=e.getAxisTooltipData(c,t,i);u=d.dataIndices,h=d.nestestValue}else{if(!(u=e.getData().indicesOfNearest(c[0],t,!1,&quot;category&quot;===i.type?.5:null)).length)return;h=e.getData().get(c[0],u[0])}if(null!=h&amp;&amp;isFinite(h)){var p=t-h,f=Math.abs(p);f&lt;=r&amp;&amp;((f&lt;r||p&gt;=0&amp;&amp;s&lt;0)&amp;&amp;(r=f,s=p,a=h,o.length=0),wS(u,function(t){o.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})}))}}),{payloadBatch:o,snapToValue:a}}(e,t),s=r.payloadBatch,l=r.snapToValue;s[0]&amp;&amp;null==a.seriesIndex&amp;&amp;rl.extend(a,s[0]),!n&amp;&amp;t.snap&amp;&amp;o.containData(l)&amp;&amp;null!=l&amp;&amp;(e=l),i.showPointer(t,e,s,a),i.showTooltip(t,r,l)}else i.showPointer(t,e)}function Ao(t){var e=t.axis.model,i={},n=i.axisDim=t.axis.dim;return i.axisIndex=i[n+&quot;AxisIndex&quot;]=e.componentIndex,i.axisName=i[n+&quot;AxisName&quot;]=e.name,i.axisId=i[n+&quot;AxisId&quot;]=e.id,i}function Co(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function Lo(t,e,i,n){e.handler(t,i,n)}function Do(){}function Po(t,e,i,n){ko(DS(i).lastProp,n)||(DS(i).lastProp=n,e?fp.updateProps(i,n,t):(i.stopAnimation(),i.attr(n)))}function ko(t,e){if(rl.isObject(t)&amp;&amp;rl.isObject(e)){var i=!0;return rl.each(e,function(e,n){i=i&amp;&amp;ko(t[n],e)}),!!i}return t===e}function Oo(t,e){t[e.get(&quot;label.show&quot;)?&quot;show&quot;:&quot;hide&quot;]()}function zo(t){return{position:t.position.slice(),rotation:t.rotation||0}}function Eo(t,e,i){var n=e.get(&quot;z&quot;),a=e.get(&quot;zlevel&quot;);t&amp;&amp;t.traverse(function(t){&quot;group&quot;!==t.type&amp;&amp;(null!=n&amp;&amp;(t.z=n),null!=a&amp;&amp;(t.zlevel=a),t.silent=i)})}function Ro(t,e,i,n,a){var o=No(i.get(&quot;value&quot;),e.axis,e.ecModel,i.get(&quot;seriesDataIndices&quot;),{precision:i.get(&quot;label.precision&quot;),formatter:i.get(&quot;label.formatter&quot;)}),r=i.getModel(&quot;label&quot;),s=Eu.normalizeCssArray(r.get(&quot;padding&quot;)||0),l=r.getFont(),h=Nh.getBoundingRect(o,l),u=a.position,c=h.width+s[1]+s[3],d=h.height+s[0]+s[2],p=a.align;&quot;right&quot;===p&amp;&amp;(u[0]-=c),&quot;center&quot;===p&amp;&amp;(u[0]-=c/2);var f=a.verticalAlign;&quot;bottom&quot;===f&amp;&amp;(u[1]-=d),&quot;middle&quot;===f&amp;&amp;(u[1]-=d/2),function(t,e,i,n){var a=n.getWidth(),o=n.getHeight();t[0]=Math.min(t[0]+e,a)-e,t[1]=Math.min(t[1]+i,o)-i,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}(u,c,d,n);var g=r.get(&quot;backgroundColor&quot;);g&amp;&amp;&quot;auto&quot;!==g||(g=e.get(&quot;axisLine.lineStyle.color&quot;)),t.label={shape:{x:0,y:0,width:c,height:d,r:r.get(&quot;borderRadius&quot;)},position:u.slice(),style:{text:o,textFont:l,textFill:r.getTextColor(),textPosition:&quot;inside&quot;,fill:g,stroke:r.get(&quot;borderColor&quot;)||&quot;transparent&quot;,lineWidth:r.get(&quot;borderWidth&quot;)||0,shadowBlur:r.get(&quot;shadowBlur&quot;),shadowColor:r.get(&quot;shadowColor&quot;),shadowOffsetX:r.get(&quot;shadowOffsetX&quot;),shadowOffsetY:r.get(&quot;shadowOffsetY&quot;)},z2:10}}function No(t,e,i,n,a){var o=e.scale.getLabel(t,{precision:a.precision}),r=a.formatter;if(r){var s={value:Rg.getAxisRawValue(e,t),seriesData:[]};rl.each(n,function(t){var e=i.getSeriesByIndex(t.seriesIndex),n=t.dataIndexInside,a=e&amp;&amp;e.getDataParams(n);a&amp;&amp;s.seriesData.push(a)}),rl.isString(r)?o=r.replace(&quot;{value}&quot;,o):rl.isFunction(r)&amp;&amp;(o=r(s))}return o}function Vo(t,e,i){var n=yl.create();return yl.rotate(n,n,i.rotation),yl.translate(n,n,i.position),fp.applyTransform([t.dataToCoord(e),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],n)}function Bo(t,e){var i={};return i[e.dim+&quot;AxisIndex&quot;]=e.index,t.getCartesian(i)}function Go(t){return&quot;x&quot;===t.dim?0:1}function Ho(t){return t.isHorizontal()?0:1}function Wo(t,e){var i=t.getRect();return[i[NS[e]],i[NS[e]]+i[VS[e]]]}function Fo(t,e,i){if(t.count())for(var n,a=e.coordinateSystem,o=e.getLayerSeries(),r=rl.map(o,function(e){return rl.map(e.indices,function(e){var i=a.dataToPoint(t.get(&quot;time&quot;,e));return i[1]=t.get(&quot;value&quot;,e),i})}),s=function(t){for(var e=t.length,i=t[0].length,n=[],a=[],o=0,r={},s=0;s&lt;i;++s){for(var l=0,h=0;l&lt;e;++l)h+=t[l][s][1];h&gt;o&amp;&amp;(o=h),n.push(h)}for(var u=0;u&lt;i;++u)a[u]=(o-n[u])/2;o=0;for(var c=0;c&lt;i;++c){var d=n[c]+a[c];d&gt;o&amp;&amp;(o=d)}return r.y0=a,r.max=o,r}(r),l=s.y0,h=i/s.max,u=o.length,c=o[0].indices.length,d=0;d&lt;c;++d){n=l[d]*h,t.setItemLayout(o[0].indices[d],{layerIndex:0,x:r[0][d][0],y0:n,y:r[0][d][1]*h});for(var p=1;p&lt;u;++p)n+=r[p-1][d][1]*h,t.setItemLayout(o[p].indices[d],{layerIndex:p,x:r[p][d][0],y0:n,y:r[p][d][1]*h})}}function Zo(t,e,i,n,a){null==i[t]||a||(e[t]=i[t],i[t]=n[t])}function jo(t,e,i,n,a,o){(t=Uo(t,e,i,n,a,o))&amp;&amp;o.setItemGraphicEl(e,t)}function Uo(t,e,i,n,a,o){var r=i.type;if(!t||r===t.__customGraphicType||&quot;path&quot;===r&amp;&amp;i.pathData===t.__customPathData||&quot;image&quot;===r&amp;&amp;i.style.image===t.__customImagePath||&quot;text&quot;===r&amp;&amp;i.style.text===t.__customText||(a.remove(t),t=null),null!=r){var s=!t;if(!t&amp;&amp;(t=function(t){var e,i=t.type;if(&quot;path&quot;===i){var n=t.shape;(e=fp.makePath(n.pathData,null,{x:n.x||0,y:n.y||0,width:n.width||0,height:n.height||0},&quot;center&quot;)).__customPathData=t.pathData}else&quot;image&quot;===i?(e=new fp.Image({})).__customImagePath=t.style.image:&quot;text&quot;===i?(e=new fp.Text({})).__customText=t.style.text:e=new(0,fp[i.charAt(0).toUpperCase()+i.slice(1)]);return e.__customGraphicType=i,e.name=t.name,e}(i)),function(t,e,i,n,a,o){var r={},s=i.style||{};i.shape&amp;&amp;(r.shape=rl.clone(i.shape)),i.position&amp;&amp;(r.position=i.position.slice()),i.scale&amp;&amp;(r.scale=i.scale.slice()),i.origin&amp;&amp;(r.origin=i.origin.slice()),i.rotation&amp;&amp;(r.rotation=i.rotation),&quot;image&quot;===t.type&amp;&amp;i.style&amp;&amp;(l=r.style={},rl.each([&quot;x&quot;,&quot;y&quot;,&quot;width&quot;,&quot;height&quot;],function(e){Zo(e,l,s,t.style,o)}));if(&quot;text&quot;===t.type&amp;&amp;i.style){var l=r.style={};rl.each([&quot;x&quot;,&quot;y&quot;],function(e){Zo(e,l,s,t.style,o)}),!s.hasOwnProperty(&quot;textFill&quot;)&amp;&amp;s.fill&amp;&amp;(s.textFill=s.fill),!s.hasOwnProperty(&quot;textStroke&quot;)&amp;&amp;s.stroke&amp;&amp;(s.textStroke=s.stroke)}if(&quot;group&quot;!==t.type&amp;&amp;(t.useStyle(s),o)){t.style.opacity=0;var h=s.opacity;null==h&amp;&amp;(h=1),fp.initProps(t,{style:{opacity:h}},n,e)}o?t.attr(r):fp.updateProps(t,r,n,e),t.attr({z2:i.z2||0,silent:i.silent}),!1!==i.styleEmphasis&amp;&amp;fp.setHoverStyle(t,i.styleEmphasis)}(t,e,i,n,0,s),&quot;group&quot;===r){var l=t.children()||[],h=i.children||[];if(i.diffChildrenByName)!function(t){new qf(t.oldChildren,t.newChildren,qo,qo,t).add(Xo).update(Xo).remove(function(t){var e=this.context,i=e.oldChildren[t];i&amp;&amp;e.group.remove(i)}).execute()}({oldChildren:l,newChildren:h,dataIndex:e,animatableModel:n,group:t,data:o});else{for(var u=0;u&lt;h.length;u++)Uo(t.childAt(u),e,h[u],n,t,o);for(;u&lt;l.length;u++)l[u]&amp;&amp;t.remove(l[u])}}return a.add(t),t}}function qo(t,e){var i=t&amp;&amp;t.name;return null!=i?i:tM+e}function Xo(t,e){var i=this.context,n=null!=t?i.newChildren[t]:null;Uo(null!=e?i.oldChildren[e]:null,i.dataIndex,n,i.animatableModel,i.group,i.data)}function Yo(t,e,i,n){var a=i.type,o=new(0,fp[a.charAt(0).toUpperCase()+a.slice(1)])(i);e.add(o),n.set(t,o),o.__ecGraphicId=t}function $o(t,e){var i=t&amp;&amp;t.parent;i&amp;&amp;(&quot;group&quot;===t.type&amp;&amp;t.traverse(function(t){$o(t,e)}),e.removeKey(t.__ecGraphicId),i.remove(t))}function Ko(t,e){var i;return rl.each(e,function(e){null!=t[e]&amp;&amp;&quot;auto&quot;!==t[e]&amp;&amp;(i=!0)}),i}function Jo(t,e,i){var n,a={},o=&quot;toggleSelected&quot;===t;return i.eachComponent(&quot;legend&quot;,function(i){o&amp;&amp;null!=n?i[n?&quot;select&quot;:&quot;unSelect&quot;](e.name):(i[t](e.name),n=i.isSelected(e.name));var r=i.getData();rl.each(r,function(t){var e=t.get(&quot;name&quot;);if(&quot;\n&quot;!==e&amp;&amp;&quot;&quot;!==e){var n=i.isSelected(e);a.hasOwnProperty(e)?a[e]=a[e]&amp;&amp;n:a[e]=n}})}),{name:e.name,selected:a}}function Qo(t,e){e.dispatchAction({type:&quot;legendToggleSelect&quot;,name:t})}function tr(t,e,i){var n=i.getZr().storage.getDisplayList()[0];n&amp;&amp;n.useHoverLayer||t.get(&quot;legendHoverLink&quot;)&amp;&amp;i.dispatchAction({type:&quot;highlight&quot;,seriesName:t.name,name:e})}function er(t,e,i){var n=i.getZr().storage.getDisplayList()[0];n&amp;&amp;n.useHoverLayer||t.get(&quot;legendHoverLink&quot;)&amp;&amp;i.dispatchAction({type:&quot;downplay&quot;,seriesName:t.name,name:e})}function ir(t,e,i){var n=[1,1];n[t.getOrient().index]=0,mM(e,i,{type:&quot;box&quot;,ignoreSize:n})}function nr(t,e){var i=document.createElement(&quot;div&quot;),n=this._zr=e.getZr();this.el=i,this._x=e.getWidth()/2,this._y=e.getHeight()/2,t.appendChild(i),this._container=t,this._show=!1,this._hideTimeout;var a=this;i.onmouseenter=function(){a._enterable&amp;&amp;(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0},i.onmousemove=function(e){if(e=e||window.event,!a._enterable){var i=n.handler;su.normalizeEvent(t,e,!0),i.dispatch(&quot;mousemove&quot;,e)}},i.onmouseleave=function(){a._enterable&amp;&amp;a._show&amp;&amp;a.hideLater(a._hideDelay),a._inContent=!1}}function ar(t){for(var e=t.pop();t.length;){var i=t.pop();i&amp;&amp;(i instanceof _p&amp;&amp;(i=i.get(&quot;tooltip&quot;,!0)),&quot;string&quot;==typeof i&amp;&amp;(i={formatter:i}),e=new _p(i,e,e.ecModel))}return e}function or(t,e){return t.dispatchAction||rl.bind(e.dispatchAction,e)}function rr(t){var e=t.clientWidth,i=t.clientHeight;if(document.defaultView&amp;&amp;document.defaultView.getComputedStyle){var n=document.defaultView.getComputedStyle(t);n&amp;&amp;(e+=parseInt(n.paddingLeft,10)+parseInt(n.paddingRight,10)+parseInt(n.borderLeftWidth,10)+parseInt(n.borderRightWidth,10),i+=parseInt(n.paddingTop,10)+parseInt(n.paddingBottom,10)+parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10))}return{width:e,height:i}}function sr(t){return&quot;center&quot;===t||&quot;middle&quot;===t}function lr(t){return t.get(&quot;stack&quot;)||&quot;__ec_stack_&quot;+t.seriesIndex}function hr(t){return t.dim}function ur(t,e){Kg.call(this,&quot;radius&quot;,t,e),this.type=&quot;category&quot;}function cr(t,e){e=e||[0,360],Kg.call(this,&quot;angle&quot;,t,e),this.type=&quot;category&quot;}function dr(t,e){return e.type||(e.data?&quot;category&quot;:&quot;value&quot;)}function pr(t,e){if(t.type=e.get(&quot;type&quot;),t.scale=GM(e),t.onBand=e.get(&quot;boundaryGap&quot;)&amp;&amp;&quot;category&quot;===t.type,t.inverse=e.get(&quot;inverse&quot;),&quot;angleAxis&quot;===e.mainType){t.inverse^=e.get(&quot;clockwise&quot;);var i=e.get(&quot;startAngle&quot;);t.setExtent(i,i+(t.inverse?-360:360))}e.axis=t,t.model=e}function fr(t,e,i){e[1]&gt;e[0]&amp;&amp;(e=e.slice().reverse());var n=t.coordToPoint([e[0],i]),a=t.coordToPoint([e[1],i]);return{x1:n[0],y1:n[1],x2:a[0],y2:a[1]}}function gr(t){return t.getRadiusAxis().inverse?0:1}function mr(t,e){e.update=&quot;updateView&quot;,ym.registerAction(e,function(e,i){var n={};return i.eachComponent({mainType:&quot;geo&quot;,query:e},function(i){i[t](e.name);var a=i.coordinateSystem;rl.each(a.regions,function(t){n[t.name]=i.isSelected(t.name)||!1})}),{selected:n,name:e.name}})}function vr(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!0}function yr(t){var e=[&quot;x&quot;,&quot;y&quot;],i=[&quot;width&quot;,&quot;height&quot;];return{point:function(e,i,n){if(e){var a=n.range;return xr(e[t],a)}},rect:function(n,a,o){if(n){var r=o.range,s=[n[e[t]],n[e[t]]+n[i[t]]];return s[1]&lt;s[0]&amp;&amp;s.reverse(),xr(s[0],r)||xr(s[1],r)||xr(r[0],s)||xr(r[1],s)}}}}function xr(t,e){return e[0]&lt;=t&amp;&amp;t&lt;=e[1]}function _r(t,e,i,n,a){for(var o=0,r=a[a.length-1];o&lt;a.length;o++){var s=a[o];if(function(t,e,i,n,a,o,r,s){var l=br(i-t,a-r,n-e,o-s);if(function(t){return t&lt;=1e-6&amp;&amp;t&gt;=-1e-6}(l))return!1;var h=br(a-t,a-r,o-e,o-s)/l;if(h&lt;0||h&gt;1)return!1;var u=br(i-t,a-t,n-e,o-e)/l;if(u&lt;0||u&gt;1)return!1;return!0}(t,e,i,n,s[0],s[1],r[0],r[1]))return!0;r=s}}function br(t,e,i,n){return t*n-e*i}function wr(t,e,i){var n=this._targetInfoList=[],a={},o=Mr(e,t);tI(rI,function(t,e){(!i||!i.include||eI(i.include,e)&gt;=0)&amp;&amp;t(o,n,a)})}function Sr(t){return t[0]&gt;t[1]&amp;&amp;t.reverse(),t}function Mr(t,e){return Ip.parseFinder(t,e,{includeMainTypes:aI})}function Ir(t,e,i,n){var a=i.getAxis([&quot;x&quot;,&quot;y&quot;][t]),o=Sr(rl.map([0,1],function(t){return e?a.coordToData(a.toLocalCoord(n[t])):a.toGlobalCoord(a.dataToCoord(n[t]))})),r=[];return r[t]=o,r[1-t]=[NaN,NaN],{values:o,xyMinMax:r}}function Tr(t,e,i,n){return[e[0]-n[t]*i[0],e[1]-n[t]*i[1]]}function Ar(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}function Cr(t,e,i,n){for(var a=0,o=e.length;a&lt;o;a++){var r=e[a];if(t[r.brushType](n,i,r.selectors,r))return!0}}function Lr(t){var e=t.brushSelector;if(rl.isString(e)){var i=[];return rl.each(QM,function(t,n){i[n]=function(i,n,a,o){var r=n.getItemLayout(i);return t[e](r,a,o)}}),i}if(rl.isFunction(e)){var n={};return rl.each(QM,function(t,i){n[i]=e}),n}return e}function Dr(t){return new oh(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}function Pr(t,e){return rl.merge({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new _p(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,!0)}function kr(t,e,i,n){(!n||n.$from!==t.id)&amp;&amp;this._brushController.setPanels(t.brushTargetManager.makePanelOpts(i)).enableBrush(t.brushOption).updateCovers(t.areas.slice())}function Or(t,e,i){this.model=t,this.ecModel=e,this.api=i,this._brushType,this._brushMode}function zr(t,e,i){this._model=t}function Er(t,e,i,n){var a=i.calendarModel,o=i.seriesModel,r=a?a.coordinateSystem:o?o.coordinateSystem:null;return r===this?r[t](n):null}function Rr(t,e){var i=t.cellSize;rl.isArray(i)?1===i.length&amp;&amp;(i[1]=i[0]):i=t.cellSize=[i,i];var n=rl.map([0,1],function(t){return MI(e,t)&amp;&amp;(i[t]=&quot;auto&quot;),null!=i[t]&amp;&amp;&quot;auto&quot;!==i[t]});II(t,e,{type:&quot;box&quot;,ignoreSize:n})}function Nr(t,e){t=t.slice();var i=rl.map(t,Eu.capitalFirst);e=(e||[]).slice();var n=rl.map(e,Eu.capitalFirst);return function(a,o){rl.each(t,function(t,r){for(var s={name:t,capital:i[r]},l=0;l&lt;e.length;l++)s[e[l]]=t+n[l];a.call(o,s)})}}function Vr(t,e){var i=t.getAxisModel(),n=t._percentWindow,a=t._valueWindow;if(n){var o=Pu.getPixelPrecision(a,[0,500]);o=Math.min(o,20);var r=e||0===n[0]&amp;&amp;100===n[1];i.setRange(r?null:+a[0].toFixed(o),r?null:+a[1].toFixed(o))}}function Br(t){var e={};return RI([&quot;start&quot;,&quot;end&quot;,&quot;startValue&quot;,&quot;endValue&quot;,&quot;throttle&quot;],function(i){t.hasOwnProperty(i)&amp;&amp;(e[i]=t[i])}),e}function Gr(t,e){var i=t._rangePropMode,n=t.get(&quot;rangeMode&quot;);RI([[&quot;start&quot;,&quot;startValue&quot;],[&quot;end&quot;,&quot;endValue&quot;]],function(t,a){var o=null!=e[t[0]],r=null!=e[t[1]];o&amp;&amp;!r?i[a]=&quot;percent&quot;:!o&amp;&amp;r?i[a]=&quot;value&quot;:n?i[a]=n[a]:o&amp;&amp;(i[a]=&quot;percent&quot;)})}function Hr(t){return&quot;vertical&quot;===t?&quot;ns-resize&quot;:&quot;ew-resize&quot;}function Wr(t){var e=t.getZr();return e[$I]||(e[$I]={})}function Fr(t){rl.each(t,function(e,i){e.count||(e.controller.dispose(),delete t[i])})}function Zr(t,e){var i=[];rl.each(t.dataZoomInfos,function(t){var n=e(t);!t.disabled&amp;&amp;n&amp;&amp;i.push({dataZoomId:t.dataZoomId,start:n[0],end:n[1]})}),t.dispatchAction(i)}function jr(t,e){return t&amp;&amp;t.hasOwnProperty&amp;&amp;t.hasOwnProperty(e)}function Ur(t,e,i){if(i[0]===i[1])return i.slice();for(var n=(i[1]-i[0])/200,a=i[0],o=[],r=0;r&lt;=200&amp;&amp;a&lt;i[1];r++)o.push(a),a+=n;return o.push(i[1]),o}function qr(t,e,i,n){return new fp.Polygon({shape:{points:t},draggable:!!i,cursor:e,drift:i,onmousemove:function(t){su.stop(t.event)},ondragend:n})}function Xr(t){var e=t.get(&quot;hoverLinkOnHandle&quot;);return!!(null==e?t.get(&quot;realtime&quot;):e)}function Yr(t){return&quot;vertical&quot;===t?&quot;ns-resize&quot;:&quot;ew-resize&quot;}function $r(t,e){var i=t.inverse;(&quot;vertical&quot;===t.orient?!i:i)&amp;&amp;e.reverse()}function Kr(t){Ip.defaultEmphasis(t.label,[&quot;show&quot;])}function Jr(t,e,i,n,a,o){var r=[],s=ts(e,n,t),l=e.indicesOfNearest(n,s,!0)[0];r[a]=e.get(i,l,!0),r[o]=e.get(n,l,!0);var h=function(t,e,i){var n=-1;do{n=Math.max(Pu.getPrecision(t.get(e,i)),n),t=t.stackedOn}while(t);return n}(e,n,l);return(h=Math.min(h,20))&gt;=0&amp;&amp;(r[o]=+r[o].toFixed(h)),r}function Qr(t,e,i,n){var a={};return null!=t.valueIndex||null!=t.valueDim?(a.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,a.valueAxis=i.getAxis(n.dataDimToCoordDim(a.valueDataDim)),a.baseAxis=i.getOtherAxis(a.valueAxis),a.baseDataDim=n.coordDimToDataDim(a.baseAxis.dim)[0]):(a.baseAxis=n.getBaseAxis(),a.valueAxis=i.getOtherAxis(a.baseAxis),a.baseDataDim=n.coordDimToDataDim(a.baseAxis.dim)[0],a.valueDataDim=n.coordDimToDataDim(a.valueAxis.dim)[0]),a}function ts(t,e,i){if(&quot;average&quot;===i){var n=0,a=0;return t.each(e,function(t,e){isNaN(t)||(n+=t,a++)},!0),n/a}return t.getDataExtent(e,!0)[&quot;max&quot;===i?1:0]}function es(t,e,i){var n=e.coordinateSystem;t.each(function(a){var o,r=t.getItemModel(a),s=Pu.parsePercent(r.get(&quot;x&quot;),i.getWidth()),l=Pu.parsePercent(r.get(&quot;y&quot;),i.getHeight());if(isNaN(s)||isNaN(l)){if(e.getMarkerPosition)o=e.getMarkerPosition(t.getValues(t.dimensions,a));else if(n){var h=t.get(n.dimensions[0],a),u=t.get(n.dimensions[1],a);o=n.dataToPoint([h,u])}}else o=[s,l];isNaN(s)||(o[0]=s),isNaN(l)||(o[1]=l),t.setItemLayout(a,o)})}function is(t){return!isNaN(t)&amp;&amp;!isFinite(t)}function ns(t,e,i,n){var a=1-t,o=n.dimensions[t];return is(e[a])&amp;&amp;is(i[a])&amp;&amp;e[t]===i[t]&amp;&amp;n.getAxis(o).containData(e[t])}function as(t,e,i,n,a){var o,r=n.coordinateSystem,s=t.getItemModel(e),l=Pu.parsePercent(s.get(&quot;x&quot;),a.getWidth()),h=Pu.parsePercent(s.get(&quot;y&quot;),a.getHeight());if(isNaN(l)||isNaN(h)){if(n.getMarkerPosition)o=n.getMarkerPosition(t.getValues(t.dimensions,e));else{var u=r.dimensions,c=t.get(u[0],e),d=t.get(u[1],e);o=r.dataToPoint([c,d])}if(&quot;cartesian2d&quot;===r.type){var p=r.getAxis(&quot;x&quot;),f=r.getAxis(&quot;y&quot;),u=r.dimensions;is(t.get(u[0],e))?o[0]=p.toGlobalCoord(p.getExtent()[i?0:1]):is(t.get(u[1],e))&amp;&amp;(o[1]=f.toGlobalCoord(f.getExtent()[i?0:1]))}isNaN(l)||(o[0]=l),isNaN(h)||(o[1]=h)}else o=[l,h];t.setItemLayout(e,o)}function os(t){return!isNaN(t)&amp;&amp;!isFinite(t)}function rs(t,e,i,n){var a=1-t;return os(e[a])&amp;&amp;os(i[a])}function ss(t,e,i,n,a){var o,r=n.coordinateSystem,s=t.getItemModel(e),l=Pu.parsePercent(s.get(i[0]),a.getWidth()),h=Pu.parsePercent(s.get(i[1]),a.getHeight());if(isNaN(l)||isNaN(h)){if(n.getMarkerPosition)o=n.getMarkerPosition(t.getValues(i,e));else{var u=t.get(i[0],e),c=t.get(i[1],e);o=r.dataToPoint([u,c],!0)}if(&quot;cartesian2d&quot;===r.type){var d=r.getAxis(&quot;x&quot;),p=r.getAxis(&quot;y&quot;),u=t.get(i[0],e),c=t.get(i[1],e);os(u)?o[0]=d.toGlobalCoord(d.getExtent()[&quot;x0&quot;===i[0]?0:1]):os(c)&amp;&amp;(o[1]=p.toGlobalCoord(p.getExtent()[&quot;y0&quot;===i[1]?0:1]))}isNaN(l)||(o[0]=l),isNaN(h)||(o[1]=h)}else o=[l,h];return o}function ls(t){var e=t.itemStyle||(t.itemStyle={}),i=e.emphasis||(e.emphasis={}),n=t.label||t.label||{},a=n.normal||(n.normal={}),o={normal:1,emphasis:1};rl.each(n,function(t,e){o[e]||hs(a,e)||(a[e]=t)}),i.label&amp;&amp;!hs(n,&quot;emphasis&quot;)&amp;&amp;(n.emphasis=i.label,delete i.label)}function hs(t,e){return t.hasOwnProperty(e)}function us(t,e,i,n,a,o){var r=e.get(&quot;color&quot;);if(a)a.setColor(r),i.add(a),o&amp;&amp;o.onUpdate(a);else{var s=t.get(&quot;symbol&quot;);(a=YT(s,-1,-1,2,2,r)).setStyle(&quot;strokeNoScale&quot;,!0),i.add(a),o&amp;&amp;o.onCreate(a)}var l=e.getItemStyle([&quot;color&quot;,&quot;symbol&quot;,&quot;symbolSize&quot;]);a.setStyle(l),n=rl.merge({rectHover:!0,z2:100},n,!0);var h=t.get(&quot;symbolSize&quot;);(h=h instanceof Array?h.slice():[+h,+h])[0]/=2,h[1]/=2,n.scale=h;var u=t.get(&quot;symbolOffset&quot;);if(u){var c=n.position=n.position||[0,0];c[0]+=Pu.parsePercent(u[0],h[0]),c[1]+=Pu.parsePercent(u[1],h[1])}var d=t.get(&quot;symbolRotate&quot;);return n.rotation=(d||0)*Math.PI/180||0,a.attr(n),a.updateTransform(),a}function cs(t,e,i,n,a){if(!t.dragging){var o=n.getModel(&quot;checkpointStyle&quot;),r=i.dataToCoord(n.getData().get([&quot;value&quot;],e));a||!o.get(&quot;animation&quot;,!0)?t.attr({position:[r,0]}):(t.stopAnimation(!0),t.animateTo({position:[r,0]},o.get(&quot;animationDuration&quot;,!0),o.get(&quot;animationEasing&quot;,!0)))}}function ds(t){this.model=t}function ps(t){this.model=t}function fs(t){return t.replace(/^\s\s*/,&quot;&quot;).replace(/\s\s*$/,&quot;&quot;)}function gs(t){this._dom=null,this.model=t}function ms(t){var e=t[cA];return e||(e=t[cA]=[{}]),e}function vs(t,e,i){(this._brushController=new jb(i.getZr())).on(&quot;brush&quot;,rl.bind(this._onBrush,this)).mount(),this._isZoomActive}function ys(t){var e={};return rl.each([&quot;xAxisIndex&quot;,&quot;yAxisIndex&quot;],function(i){e[i]=t[i],null==e[i]&amp;&amp;(e[i]=&quot;all&quot;),(!1===e[i]||&quot;none&quot;===e[i])&amp;&amp;(e[i]=[])}),e}function xs(t){this.model=t}function _s(t){return parseInt(t,10)}function bs(t,e){MA.initVML(),this.root=t,this.storage=e;var i=document.createElement(&quot;div&quot;),n=document.createElement(&quot;div&quot;);i.style.cssText=&quot;display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;&quot;,n.style.cssText=&quot;position:absolute;left:0;top:0;&quot;,t.appendChild(i),this._vmlRoot=n,this._vmlViewport=i,this.resize();var a=e.delFromStorage,o=e.addToStorage;e.delFromStorage=function(t){a.call(e,t),t&amp;&amp;t.onRemove&amp;&amp;t.onRemove(n)},e.addToStorage=function(t){t.onAdd&amp;&amp;t.onAdd(n),o.call(e,t)},this._firstPaint=!0}function ws(t){return rC(1e4*t)/1e4}function Ss(t){return t&lt;dC&amp;&amp;t&gt;-dC}function Ms(t,e){e&amp;&amp;Is(t,&quot;transform&quot;,&quot;matrix(&quot;+aC.call(e,&quot;,&quot;)+&quot;)&quot;)}function Is(t,e,i){(!i||&quot;linear&quot;!==i.type&amp;&amp;&quot;radial&quot;!==i.type)&amp;&amp;t.setAttribute(e,i)}function Ts(t,e,i){if(function(t,e){var i=e?t.textFill:t.fill;return null!=i&amp;&amp;i!==oC}(e,i)){var n=i?e.textFill:e.fill;n=&quot;transparent&quot;===n?oC:n,&quot;none&quot;!==t.getAttribute(&quot;clip-path&quot;)&amp;&amp;n===oC&amp;&amp;(n=&quot;rgba(0, 0, 0, 0.002)&quot;),Is(t,&quot;fill&quot;,n),Is(t,&quot;fill-opacity&quot;,e.opacity)}else Is(t,&quot;fill&quot;,oC);if(function(t,e){var i=e?t.textStroke:t.stroke;return null!=i&amp;&amp;i!==oC}(e,i)){var a=i?e.textStroke:e.stroke;Is(t,&quot;stroke&quot;,a=&quot;transparent&quot;===a?oC:a);Is(t,&quot;stroke-width&quot;,(i?e.textStrokeWidth:e.lineWidth)/(e.strokeNoScale?e.host.getLineScale():1)),Is(t,&quot;paint-order&quot;,&quot;stroke&quot;),Is(t,&quot;stroke-opacity&quot;,e.opacity);e.lineDash?(Is(t,&quot;stroke-dasharray&quot;,e.lineDash.join(&quot;,&quot;)),Is(t,&quot;stroke-dashoffset&quot;,rC(e.lineDashOffset||0))):Is(t,&quot;stroke-dasharray&quot;,&quot;&quot;),e.lineCap&amp;&amp;Is(t,&quot;stroke-linecap&quot;,e.lineCap),e.lineJoin&amp;&amp;Is(t,&quot;stroke-linejoin&quot;,e.lineJoin),e.miterLimit&amp;&amp;Is(t,&quot;stroke-miterlimit&quot;,e.miterLimit)}else Is(t,&quot;stroke&quot;,oC)}function As(t){return&quot;middle&quot;===t?&quot;middle&quot;:&quot;bottom&quot;===t?&quot;baseline&quot;:&quot;hanging&quot;}function Cs(){}function Ls(t,e,i){this._svgRoot=t,this._tagNames=&quot;string&quot;==typeof e?[e]:e,this._markLabel=i,this.nextId=0}function Ds(t){IC.call(this,t,[&quot;linearGradient&quot;,&quot;radialGradient&quot;],&quot;__gradient_in_use__&quot;)}function Ps(t){IC.call(this,t,&quot;clipPath&quot;,&quot;__clippath_in_use__&quot;)}function ks(t){return parseInt(t,10)}function Os(t,e){return e&amp;&amp;t&amp;&amp;e.parentNode!==t}function zs(t,e,i){if(Os(t,e)&amp;&amp;i){var n=i.nextSibling;n?t.insertBefore(e,n):t.appendChild(e)}}function Es(t,e){if(Os(t,e)){var i=t.firstChild;i?t.insertBefore(e,i):t.appendChild(e)}}function Rs(t,e){e&amp;&amp;t&amp;&amp;e.parentNode===t&amp;&amp;t.removeChild(e)}function Ns(t){return t.__textSvgEl}function Vs(t){return t.__svgEl}function Bs(t){var e=typeof t;return!!t&amp;&amp;(&quot;object&quot;==e||&quot;function&quot;==e)}function Gs(t){if(&quot;number&quot;==typeof t)return t;if(function(t){return&quot;symbol&quot;==typeof t||function(t){return!!t&amp;&amp;&quot;object&quot;==typeof t}(t)&amp;&amp;UC.call(t)==NC}(t))return RC;if(Bs(t)){var e=&quot;function&quot;==typeof t.valueOf?t.valueOf():t;t=Bs(e)?e+&quot;&quot;:e}if(&quot;string&quot;!=typeof t)return 0===t?t:+t;t=t.replace(VC,&quot;&quot;);var i=GC.test(t);return i||HC.test(t)?WC(t.slice(2),i?2:8):BC.test(t)?RC:+t}t=&quot;default&quot;in t?t.default:t;var Hs,Ws=&quot;undefined&quot;!=typeof window?window:&quot;undefined&quot;!=typeof global?global:&quot;undefined&quot;!=typeof self?self:{};&quot;undefined&quot;!=typeof window?Hs=window.__DEV__:void 0!==Ws&amp;&amp;(Hs=Ws),void 0===Hs&amp;&amp;(Hs=!0);var Fs=2311,Zs=function(){return Fs++},js={},Us=js=&quot;undefined&quot;==typeof navigator?{browser:{},os:{},node:!0,canvasSupported:!0,svgSupported:!0}:function(t){var e={},i=t.match(/Firefox\/([\d.]+)/),n=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),a=t.match(/Edge\/([\d.]+)/),o=/micromessenger/i.test(t);return i&amp;&amp;(e.firefox=!0,e.version=i[1]),n&amp;&amp;(e.ie=!0,e.version=n[1]),a&amp;&amp;(e.edge=!0,e.version=a[1]),o&amp;&amp;(e.weChat=!0),{browser:e,os:{},node:!1,canvasSupported:!!document.createElement(&quot;canvas&quot;).getContext,svgSupported:&quot;undefined&quot;!=typeof SVGRect,touchEventsSupported:&quot;ontouchstart&quot;in window&amp;&amp;!e.ie&amp;&amp;!e.edge,pointerEventsSupported:&quot;onpointerdown&quot;in window&amp;&amp;(e.edge||e.ie&amp;&amp;e.version&gt;=11)}}(navigator.userAgent),qs={&quot;[object Function]&quot;:1,&quot;[object RegExp]&quot;:1,&quot;[object Date]&quot;:1,&quot;[object Error]&quot;:1,&quot;[object CanvasGradient]&quot;:1,&quot;[object CanvasPattern]&quot;:1,&quot;[object Image]&quot;:1,&quot;[object Canvas]&quot;:1},Xs={&quot;[object Int8Array]&quot;:1,&quot;[object Uint8Array]&quot;:1,&quot;[object Uint8ClampedArray]&quot;:1,&quot;[object Int16Array]&quot;:1,&quot;[object Uint16Array]&quot;:1,&quot;[object Int32Array]&quot;:1,&quot;[object Uint32Array]&quot;:1,&quot;[object Float32Array]&quot;:1,&quot;[object Float64Array]&quot;:1},Ys=Object.prototype.toString,$s=Array.prototype,Ks=$s.forEach,Js=$s.filter,Qs=$s.slice,tl=$s.map,el=$s.reduce,il={},nl=function(){return il.createCanvas()};il.createCanvas=function(){return document.createElement(&quot;canvas&quot;)};var al,ol=&quot;__ec_primitive__&quot;;d.prototype={constructor:d,get:function(t){return this[&quot;_ec_&quot;+t]},set:function(t,e){return this[&quot;_ec_&quot;+t]=e,e},each:function(t,e){void 0!==e&amp;&amp;(t=r(t,e));for(var i in this)this.hasOwnProperty(i)&amp;&amp;t(this[i],i.slice(4))},removeKey:function(t){delete this[&quot;_ec_&quot;+t]}};var rl={$override:function(t,e){il[t]=e},clone:i,merge:n,mergeAll:function(t,e){for(var i=t[0],a=1,o=t.length;a&lt;o;a++)i=n(i,t[a],e);return i},extend:function(t,e){for(var i in e)e.hasOwnProperty(i)&amp;&amp;(t[i]=e[i]);return t},defaults:a,createCanvas:nl,getContext:function(){return al||(al=nl().getContext(&quot;2d&quot;)),al},indexOf:function(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;i&lt;n;i++)if(t[i]===e)return i}return-1},inherits:function(t,e){function i(){}var n=t.prototype;i.prototype=e.prototype,t.prototype=new i;for(var a in n)t.prototype[a]=n[a];t.prototype.constructor=t,t.superClass=e},mixin:function(t,e,i){a(t=&quot;prototype&quot;in t?t.prototype:t,e=&quot;prototype&quot;in e?e.prototype:e,i)},isArrayLike:function(t){if(t)return&quot;string&quot;!=typeof t&amp;&amp;&quot;number&quot;==typeof t.length},each:o,map:function(t,e,i){if(t&amp;&amp;e){if(t.map&amp;&amp;t.map===tl)return t.map(e,i);for(var n=[],a=0,o=t.length;a&lt;o;a++)n.push(e.call(i,t[a],a,t));return n}},reduce:function(t,e,i,n){if(t&amp;&amp;e){if(t.reduce&amp;&amp;t.reduce===el)return t.reduce(e,i,n);for(var a=0,o=t.length;a&lt;o;a++)i=e.call(n,i,t[a],a,t);return i}},filter:function(t,e,i){if(t&amp;&amp;e){if(t.filter&amp;&amp;t.filter===Js)return t.filter(e,i);for(var n=[],a=0,o=t.length;a&lt;o;a++)e.call(i,t[a],a,t)&amp;&amp;n.push(t[a]);return n}},find:function(t,e,i){if(t&amp;&amp;e)for(var n=0,a=t.length;n&lt;a;n++)if(e.call(i,t[n],n,t))return t[n]},bind:r,curry:function(t){var e=Qs.call(arguments,1);return function(){return t.apply(this,e.concat(Qs.call(arguments)))}},isArray:s,isFunction:function(t){return&quot;function&quot;==typeof t},isString:function(t){return&quot;[object String]&quot;===Ys.call(t)},isObject:l,isBuiltInObject:h,isDom:u,eqNaN:function(t){return t!=t},retrieve:function(t){for(var e=arguments,i=0,n=arguments.length;i&lt;n;i++)if(null!=e[i])return e[i]},retrieve2:function(t,e){return null!=t?t:e},retrieve3:function(t,e,i){return null!=t?t:null!=e?e:i},slice:function(){return Function.call.apply(Qs,arguments)},normalizeCssArray:function(t){if(&quot;number&quot;==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t},assert:function(t,e){if(!t)throw new Error(e)},setAsPrimitive:function(t){t[ol]=!0},isPrimitive:c,createHashMap:function(t){return new d(t)},noop:function(){}},sl=&quot;undefined&quot;==typeof Float32Array?Array:Float32Array,ll={create:function(t,e){var i=new sl(2);return null==t&amp;&amp;(t=0),null==e&amp;&amp;(e=0),i[0]=t,i[1]=e,i},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t},clone:function(t){var e=new sl(2);return e[0]=t[0],e[1]=t[1],e},set:function(t,e,i){return t[0]=e,t[1]=i,t},add:function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t},scaleAndAdd:function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t},sub:function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t},len:p,length:p,lenSquare:f,lengthSquare:f,mul:function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t},div:function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},scale:function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t},normalize:function(t,e){var i=p(e);return 0===i?(t[0]=0,t[1]=0):(t[0]=e[0]/i,t[1]=e[1]/i),t},distance:g,dist:g,distanceSquare:m,distSquare:m,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},lerp:function(t,e,i,n){return t[0]=e[0]+n*(i[0]-e[0]),t[1]=e[1]+n*(i[1]-e[1]),t},applyTransform:function(t,e,i){var n=e[0],a=e[1];return t[0]=i[0]*n+i[2]*a+i[4],t[1]=i[1]*n+i[3]*a+i[5],t},min:function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t},max:function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}};v.prototype={constructor:v,_dragStart:function(t){var e=t.target;e&amp;&amp;e.draggable&amp;&amp;(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(y(e,t),&quot;dragstart&quot;,t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var i=t.offsetX,n=t.offsetY,a=i-this._x,o=n-this._y;this._x=i,this._y=n,e.drift(a,o,t),this.dispatchToElement(y(e,t),&quot;drag&quot;,t.event);var r=this.findHover(i,n,e).target,s=this._dropTarget;this._dropTarget=r,e!==r&amp;&amp;(s&amp;&amp;r!==s&amp;&amp;this.dispatchToElement(y(s,t),&quot;dragleave&quot;,t.event),r&amp;&amp;r!==s&amp;&amp;this.dispatchToElement(y(r,t),&quot;dragenter&quot;,t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&amp;&amp;(e.dragging=!1),this.dispatchToElement(y(e,t),&quot;dragend&quot;,t.event),this._dropTarget&amp;&amp;this.dispatchToElement(y(this._dropTarget,t),&quot;drop&quot;,t.event),this._draggingTarget=null,this._dropTarget=null}};var hl=v,ul=Array.prototype.slice,cl=function(){this._$handlers={}};cl.prototype={constructor:cl,one:function(t,e,i){var n=this._$handlers;if(!e||!t)return this;n[t]||(n[t]=[]);for(var a=0;a&lt;n[t].length;a++)if(n[t][a].h===e)return this;return n[t].push({h:e,one:!0,ctx:i||this}),this},on:function(t,e,i){var n=this._$handlers;if(!e||!t)return this;n[t]||(n[t]=[]);for(var a=0;a&lt;n[t].length;a++)if(n[t][a].h===e)return this;return n[t].push({h:e,one:!1,ctx:i||this}),this},isSilent:function(t){var e=this._$handlers;return e[t]&amp;&amp;e[t].length},off:function(t,e){var i=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(i[t]){for(var n=[],a=0,o=i[t].length;a&lt;o;a++)i[t][a].h!=e&amp;&amp;n.push(i[t][a]);i[t]=n}i[t]&amp;&amp;0===i[t].length&amp;&amp;delete i[t]}else delete i[t];return this},trigger:function(t){if(this._$handlers[t]){var e=arguments,i=e.length;i&gt;3&amp;&amp;(e=ul.call(e,1));for(var n=this._$handlers[t],a=n.length,o=0;o&lt;a;){switch(i){case 1:n[o].h.call(n[o].ctx);break;case 2:n[o].h.call(n[o].ctx,e[1]);break;case 3:n[o].h.call(n[o].ctx,e[1],e[2]);break;default:n[o].h.apply(n[o].ctx,e)}n[o].one?(n.splice(o,1),a--):o++}}return this},triggerWithContext:function(t){if(this._$handlers[t]){var e=arguments,i=e.length;i&gt;4&amp;&amp;(e=ul.call(e,1,e.length-1));for(var n=e[e.length-1],a=this._$handlers[t],o=a.length,r=0;r&lt;o;){switch(i){case 1:a[r].h.call(n);break;case 2:a[r].h.call(n,e[1]);break;case 3:a[r].h.call(n,e[1],e[2]);break;default:a[r].h.apply(n,e)}a[r].one?(a.splice(r,1),o--):r++}}return this}};var dl=cl,pl=&quot;silent&quot;;x.prototype.dispose=function(){};var fl=[&quot;click&quot;,&quot;dblclick&quot;,&quot;mousewheel&quot;,&quot;mouseout&quot;,&quot;mouseup&quot;,&quot;mousedown&quot;,&quot;mousemove&quot;,&quot;contextmenu&quot;],gl=function(t,e,i,n){dl.call(this),this.storage=t,this.painter=e,this.painterRoot=n,i=i||new x,this.proxy=i,i.handler=this,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,hl.call(this),rl.each(fl,function(t){i.on&amp;&amp;i.on(t,this[t],this)},this)};gl.prototype={constructor:gl,mousemove:function(t){var e=t.zrX,i=t.zrY,n=this._hovered,a=n.target;a&amp;&amp;!a.__zr&amp;&amp;(a=(n=this.findHover(n.x,n.y)).target);var o=this._hovered=this.findHover(e,i),r=o.target,s=this.proxy;s.setCursor&amp;&amp;s.setCursor(r?r.cursor:&quot;default&quot;),a&amp;&amp;r!==a&amp;&amp;this.dispatchToElement(n,&quot;mouseout&quot;,t),this.dispatchToElement(o,&quot;mousemove&quot;,t),r&amp;&amp;r!==a&amp;&amp;this.dispatchToElement(o,&quot;mouseover&quot;,t)},mouseout:function(t){this.dispatchToElement(this._hovered,&quot;mouseout&quot;,t);var e,i=t.toElement||t.relatedTarget;do{i=i&amp;&amp;i.parentNode}while(i&amp;&amp;9!=i.nodeType&amp;&amp;!(e=i===this.painterRoot));!e&amp;&amp;this.trigger(&quot;globalout&quot;,{event:t})},resize:function(t){this._hovered={}},dispatch:function(t,e){var i=this[t];i&amp;&amp;i.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&amp;&amp;e.setCursor(t)},dispatchToElement:function(t,e,i){var n=(t=t||{}).target;if(!n||!n.silent){for(var a=&quot;on&quot;+e,o=function(t,e,i){return{type:t,event:i,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch,which:i.which}}(e,t,i);n&amp;&amp;(n[a]&amp;&amp;(o.cancelBubble=n[a].call(n,o)),n.trigger(e,o),n=n.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(e,o),this.painter&amp;&amp;this.painter.eachOtherLayer(function(t){&quot;function&quot;==typeof t[a]&amp;&amp;t[a].call(t,o),t.trigger&amp;&amp;t.trigger(e,o)}))}},findHover:function(t,e,i){for(var n=this.storage.getDisplayList(),a={x:t,y:e},o=n.length-1;o&gt;=0;o--){var r;if(n[o]!==i&amp;&amp;!n[o].ignore&amp;&amp;(r=function(t,e,i){if(t[t.rectHover?&quot;rectContain&quot;:&quot;contain&quot;](e,i)){for(var n,a=t;a;){if(a.clipPath&amp;&amp;!a.clipPath.contain(e,i))return!1;a.silent&amp;&amp;(n=!0),a=a.parent}return!n||pl}return!1}(n[o],t,e))&amp;&amp;(!a.topTarget&amp;&amp;(a.topTarget=n[o]),r!==pl)){a.target=n[o];break}}return a}},rl.each([&quot;click&quot;,&quot;mousedown&quot;,&quot;mouseup&quot;,&quot;mousewheel&quot;,&quot;dblclick&quot;,&quot;contextmenu&quot;],function(t){gl.prototype[t]=function(e){var i=this.findHover(e.zrX,e.zrY),n=i.target;if(&quot;mousedown&quot;===t)this._downEl=n,this._downPoint=[e.zrX,e.zrY],this._upEl=n;else if(&quot;mosueup&quot;===t)this._upEl=n;else if(&quot;click&quot;===t){if(this._downEl!==this._upEl||!this._downPoint||ll.dist(this._downPoint,[e.zrX,e.zrY])&gt;4)return;this._downPoint=null}this.dispatchToElement(i,t,e)}}),rl.mixin(gl,dl),rl.mixin(gl,hl);var ml=gl,vl=&quot;undefined&quot;==typeof Float32Array?Array:Float32Array,yl={create:function(){var t=new vl(6);return _(t),t},identity:_,copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},mul:function(t,e,i){var n=e[0]*i[0]+e[2]*i[1],a=e[1]*i[0]+e[3]*i[1],o=e[0]*i[2]+e[2]*i[3],r=e[1]*i[2]+e[3]*i[3],s=e[0]*i[4]+e[2]*i[5]+e[4],l=e[1]*i[4]+e[3]*i[5]+e[5];return t[0]=n,t[1]=a,t[2]=o,t[3]=r,t[4]=s,t[5]=l,t},translate:function(t,e,i){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+i[0],t[5]=e[5]+i[1],t},rotate:function(t,e,i){var n=e[0],a=e[2],o=e[4],r=e[1],s=e[3],l=e[5],h=Math.sin(i),u=Math.cos(i);return t[0]=n*u+r*h,t[1]=-n*h+r*u,t[2]=a*u+s*h,t[3]=-a*h+u*s,t[4]=u*o+h*l,t[5]=u*l-h*o,t},scale:function(t,e,i){var n=i[0],a=i[1];return t[0]=e[0]*n,t[1]=e[1]*a,t[2]=e[2]*n,t[3]=e[3]*a,t[4]=e[4]*n,t[5]=e[5]*a,t},invert:function(t,e){var i=e[0],n=e[2],a=e[4],o=e[1],r=e[3],s=e[5],l=i*r-o*n;return l?(l=1/l,t[0]=r*l,t[1]=-o*l,t[2]=-n*l,t[3]=i*l,t[4]=(n*s-r*a)*l,t[5]=(o*a-i*s)*l,t):null}},xl=yl.identity,_l=5e-5,bl=function(t){(t=t||{}).position||(this.position=[0,0]),null==t.rotation&amp;&amp;(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},wl=bl.prototype;wl.transform=null,wl.needLocalTransform=function(){return b(this.rotation)||b(this.position[0])||b(this.position[1])||b(this.scale[0]-1)||b(this.scale[1]-1)},wl.updateTransform=function(){var t=this.parent,e=t&amp;&amp;t.transform,i=this.needLocalTransform(),n=this.transform;i||e?(n=n||yl.create(),i?this.getLocalTransform(n):xl(n),e&amp;&amp;(i?yl.mul(n,t.transform,n):yl.copy(n,t.transform)),this.transform=n,this.invTransform=this.invTransform||yl.create(),yl.invert(this.invTransform,n)):n&amp;&amp;xl(n)},wl.getLocalTransform=function(t){return bl.getLocalTransform(this,t)},wl.setTransform=function(t){var e=this.transform,i=t.dpr||1;e?t.setTransform(i*e[0],i*e[1],i*e[2],i*e[3],i*e[4],i*e[5]):t.setTransform(i,0,0,i,0,0)},wl.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var Sl=[];wl.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&amp;&amp;t.transform&amp;&amp;(yl.mul(Sl,t.invTransform,e),e=Sl);var i=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],a=this.position,o=this.scale;b(i-1)&amp;&amp;(i=Math.sqrt(i)),b(n-1)&amp;&amp;(n=Math.sqrt(n)),e[0]&lt;0&amp;&amp;(i=-i),e[3]&lt;0&amp;&amp;(n=-n),a[0]=e[4],a[1]=e[5],o[0]=i,o[1]=n,this.rotation=Math.atan2(-e[1]/n,e[0]/i)}},wl.getGlobalScale=function(){var t=this.transform;if(!t)return[1,1];var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]),i=Math.sqrt(t[2]*t[2]+t[3]*t[3]);return t[0]&lt;0&amp;&amp;(e=-e),t[3]&lt;0&amp;&amp;(i=-i),[e,i]},wl.transformCoordToLocal=function(t,e){var i=[t,e],n=this.invTransform;return n&amp;&amp;ll.applyTransform(i,i,n),i},wl.transformCoordToGlobal=function(t,e){var i=[t,e],n=this.transform;return n&amp;&amp;ll.applyTransform(i,i,n),i},bl.getLocalTransform=function(t,e){xl(e=e||[]);var i=t.origin,n=t.scale||[1,1],a=t.rotation||0,o=t.position||[0,0];return i&amp;&amp;(e[4]-=i[0],e[5]-=i[1]),yl.scale(e,e,n),a&amp;&amp;yl.rotate(e,e,a),i&amp;&amp;(e[4]+=i[0],e[5]+=i[1]),e[4]+=o[0],e[5]+=o[1],e};var Ml=bl,Il={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)&lt;1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)&lt;1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)&lt;1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)&lt;1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)&lt;1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)&lt;1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i&lt;1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i&lt;1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i&lt;1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),(t*=2)&lt;1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)&lt;1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-Il.bounceOut(1-t)},bounceOut:function(t){return t&lt;1/2.75?7.5625*t*t:t&lt;2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t&lt;2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t&lt;.5?.5*Il.bounceIn(2*t):.5*Il.bounceOut(2*t-1)+.5}},Tl=Il;w.prototype={constructor:w,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var i=(t-this._startTime-this._pausedTime)/this._life;if(!(i&lt;0)){i=Math.min(i,1);var n=this.easing,a=&quot;string&quot;==typeof n?Tl[n]:n,o=&quot;function&quot;==typeof a?a(i):i;return this.fire(&quot;frame&quot;,o),1==i?this.loop?(this.restart(t),&quot;restart&quot;):(this._needsRemove=!0,&quot;destroy&quot;):null}}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){this[t=&quot;on&quot;+t]&amp;&amp;this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var Al=w,Cl=function(){this.head=null,this.tail=null,this._len=0},Ll=Cl.prototype;Ll.insert=function(t){var e=new Dl(t);return this.insertEntry(e),e},Ll.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},Ll.remove=function(t){var e=t.prev,i=t.next;e?e.next=i:this.head=i,i?i.prev=e:this.tail=e,t.next=t.prev=null,this._len--},Ll.len=function(){return this._len},Ll.clear=function(){this.head=this.tail=null,this._len=0};var Dl=function(t){this.value=t,this.next,this.prev},Pl=function(t){this._list=new Cl,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},kl=Pl.prototype;kl.put=function(t,e){var i=this._list,n=this._map,a=null;if(null==n[t]){var o=i.len(),r=this._lastRemovedEntry;if(o&gt;=this._maxSize&amp;&amp;o&gt;0){var s=i.head;i.remove(s),delete n[s.key],a=s.value,this._lastRemovedEntry=s}r?r.value=e:r=new Dl(e),r.key=t,i.insertEntry(r),n[t]=r}return a},kl.get=function(t){var e=this._map[t],i=this._list;if(null!=e)return e!==i.tail&amp;&amp;(i.remove(e),i.insertEntry(e)),e.value},kl.clear=function(){this._list.clear(),this._map={}};var Ol=Pl,zl={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},El=new Ol(20),Rl=null,Nl={parse:k,lift:function(t,e){var i=k(t);if(i){for(var n=0;n&lt;3;n++)i[n]=e&lt;0?i[n]*(1-e)|0:(255-i[n])*e+i[n]|0;return R(i,4===i.length?&quot;rgba&quot;:&quot;rgb&quot;)}},toHex:function(t){var e=k(t);if(e)return((1&lt;&lt;24)+(e[0]&lt;&lt;16)+(e[1]&lt;&lt;8)+ +e[2]).toString(16).slice(1)},fastLerp:z,fastMapToColor:z,lerp:E,mapToColor:E,modifyHSL:function(t,e,i,n){if(t=k(t))return t=function(t){if(t){var e,i,n=t[0]/255,a=t[1]/255,o=t[2]/255,r=Math.min(n,a,o),s=Math.max(n,a,o),l=s-r,h=(s+r)/2;if(0===l)e=0,i=0;else{i=h&lt;.5?l/(s+r):l/(2-s-r);var u=((s-n)/6+l/2)/l,c=((s-a)/6+l/2)/l,d=((s-o)/6+l/2)/l;n===s?e=d-c:a===s?e=1/3+u-d:o===s&amp;&amp;(e=2/3+c-u),e&lt;0&amp;&amp;(e+=1),e&gt;1&amp;&amp;(e-=1)}var p=[360*e,i,h];return null!=t[3]&amp;&amp;p.push(t[3]),p}}(t),null!=e&amp;&amp;(t[0]=function(t){return(t=Math.round(t))&lt;0?0:t&gt;360?360:t}(e)),null!=i&amp;&amp;(t[1]=T(i)),null!=n&amp;&amp;(t[2]=T(n)),R(O(t),&quot;rgba&quot;)},modifyAlpha:function(t,e){if((t=k(t))&amp;&amp;null!=e)return t[3]=M(e),R(t,&quot;rgba&quot;)},stringify:R},Vl=rl.isArrayLike,Bl=Array.prototype.slice,Gl=function(t,e,i,n){this._tracks={},this._target=t,this._loop=e||!1,this._getter=i||function(t,e){return t[e]},this._setter=n||function(t,e,i){t[e]=i},this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};Gl.prototype={when:function(t,e){var i=this._tracks;for(var n in e)if(e.hasOwnProperty(n)){if(!i[n]){i[n]=[];var a=this._getter(this._target,n);if(null==a)continue;0!==t&amp;&amp;i[n].push({time:0,value:function(t){if(Vl(t)){var e=t.length;if(Vl(t[0])){for(var i=[],n=0;n&lt;e;n++)i.push(Bl.call(t[n]));return i}return Bl.call(t)}return t}(a)})}i[n].push({time:t,value:e[n]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t&lt;this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t&lt;this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,i=0;i&lt;e;i++)t[i].call(this)},start:function(t,e){var i,n=this,a=0;for(var o in this._tracks)if(this._tracks.hasOwnProperty(o)){var r=function(t,e,i,n,a,o){var r=t._getter,s=t._setter,l=&quot;spline&quot;===e,h=n.length;if(h){var u,c=n[0].value,d=Vl(c),p=!1,f=!1,g=d?function(t){var e=t[t.length-1].value;return Vl(e&amp;&amp;e[0])?2:1}(n):0;n.sort(function(t,e){return t.time-e.time}),u=n[h-1].time;for(var m=[],v=[],y=n[0].value,x=!0,_=0;_&lt;h;_++){m.push(n[_].time/u);var b=n[_].value;if(d&amp;&amp;function(t,e,i){if(t===e)return!0;var n=t.length;if(n!==e.length)return!1;if(1===i){for(o=0;o&lt;n;o++)if(t[o]!==e[o])return!1}else for(var a=t[0].length,o=0;o&lt;n;o++)for(var r=0;r&lt;a;r++)if(t[o][r]!==e[o][r])return!1;return!0}(b,y,g)||!d&amp;&amp;b===y||(x=!1),y=b,&quot;string&quot;==typeof b){var w=Nl.parse(b);w?(b=w,p=!0):f=!0}v.push(b)}if(o||!x){for(var S=v[h-1],_=0;_&lt;h-1;_++)d?G(v[_],S,g):!isNaN(v[_])||isNaN(S)||f||p||(v[_]=S);d&amp;&amp;G(r(t._target,a),S,g);var M,I,T,A,C,L,D=0,P=0;if(p)var k=[0,0,0,0];var O=new Al({target:t._target,life:u,loop:t._loop,delay:t._delay,onframe:function(t,e){var i;if(e&lt;0)i=0;else if(e&lt;P){for(i=M=Math.min(D+1,h-1);i&gt;=0&amp;&amp;!(m[i]&lt;=e);i--);i=Math.min(i,h-2)}else{for(i=D;i&lt;h&amp;&amp;!(m[i]&gt;e);i++);i=Math.min(i-1,h-2)}D=i,P=e;var n=m[i+1]-m[i];if(0!==n)if(I=(e-m[i])/n,l)if(A=v[i],T=v[0===i?i:i-1],C=v[i&gt;h-2?h-1:i+1],L=v[i&gt;h-3?h-1:i+2],d)H(T,A,C,L,I,I*I,I*I*I,r(t,a),g);else{if(p)o=H(T,A,C,L,I,I*I,I*I*I,k,1),o=F(k);else{if(f)return V(A,C,I);o=W(T,A,C,L,I,I*I,I*I*I)}s(t,a,o)}else if(d)B(v[i],v[i+1],I,r(t,a),g);else{var o;if(p)B(v[i],v[i+1],I,k,1),o=F(k);else{if(f)return V(v[i],v[i+1],I);o=N(v[i],v[i+1],I)}s(t,a,o)}},ondestroy:i});return e&amp;&amp;&quot;spline&quot;!==e&amp;&amp;(O.easing=e),O}}}(this,t,function(){--a||n._doneCallback()},this._tracks[o],o,e);r&amp;&amp;(this._clipList.push(r),a++,this.animation&amp;&amp;this.animation.addClip(r),i=r)}if(i){var s=i.onframe;i.onframe=function(t,e){s(t,e);for(var i=0;i&lt;n._onframeList.length;i++)n._onframeList[i](t,e)}}return a||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,i=this.animation,n=0;n&lt;e.length;n++){var a=e[n];t&amp;&amp;a.onframe(this._target,1),i&amp;&amp;i.removeClip(a)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&amp;&amp;this._doneList.push(t),this},getClips:function(){return this._clipList}};var Hl=Gl,Wl=1;&quot;undefined&quot;!=typeof window&amp;&amp;(Wl=Math.max(window.devicePixelRatio||1,1));var Fl={debugMode:0,devicePixelRatio:Wl},Zl=Fl.debugMode,jl=function(){};1===Zl?jl=function(){var t=arguments;for(var e in arguments)throw new Error(t[e])}:Zl&gt;1&amp;&amp;(jl=function(){var t=arguments;for(var e in arguments)console.log(t[e])});var Ul=jl,ql=rl.isString,Xl=rl.isFunction,Yl=rl.isObject,$l=rl.isArrayLike,Kl=rl.indexOf,Jl=function(){this.animators=[]};Jl.prototype={constructor:Jl,animate:function(t,e){var i,n=!1,a=this,o=this.__zr;if(t){var r=t.split(&quot;.&quot;),s=a;n=&quot;shape&quot;===r[0];for(var l=0,h=r.length;l&lt;h;l++)s&amp;&amp;(s=s[r[l]]);s&amp;&amp;(i=s)}else i=a;if(i){var u=a.animators,c=new Hl(i,e);return c.during(function(t){a.dirty(n)}).done(function(){u.splice(Kl(u,c),1)}),u.push(c),o&amp;&amp;o.animation.addAnimator(c),c}Ul(&#39;Property &quot;&#39;+t+&#39;&quot; is not existed in element &#39;+a.id)},stopAnimation:function(t){for(var e=this.animators,i=e.length,n=0;n&lt;i;n++)e[n].stop(t);return e.length=0,this},animateTo:function(t,e,i,n,a,o){ql(i)?(a=n,n=i,i=0):Xl(n)?(a=n,n=&quot;linear&quot;,i=0):Xl(i)?(a=i,i=0):Xl(e)?(a=e,e=500):e||(e=500),this.stopAnimation(),this._animateToShallow(&quot;&quot;,this,t,e,i);var r=this.animators.slice(),s=r.length;s||a&amp;&amp;a();for(var l=0;l&lt;r.length;l++)r[l].done(function(){--s||a&amp;&amp;a()}).start(n,o)},_animateToShallow:function(t,e,i,n,a){var o={},r=0;for(var s in i)if(i.hasOwnProperty(s))if(null!=e[s])Yl(i[s])&amp;&amp;!$l(i[s])?this._animateToShallow(t?t+&quot;.&quot;+s:s,e[s],i[s],n,a):(o[s]=i[s],r++);else if(null!=i[s])if(t){var l={};l[t]={},l[t][s]=i[s],this.attr(l)}else this.attr(s,i[s]);return r&gt;0&amp;&amp;this.animate(t,!1).when(null==n?500:n,o).delay(a||0),this}};var Ql=Jl,th=function(t){Ml.call(this,t),dl.call(this,t),Ql.call(this,t),this.id=t.id||Zs()};th.prototype={type:&quot;element&quot;,name:&quot;&quot;,__zr:null,ignore:!1,clipPath:null,drift:function(t,e){switch(this.draggable){case&quot;horizontal&quot;:e=0;break;case&quot;vertical&quot;:t=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if(&quot;position&quot;===t||&quot;scale&quot;===t||&quot;origin&quot;===t){if(e){var i=this[t];i||(i=this[t]=[]),i[0]=e[0],i[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&amp;&amp;this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&amp;&amp;this.__zr.refresh()},attr:function(t,e){if(&quot;string&quot;==typeof t)this.attrKV(t,e);else if(rl.isObject(t))for(var i in t)t.hasOwnProperty(i)&amp;&amp;this.attrKV(i,t[i]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&amp;&amp;t.addSelfToZr(e),this.clipPath&amp;&amp;this.clipPath!==t&amp;&amp;this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&amp;&amp;(t.__zr&amp;&amp;t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var i=0;i&lt;e.length;i++)t.animation.addAnimator(e[i]);this.clipPath&amp;&amp;this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var i=0;i&lt;e.length;i++)t.animation.removeAnimator(e[i]);this.clipPath&amp;&amp;this.clipPath.removeSelfFromZr(t)}},rl.mixin(th,Ql),rl.mixin(th,Ml),rl.mixin(th,dl);var eh=th,ih=ll.applyTransform,nh=Math.min,ah=Math.max;Z.prototype={constructor:Z,union:function(t){var e=nh(t.x,this.x),i=nh(t.y,this.y);this.width=ah(t.x+t.width,this.x+this.width)-e,this.height=ah(t.y+t.height,this.y+this.height)-i,this.x=e,this.y=i},applyTransform:function(){var t=[],e=[],i=[],n=[];return function(a){if(a){t[0]=i[0]=this.x,t[1]=n[1]=this.y,e[0]=n[0]=this.x+this.width,e[1]=i[1]=this.y+this.height,ih(t,t,a),ih(e,e,a),ih(i,i,a),ih(n,n,a),this.x=nh(t[0],e[0],i[0],n[0]),this.y=nh(t[1],e[1],i[1],n[1]);var o=ah(t[0],e[0],i[0],n[0]),r=ah(t[1],e[1],i[1],n[1]);this.width=o-this.x,this.height=r-this.y}}}(),calculateTransform:function(t){var e=this,i=t.width/e.width,n=t.height/e.height,a=yl.create();return yl.translate(a,a,[-e.x,-e.y]),yl.scale(a,a,[i,n]),yl.translate(a,a,[t.x,t.y]),a},intersect:function(t){if(!t)return!1;t instanceof Z||(t=Z.create(t));var e=this,i=e.x,n=e.x+e.width,a=e.y,o=e.y+e.height,r=t.x,s=t.x+t.width,l=t.y,h=t.y+t.height;return!(n&lt;r||s&lt;i||o&lt;l||h&lt;a)},contain:function(t,e){return t&gt;=this.x&amp;&amp;t&lt;=this.x+this.width&amp;&amp;e&gt;=this.y&amp;&amp;e&lt;=this.y+this.height},clone:function(){return new Z(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},Z.create=function(t){return new Z(t.x,t.y,t.width,t.height)};var oh=Z,rh=function(t){t=t||{},eh.call(this,t);for(var e in t)t.hasOwnProperty(e)&amp;&amp;(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};rh.prototype={constructor:rh,isGroup:!0,type:&quot;group&quot;,silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,i=0;i&lt;e.length;i++)if(e[i].name===t)return e[i]},childCount:function(){return this._children.length},add:function(t){return t&amp;&amp;t!==this&amp;&amp;t.parent!==this&amp;&amp;(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&amp;&amp;t!==this&amp;&amp;t.parent!==this&amp;&amp;e&amp;&amp;e.parent===this){var i=this._children,n=i.indexOf(e);n&gt;=0&amp;&amp;(i.splice(n,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&amp;&amp;t.parent.remove(t),t.parent=this;var e=this.__storage,i=this.__zr;e&amp;&amp;e!==t.__storage&amp;&amp;(e.addToStorage(t),t instanceof rh&amp;&amp;t.addChildrenToStorage(e)),i&amp;&amp;i.refresh()},remove:function(t){var e=this.__zr,i=this.__storage,n=this._children,a=rl.indexOf(n,t);return a&lt;0?this:(n.splice(a,1),t.parent=null,i&amp;&amp;(i.delFromStorage(t),t instanceof rh&amp;&amp;t.delChildrenFromStorage(i)),e&amp;&amp;e.refresh(),this)},removeAll:function(){var t,e,i=this._children,n=this.__storage;for(e=0;e&lt;i.length;e++)t=i[e],n&amp;&amp;(n.delFromStorage(t),t instanceof rh&amp;&amp;t.delChildrenFromStorage(n)),t.parent=null;return i.length=0,this},eachChild:function(t,e){for(var i=this._children,n=0;n&lt;i.length;n++){var a=i[n];t.call(e,a,n)}return this},traverse:function(t,e){for(var i=0;i&lt;this._children.length;i++){var n=this._children[i];t.call(e,n),&quot;group&quot;===n.type&amp;&amp;n.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e&lt;this._children.length;e++){var i=this._children[e];t.addToStorage(i),i instanceof rh&amp;&amp;i.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e&lt;this._children.length;e++){var i=this._children[e];t.delFromStorage(i),i instanceof rh&amp;&amp;i.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&amp;&amp;this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,i=new oh(0,0,0,0),n=t||this._children,a=[],o=0;o&lt;n.length;o++){var r=n[o];if(!r.ignore&amp;&amp;!r.invisible){var s=r.getBoundingRect(),l=r.getLocalTransform(a);l?(i.copy(s),i.applyTransform(l),(e=e||i.clone()).union(i)):(e=e||s.clone()).union(s)}}return e||i}},rl.inherits(rh,eh);var sh=rh,lh=32,hh=7,uh=function(t,e,i,n){i||(i=0),n||(n=t.length);var a=n-i;if(!(a&lt;2)){var o=0;if(a&lt;lh)return o=j(t,i,n,e),void U(t,i,n,i+o,e);var r=new function(t,e){function i(i){var l=n[i],h=a[i],u=n[i+1],c=a[i+1];a[i]=h+c,i===r-3&amp;&amp;(n[i+1]=n[i+2],a[i+1]=a[i+2]),r--;var d=X(t[u],t,l,h,0,e);l+=d,0!=(h-=d)&amp;&amp;0!==(c=q(t[l+h-1],t,u,c,c-1,e))&amp;&amp;(h&lt;=c?function(i,n,a,r){var l=0;for(l=0;l&lt;n;l++)s[l]=t[i+l];var h=0,u=a,c=i;if(t[c++]=t[u++],0!=--r)if(1!==n){for(var d,p,f,g=o;;){d=0,p=0,f=!1;do{if(e(t[u],s[h])&lt;0){if(t[c++]=t[u++],p++,d=0,0==--r){f=!0;break}}else if(t[c++]=s[h++],d++,p=0,1==--n){f=!0;break}}while((d|p)&lt;g);if(f)break;do{if(0!==(d=X(t[u],s,h,n,0,e))){for(l=0;l&lt;d;l++)t[c+l]=s[h+l];if(c+=d,h+=d,(n-=d)&lt;=1){f=!0;break}}if(t[c++]=t[u++],0==--r){f=!0;break}if(0!==(p=q(s[h],t,u,r,0,e))){for(l=0;l&lt;p;l++)t[c+l]=t[u+l];if(c+=p,u+=p,0==(r-=p)){f=!0;break}}if(t[c++]=s[h++],1==--n){f=!0;break}g--}while(d&gt;=hh||p&gt;=hh);if(f)break;g&lt;0&amp;&amp;(g=0),g+=2}if((o=g)&lt;1&amp;&amp;(o=1),1===n){for(l=0;l&lt;r;l++)t[c+l]=t[u+l];t[c+r]=s[h]}else{if(0===n)throw new Error;for(l=0;l&lt;n;l++)t[c+l]=s[h+l]}}else{for(l=0;l&lt;r;l++)t[c+l]=t[u+l];t[c+r]=s[h]}else for(l=0;l&lt;n;l++)t[c+l]=s[h+l]}(l,h,u,c):function(i,n,a,r){var l=0;for(l=0;l&lt;r;l++)s[l]=t[a+l];var h=i+n-1,u=r-1,c=a+r-1,d=0,p=0;if(t[c--]=t[h--],0!=--n)if(1!==r){for(var f=o;;){var g=0,m=0,v=!1;do{if(e(s[u],t[h])&lt;0){if(t[c--]=t[h--],g++,m=0,0==--n){v=!0;break}}else if(t[c--]=s[u--],m++,g=0,1==--r){v=!0;break}}while((g|m)&lt;f);if(v)break;do{if(0!=(g=n-X(s[u],t,i,n,n-1,e))){for(n-=g,p=1+(c-=g),d=1+(h-=g),l=g-1;l&gt;=0;l--)t[p+l]=t[d+l];if(0===n){v=!0;break}}if(t[c--]=s[u--],1==--r){v=!0;break}if(0!=(m=r-q(t[h],s,0,r,r-1,e))){for(r-=m,p=1+(c-=m),d=1+(u-=m),l=0;l&lt;m;l++)t[p+l]=s[d+l];if(r&lt;=1){v=!0;break}}if(t[c--]=t[h--],0==--n){v=!0;break}f--}while(g&gt;=hh||m&gt;=hh);if(v)break;f&lt;0&amp;&amp;(f=0),f+=2}if((o=f)&lt;1&amp;&amp;(o=1),1===r){for(p=1+(c-=n),d=1+(h-=n),l=n-1;l&gt;=0;l--)t[p+l]=t[d+l];t[c]=s[u]}else{if(0===r)throw new Error;for(d=c-(r-1),l=0;l&lt;r;l++)t[d+l]=s[l]}}else{for(p=1+(c-=n),d=1+(h-=n),l=n-1;l&gt;=0;l--)t[p+l]=t[d+l];t[c]=s[u]}else for(d=c-(r-1),l=0;l&lt;r;l++)t[d+l]=s[l]}(l,h,u,c))}var n,a,o=hh,r=0;t.length;var s=[];n=[],a=[],this.mergeRuns=function(){for(;r&gt;1;){var t=r-2;if(t&gt;=1&amp;&amp;a[t-1]&lt;=a[t]+a[t+1]||t&gt;=2&amp;&amp;a[t-2]&lt;=a[t]+a[t-1])a[t-1]&lt;a[t+1]&amp;&amp;t--;else if(a[t]&gt;a[t+1])break;i(t)}},this.forceMergeRuns=function(){for(;r&gt;1;){var t=r-2;t&gt;0&amp;&amp;a[t-1]&lt;a[t+1]&amp;&amp;t--,i(t)}},this.pushRun=function(t,e){n[r]=t,a[r]=e,r+=1}}(t,e),s=function(t){for(var e=0;t&gt;=lh;)e|=1&amp;t,t&gt;&gt;=1;return t+e}(a);do{if((o=j(t,i,n,e))&lt;s){var l=a;l&gt;s&amp;&amp;(l=s),U(t,i,i+l,i+o,e),o=l}r.pushRun(i,o),r.mergeRuns(),a-=o,i+=o}while(0!==a);r.forceMergeRuns()}},ch=function(){this._roots=[],this._displayList=[],this._displayListLen=0};ch.prototype={constructor:ch,traverse:function(t,e){for(var i=0;i&lt;this._roots.length;i++)this._roots[i].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&amp;&amp;this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,i=this._displayList,n=0,a=e.length;n&lt;a;n++)this._updateAndAddDisplayable(e[n],null,t);i.length=this._displayListLen,Us.canvasSupported&amp;&amp;uh(i,Y)},_updateAndAddDisplayable:function(t,e,i){if(!t.ignore||i){t.beforeUpdate(),t.__dirty&amp;&amp;t.update(),t.afterUpdate();var n=t.clipPath;if(n){e=e?e.slice():[];for(var a=n,o=t;a;)a.parent=o,a.updateTransform(),e.push(a),o=a,a=a.clipPath}if(t.isGroup){for(var r=t._children,s=0;s&lt;r.length;s++){var l=r[s];t.__dirty&amp;&amp;(l.__dirty=!0),this._updateAndAddDisplayable(l,e,i)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&amp;&amp;(t instanceof sh&amp;&amp;t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(i=0;i&lt;this._roots.length;i++){var e=this._roots[i];e instanceof sh&amp;&amp;e.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array)for(var i=0,n=t.length;i&lt;n;i++)this.delRoot(t[i]);else{var a=rl.indexOf(this._roots,t);a&gt;=0&amp;&amp;(this.delFromStorage(t),this._roots.splice(a,1),t instanceof sh&amp;&amp;t.delChildrenFromStorage(this))}},addToStorage:function(t){return t.__storage=this,t.dirty(!1),this},delFromStorage:function(t){return t&amp;&amp;(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:Y};for(var dh=ch,ph=[[&quot;shadowBlur&quot;,0],[&quot;shadowOffsetX&quot;,0],[&quot;shadowOffsetY&quot;,0],[&quot;shadowColor&quot;,&quot;#000&quot;],[&quot;lineCap&quot;,&quot;butt&quot;],[&quot;lineJoin&quot;,&quot;miter&quot;],[&quot;miterLimit&quot;,10]],fh=function(t,e){this.extendFrom(t,!1),this.host=e},gh=fh.prototype={constructor:fh,host:null,fill:&quot;#000&quot;,stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:&quot;#000&quot;,textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:&quot;inside&quot;,textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:&quot;transparent&quot;,textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:&quot;transparent&quot;,textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,i){for(var n=i&amp;&amp;i.style,a=!n,o=0;o&lt;ph.length;o++){var r=ph[o],s=r[0];(a||this[s]!==n[s])&amp;&amp;(t[s]=this[s]||r[1])}if((a||this.fill!==n.fill)&amp;&amp;(t.fillStyle=this.fill),(a||this.stroke!==n.stroke)&amp;&amp;(t.strokeStyle=this.stroke),(a||this.opacity!==n.opacity)&amp;&amp;(t.globalAlpha=null==this.opacity?1:this.opacity),(a||this.blend!==n.blend)&amp;&amp;(t.globalCompositeOperation=this.blend||&quot;source-over&quot;),this.hasStroke()){var l=this.lineWidth;t.lineWidth=l/(this.strokeNoScale&amp;&amp;e&amp;&amp;e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return null!=t&amp;&amp;&quot;none&quot;!==t},hasStroke:function(){var t=this.stroke;return null!=t&amp;&amp;&quot;none&quot;!==t&amp;&amp;this.lineWidth&gt;0},extendFrom:function(t,e){if(t)for(var i in t)!t.hasOwnProperty(i)||!0!==e&amp;&amp;(!1===e?this.hasOwnProperty(i):null==t[i])||(this[i]=t[i])},set:function(t,e){&quot;string&quot;==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,i){for(var n=(&quot;radial&quot;===e.type?function(t,e,i){var n=i.width,a=i.height,o=Math.min(n,a),r=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(r=r*n+i.x,s=s*a+i.y,l*=o),t.createRadialGradient(r,s,0,r,s,l)}:function(t,e,i){var n=null==e.x?0:e.x,a=null==e.x2?1:e.x2,o=null==e.y?0:e.y,r=null==e.y2?0:e.y2;return e.global||(n=n*i.width+i.x,a=a*i.width+i.x,o=o*i.height+i.y,r=r*i.height+i.y),t.createLinearGradient(n,o,a,r)})(t,e,i),a=e.colorStops,o=0;o&lt;a.length;o++)n.addColorStop(a[o].offset,a[o].color);return n}},mh=0;mh&lt;ph.length;mh++){var vh=ph[mh];vh[0]in gh||(gh[vh[0]]=vh[1])}fh.getGradient=gh.getGradient;var yh=fh,xh=function(t,e){this.image=t,this.repeat=e,this.type=&quot;pattern&quot;};xh.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||&quot;repeat&quot;)};var _h=xh,bh=Fl.devicePixelRatio,wh=function(t,e,i){var n;i=i||bh,&quot;string&quot;==typeof t?n=$(t,e,i):rl.isObject(t)&amp;&amp;(t=(n=t).id),this.id=t,this.dom=n;var a=n.style;a&amp;&amp;(n.onselectstart=function(){return!1},a[&quot;-webkit-user-select&quot;]=&quot;none&quot;,a[&quot;user-select&quot;]=&quot;none&quot;,a[&quot;-webkit-touch-callout&quot;]=&quot;none&quot;,a[&quot;-webkit-tap-highlight-color&quot;]=&quot;rgba(0,0,0,0)&quot;,a.padding=0,a.margin=0,a[&quot;border-width&quot;]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=i};wh.prototype={constructor:wh,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext(&quot;2d&quot;),this.ctx.__currentValues={},this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=$(&quot;back-&quot;+this.id,this.painter,t),this.ctxBack=this.domBack.getContext(&quot;2d&quot;),this.ctxBack.__currentValues={},1!=t&amp;&amp;this.ctxBack.scale(t,t)},resize:function(t,e){var i=this.dpr,n=this.dom,a=n.style,o=this.domBack;a.width=t+&quot;px&quot;,a.height=e+&quot;px&quot;,n.width=t*i,n.height=e*i,o&amp;&amp;(o.width=t*i,o.height=e*i,1!=i&amp;&amp;this.ctxBack.scale(i,i))},clear:function(t){var e=this.dom,i=this.ctx,n=e.width,a=e.height,o=this.clearColor,r=this.motionBlur&amp;&amp;!t,s=this.lastFrameAlpha,l=this.dpr;if(r&amp;&amp;(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation=&quot;copy&quot;,this.ctxBack.drawImage(e,0,0,n/l,a/l)),i.clearRect(0,0,n,a),o){var h;o.colorStops?(h=o.__canvasGradient||yh.getGradient(i,o,{x:0,y:0,width:n,height:a}),o.__canvasGradient=h):o.image&amp;&amp;(h=_h.prototype.getCanvasPattern.call(o,i)),i.save(),i.fillStyle=h||o,i.fillRect(0,0,n,a),i.restore()}if(r){var u=this.domBack;i.save(),i.globalAlpha=s,i.drawImage(u,0,0,n,a),i.restore()}}};var Sh=wh,Mh=&quot;undefined&quot;!=typeof window&amp;&amp;(window.requestAnimationFrame&amp;&amp;window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&amp;&amp;window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)},Ih=new Ol(50),Th={findExistImage:function(t){if(&quot;string&quot;==typeof t){var e=Ih.get(t);return e&amp;&amp;e.image}return t},createOrUpdateImage:function(t,e,i,n,a){if(t){if(&quot;string&quot;==typeof t){if(e&amp;&amp;e.__zrImageSrc===t||!i)return e;var o=Ih.get(t),r={hostEl:i,cb:n,cbPayload:a};return o?!K(e=o.image)&amp;&amp;o.pending.push(r):(!e&amp;&amp;(e=new Image),e.onload=function(){var t=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var e=0;e&lt;t.pending.length;e++){var i=t.pending[e],n=i.cb;n&amp;&amp;n(this,i.cbPayload),i.hostEl.dirty()}t.pending.length=0},Ih.put(t,e.__cachedImgObj={image:e,pending:[r]}),e.src=e.__zrImageSrc=t),e}return t}return e},isImageReady:K},Ah=rl.getContext,Ch=rl.extend,Lh=rl.retrieve2,Dh=rl.retrieve3,Ph={},kh=0,Oh=5e3,zh=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,Eh=&quot;12px sans-serif&quot;,Rh={};Rh.measureText=function(t,e){var i=Ah();return i.font=e||Eh,i.measureText(t)};var Nh={DEFAULT_FONT:Eh,$override:function(t,e){Rh[t]=e},getWidth:J,getBoundingRect:function(t,e,i,n,a,o,r){return o?function(t,e,i,n,a,o,r){var s=st(t,{rich:o,truncate:r,font:e,textAlign:i,textPadding:a}),l=s.outerWidth,h=s.outerHeight,u=Q(0,l,i),c=tt(0,h,n);return new oh(u,c,l,h)}(t,e,i,n,a,o,r):function(t,e,i,n,a,o){var r=rt(t,e,a,o),s=J(t,e);a&amp;&amp;(s+=a[1]+a[3]);var l=r.outerHeight,h=Q(0,s,i),u=tt(0,l,n),c=new oh(h,u,s,l);return c.lineHeight=r.lineHeight,c}(t,e,i,n,a,r)},adjustTextX:Q,adjustTextY:tt,adjustTextPositionOnRect:function(t,e,i){var n=e.x,a=e.y,o=e.height,r=e.width,s=o/2,l=&quot;left&quot;,h=&quot;top&quot;;switch(t){case&quot;left&quot;:n-=i,a+=s,l=&quot;right&quot;,h=&quot;middle&quot;;break;case&quot;right&quot;:n+=i+r,a+=s,h=&quot;middle&quot;;break;case&quot;top&quot;:n+=r/2,a-=i,l=&quot;center&quot;,h=&quot;bottom&quot;;break;case&quot;bottom&quot;:n+=r/2,a+=o+i,l=&quot;center&quot;;break;case&quot;inside&quot;:n+=r/2,a+=s,l=&quot;center&quot;,h=&quot;middle&quot;;break;case&quot;insideLeft&quot;:n+=i,a+=s,h=&quot;middle&quot;;break;case&quot;insideRight&quot;:n+=r-i,a+=s,l=&quot;right&quot;,h=&quot;middle&quot;;break;case&quot;insideTop&quot;:n+=r/2,a+=i,l=&quot;center&quot;;break;case&quot;insideBottom&quot;:n+=r/2,a+=o-i,l=&quot;center&quot;,h=&quot;bottom&quot;;break;case&quot;insideTopLeft&quot;:n+=i,a+=i;break;case&quot;insideTopRight&quot;:n+=r-i,a+=i,l=&quot;right&quot;;break;case&quot;insideBottomLeft&quot;:n+=i,a+=o-i,h=&quot;bottom&quot;;break;case&quot;insideBottomRight&quot;:n+=r-i,a+=o-i,l=&quot;right&quot;,h=&quot;bottom&quot;}return{x:n,y:a,textAlign:l,textVerticalAlign:h}},truncateText:et,getLineHeight:at,measureText:ot,parsePlainText:rt,parseRichText:st,makeFont:function(t){return(t.fontSize||t.fontFamily)&amp;&amp;[t.fontStyle,t.fontWeight,(t.fontSize||12)+&quot;px&quot;,t.fontFamily||&quot;sans-serif&quot;].join(&quot; &quot;)||t.textFont||t.font}},Vh={buildPath:function(t,e){var i,n,a,o,r=e.x,s=e.y,l=e.width,h=e.height,u=e.r;l&lt;0&amp;&amp;(r+=l,l=-l),h&lt;0&amp;&amp;(s+=h,h=-h),&quot;number&quot;==typeof u?i=n=a=o=u:u instanceof Array?1===u.length?i=n=a=o=u[0]:2===u.length?(i=a=u[0],n=o=u[1]):3===u.length?(i=u[0],n=o=u[1],a=u[2]):(i=u[0],n=u[1],a=u[2],o=u[3]):i=n=a=o=0;var c;i+n&gt;l&amp;&amp;(i*=l/(c=i+n),n*=l/c),a+o&gt;l&amp;&amp;(a*=l/(c=a+o),o*=l/c),n+a&gt;h&amp;&amp;(n*=h/(c=n+a),a*=h/c),i+o&gt;h&amp;&amp;(i*=h/(c=i+o),o*=h/c),t.moveTo(r+i,s),t.lineTo(r+l-n,s),0!==n&amp;&amp;t.quadraticCurveTo(r+l,s,r+l,s+n),t.lineTo(r+l,s+h-a),0!==a&amp;&amp;t.quadraticCurveTo(r+l,s+h,r+l-a,s+h),t.lineTo(r+o,s+h),0!==o&amp;&amp;t.quadraticCurveTo(r,s+h,r,s+h-o),t.lineTo(r,s+i),0!==i&amp;&amp;t.quadraticCurveTo(r,s,r+i,s)}},Bh=rl.retrieve2,Gh=rl.retrieve3,Hh=rl.each,Wh=rl.normalizeCssArray,Fh=rl.isString,Zh=rl.isObject,jh={left:1,right:1,center:1},Uh={top:1,bottom:1,middle:1},qh={normalizeTextStyle:function(t){return ht(t),Hh(t.rich,ht),t},renderText:function(t,e,i,n,a){n.rich?function(t,e,i,n,a){var o=t.__textCotentBlock;o&amp;&amp;!t.__dirty||(o=t.__textCotentBlock=Nh.parseRichText(i,n)),function(t,e,i,n,a){var o=i.width,r=i.outerWidth,s=i.outerHeight,l=n.textPadding,h=ft(0,n,a),u=h.baseX,c=h.baseY,d=h.textAlign,p=h.textVerticalAlign;ut(e,n,a,u,c);var f=Nh.adjustTextX(u,r,d),g=Nh.adjustTextY(c,s,p),m=f,v=g;l&amp;&amp;(m+=l[3],v+=l[0]);var y=m+o;dt(n)&amp;&amp;pt(t,e,n,f,g,r,s);for(var x=0;x&lt;i.lines.length;x++){for(var _,b=i.lines[x],w=b.tokens,S=w.length,M=b.lineHeight,I=b.width,T=0,A=m,C=y,L=S-1;T&lt;S&amp;&amp;(!(_=w[T]).textAlign||&quot;left&quot;===_.textAlign);)ct(t,e,_,n,M,v,A,&quot;left&quot;),I-=_.width,A+=_.width,T++;for(;L&gt;=0&amp;&amp;&quot;right&quot;===(_=w[L]).textAlign;)ct(t,e,_,n,M,v,C,&quot;right&quot;),I-=_.width,C-=_.width,L--;for(A+=(o-(A-m)-(y-C)-I)/2;T&lt;=L;)_=w[T],ct(t,e,_,n,M,v,A+_.width/2,&quot;center&quot;),A+=_.width,T++;v+=M}}(t,e,o,n,a)}(t,e,i,n,a):function(t,e,i,n,a){var o=gt(e,&quot;font&quot;,n.font||Nh.DEFAULT_FONT),r=n.textPadding,s=t.__textCotentBlock;s&amp;&amp;!t.__dirty||(s=t.__textCotentBlock=Nh.parsePlainText(i,o,r,n.truncate));var l=s.outerHeight,h=s.lines,u=s.lineHeight,c=ft(0,n,a),d=c.baseX,p=c.baseY,f=c.textAlign,g=c.textVerticalAlign;ut(e,n,a,d,p);var m=Nh.adjustTextY(p,l,g),v=d,y=m,x=dt(n);if(x||r){var _=Nh.getWidth(i,o);r&amp;&amp;(_+=r[1]+r[3]);var b=Nh.adjustTextX(d,_,f);x&amp;&amp;pt(t,e,n,b,m,_,l),r&amp;&amp;(v=xt(d,f,r),y+=r[0])}gt(e,&quot;textAlign&quot;,f||&quot;left&quot;),gt(e,&quot;textBaseline&quot;,&quot;middle&quot;),gt(e,&quot;shadowBlur&quot;,n.textShadowBlur||0),gt(e,&quot;shadowColor&quot;,n.textShadowColor||&quot;transparent&quot;),gt(e,&quot;shadowOffsetX&quot;,n.textShadowOffsetX||0),gt(e,&quot;shadowOffsetY&quot;,n.textShadowOffsetY||0),y+=u/2;var w=n.textStrokeWidth,S=mt(n.textStroke,w),M=vt(n.textFill);S&amp;&amp;(gt(e,&quot;lineWidth&quot;,w),gt(e,&quot;strokeStyle&quot;,S)),M&amp;&amp;gt(e,&quot;fillStyle&quot;,M);for(var I=0;I&lt;h.length;I++)S&amp;&amp;e.strokeText(h[I],v,y),M&amp;&amp;e.fillText(h[I],v,y),y+=u}(t,e,i,n,a)},getStroke:mt,getFill:vt,needDrawText:function(t,e){return null!=t&amp;&amp;(t||e.textBackgroundColor||e.textBorderWidth&amp;&amp;e.textBorderColor||e.textPadding)}},Xh=new oh,Yh=function(){};Yh.prototype={constructor:Yh,drawRectText:function(t,e){var i=this.style;e=i.textRect||e,this.__dirty&amp;&amp;qh.normalizeTextStyle(i,!0);var n=i.text;if(null!=n&amp;&amp;(n+=&quot;&quot;),qh.needDrawText(n,i)){t.save();var a=this.transform;i.transformText?this.setTransform(t):a&amp;&amp;(Xh.copy(e),Xh.applyTransform(a),e=Xh),qh.renderText(this,t,n,i,e),t.restore()}}};var $h=Yh;_t.prototype={constructor:_t,type:&quot;displayable&quot;,__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:&quot;pointer&quot;,rectHover:!1,progressive:-1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var i=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(i[0],i[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&amp;&amp;this.__zr.refresh()},animateStyle:function(t){return this.animate(&quot;style&quot;,t)},attrKV:function(t,e){&quot;style&quot;!==t?eh.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new yh(t,this),this.dirty(!1),this}},rl.inherits(_t,eh),rl.mixin(_t,$h);var Kh=_t;bt.prototype={constructor:bt,type:&quot;image&quot;,brush:function(t,e){var i=this.style,n=i.image;i.bind(t,this,e);var a=this._image=Th.createOrUpdateImage(n,this._image,this,this.onload);if(a&amp;&amp;Th.isImageReady(a)){var o=i.x||0,r=i.y||0,s=i.width,l=i.height,h=a.width/a.height;if(null==s&amp;&amp;null!=l?s=l*h:null==l&amp;&amp;null!=s?l=s/h:null==s&amp;&amp;null==l&amp;&amp;(s=a.width,l=a.height),this.setTransform(t),i.sWidth&amp;&amp;i.sHeight){var u=i.sx||0,c=i.sy||0;t.drawImage(a,u,c,i.sWidth,i.sHeight,o,r,s,l)}else if(i.sx&amp;&amp;i.sy){var d=s-(u=i.sx),p=l-(c=i.sy);t.drawImage(a,u,c,d,p,o,r,s,l)}else t.drawImage(a,o,r,s,l);this.restoreTransform(t),null!=i.text&amp;&amp;this.drawRectText(t,this.getBoundingRect())}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new oh(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},rl.inherits(bt,Kh);var Jh=bt,Qh=Fl.devicePixelRatio,tu=new oh(0,0,0,0),eu=new oh(0,0,0,0),iu=function(t,e,i){this.type=&quot;canvas&quot;;var n=!t.nodeName||&quot;CANVAS&quot;===t.nodeName.toUpperCase();this._opts=i=rl.extend({},i||{}),this.dpr=i.devicePixelRatio||Qh,this._singleCanvas=n,this.root=t;var a=t.style;a&amp;&amp;(a[&quot;-webkit-tap-highlight-color&quot;]=&quot;transparent&quot;,a[&quot;-webkit-user-select&quot;]=a[&quot;user-select&quot;]=a[&quot;-webkit-touch-callout&quot;]=&quot;none&quot;,t.innerHTML=&quot;&quot;),this.storage=e;var o=this._zlevelList=[],r=this._layers={};if(this._layerConfig={},n){null!=i.width&amp;&amp;(t.width=i.width),null!=i.height&amp;&amp;(t.height=i.height);var s=t.width,l=t.height;this._width=s,this._height=l;var h=new Sh(t,this,1);h.initContext(),r[0]=h,o.push(0),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var u=this._domRoot=function(t,e){var i=document.createElement(&quot;div&quot;);return i.style.cssText=[&quot;position:relative&quot;,&quot;overflow:hidden&quot;,&quot;width:&quot;+t+&quot;px&quot;,&quot;height:&quot;+e+&quot;px&quot;,&quot;padding:0&quot;,&quot;margin:0&quot;,&quot;border-width:0&quot;].join(&quot;;&quot;)+&quot;;&quot;,i}(this._width,this._height);t.appendChild(u)}this._progressiveLayers=[],this._hoverlayer,this._hoverElements=[]};iu.prototype={constructor:iu,getType:function(){return&quot;canvas&quot;},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(t){var e=this.storage.getDisplayList(!0),i=this._zlevelList;this._paintList(e,t);for(var n=0;n&lt;i.length;n++){var a=i[n],o=this._layers[a];!o.__builtin__&amp;&amp;o.refresh&amp;&amp;o.refresh()}return this.refreshHover(),this._progressiveLayers.length&amp;&amp;this._startProgessive(),this},addHover:function(t,e){if(!t.__hoverMir){var i=new t.constructor({style:t.style,shape:t.shape});i.__from=t,t.__hoverMir=i,i.setStyle(e),this._hoverElements.push(i)}},removeHover:function(t){var e=t.__hoverMir,i=this._hoverElements,n=rl.indexOf(i,e);n&gt;=0&amp;&amp;i.splice(n,1),t.__hoverMir=null},clearHover:function(t){for(var e=this._hoverElements,i=0;i&lt;e.length;i++){var n=e[i].__from;n&amp;&amp;(n.__hoverMir=null)}e.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,i=this._hoverlayer;if(i&amp;&amp;i.clear(),e){uh(t,this.storage.displayableSortFunc),i||(i=this._hoverlayer=this.getLayer(1e5));var n={};i.ctx.save();for(var a=0;a&lt;e;){var o=t[a],r=o.__from;r&amp;&amp;r.__zr?(a++,r.invisible||(o.transform=r.transform,o.invTransform=r.invTransform,o.__clipPaths=r.__clipPaths,this._doPaintEl(o,i,!0,n))):(t.splice(a,1),r.__hoverMir=null,e--)}i.ctx.restore()}},_startProgessive:function(){function t(){i===e._progressiveToken&amp;&amp;e.storage&amp;&amp;(e._doPaintList(e.storage.getDisplayList()),e._furtherProgressive?(e._progress++,Mh(t)):e._progressiveToken=-1)}var e=this;if(e._furtherProgressive){var i=e._progressiveToken=+new Date;e._progress++,Mh(t)}},_clearProgressive:function(){this._progressiveToken=-1,this._progress=0,rl.each(this._progressiveLayers,function(t){t.__dirty&amp;&amp;t.clear()})},_paintList:function(t,e){null==e&amp;&amp;(e=!1),this._updateLayerStatus(t),this._clearProgressive(),this.eachBuiltinLayer(function(t){t.__unusedCount++}),this._doPaintList(t,e),this.eachBuiltinLayer(function(t){1==t.__unusedCount&amp;&amp;t.clear()})},_doPaintList:function(t,e){function i(t){var e=o.dpr||1;o.save(),o.globalAlpha=1,o.shadowBlur=0,n.__dirty=!0,o.setTransform(1,0,0,1,0,0),o.drawImage(t.dom,0,0,u*e,c*e),o.restore()}for(var n,a,o,r,s,l,h=0,u=this._width,c=this._height,d=this._progress,p=0,f=t.length;p&lt;f;p++){var g=t[p],m=this._singleCanvas?0:g.zlevel,v=g.__frame;if(v&lt;0&amp;&amp;s&amp;&amp;(i(s),s=null),a!==m&amp;&amp;(o&amp;&amp;o.restore(),r={},a=m,(n=this.getLayer(a)).__builtin__||Ul(&quot;ZLevel &quot;+a+&quot; has been used by unkown layer &quot;+n.id),(o=n.ctx).save(),n.__unusedCount=0,(n.__dirty||e)&amp;&amp;n.clear()),n.__dirty||e){if(v&gt;=0){if(!s){if((s=this._progressiveLayers[Math.min(h++,4)]).ctx.save(),s.renderScope={},s&amp;&amp;s.__progress&gt;s.__maxProgress){p=s.__nextIdxNotProg-1;continue}l=s.__progress,s.__dirty||(d=l),s.__progress=d+1}v===d&amp;&amp;this._doPaintEl(g,s,!0,s.renderScope)}else this._doPaintEl(g,n,e,r);g.__dirty=!1}}s&amp;&amp;i(s),o&amp;&amp;o.restore(),this._furtherProgressive=!1,rl.each(this._progressiveLayers,function(t){t.__maxProgress&gt;=t.__progress&amp;&amp;(this._furtherProgressive=!0)},this)},_doPaintEl:function(t,e,i,n){var a=e.ctx,o=t.transform;if((e.__dirty||i)&amp;&amp;!t.invisible&amp;&amp;0!==t.style.opacity&amp;&amp;(!o||o[0]||o[3])&amp;&amp;(!t.culling||!function(t,e,i){return tu.copy(t.getBoundingRect()),t.transform&amp;&amp;tu.applyTransform(t.transform),eu.width=e,eu.height=i,!tu.intersect(eu)}(t,this._width,this._height))){var r=t.__clipPaths;(n.prevClipLayer!==e||function(t,e){if(t==e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var i=0;i&lt;t.length;i++)if(t[i]!==e[i])return!0}(r,n.prevElClipPaths))&amp;&amp;(n.prevElClipPaths&amp;&amp;(n.prevClipLayer.ctx.restore(),n.prevClipLayer=n.prevElClipPaths=null,n.prevEl=null),r&amp;&amp;(a.save(),function(t,e){for(var i=0;i&lt;t.length;i++){var n=t[i];n.setTransform(e),e.beginPath(),n.buildPath(e,n.shape),e.clip(),n.restoreTransform(e)}}(r,a),n.prevClipLayer=e,n.prevElClipPaths=r)),t.beforeBrush&amp;&amp;t.beforeBrush(a),t.brush(a,n.prevEl||null),n.prevEl=t,t.afterBrush&amp;&amp;t.afterBrush(a)}},getLayer:function(t){if(this._singleCanvas)return this._layers[0];var e=this._layers[t];return e||((e=new Sh(&quot;zr_&quot;+t,this,this.dpr)).__builtin__=!0,this._layerConfig[t]&amp;&amp;rl.merge(e,this._layerConfig[t],!0),this.insertLayer(t,e),e.initContext()),e},insertLayer:function(t,e){var i=this._layers,n=this._zlevelList,a=n.length,o=null,r=-1,s=this._domRoot;if(i[t])Ul(&quot;ZLevel &quot;+t+&quot; has been used already&quot;);else if(function(t){return!!t&amp;&amp;(!!t.__builtin__||&quot;function&quot;==typeof t.resize&amp;&amp;&quot;function&quot;==typeof t.refresh)}(e)){if(a&gt;0&amp;&amp;t&gt;n[0]){for(r=0;r&lt;a-1&amp;&amp;!(n[r]&lt;t&amp;&amp;n[r+1]&gt;t);r++);o=i[n[r]]}if(n.splice(r+1,0,t),i[t]=e,!e.virtual)if(o){var l=o.dom;l.nextSibling?s.insertBefore(e.dom,l.nextSibling):s.appendChild(e.dom)}else s.firstChild?s.insertBefore(e.dom,s.firstChild):s.appendChild(e.dom)}else Ul(&quot;Layer of zlevel &quot;+t+&quot; is not valid&quot;)},eachLayer:function(t,e){var i,n,a=this._zlevelList;for(n=0;n&lt;a.length;n++)i=a[n],t.call(e,this._layers[i],i)},eachBuiltinLayer:function(t,e){var i,n,a,o=this._zlevelList;for(a=0;a&lt;o.length;a++)n=o[a],(i=this._layers[n]).__builtin__&amp;&amp;t.call(e,i,n)},eachOtherLayer:function(t,e){var i,n,a,o=this._zlevelList;for(a=0;a&lt;o.length;a++)n=o[a],(i=this._layers[n]).__builtin__||t.call(e,i,n)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){var e=this._layers,i=this._progressiveLayers,n={},a={};this.eachBuiltinLayer(function(t,e){n[e]=t.elCount,t.elCount=0,t.__dirty=!1}),rl.each(i,function(t,e){a[e]=t.elCount,t.elCount=0,t.__dirty=!1});for(var o,r,s=0,l=0,h=0,u=t.length;h&lt;u;h++){var c=t[h],d=e[this._singleCanvas?0:c.zlevel],p=c.progressive;if(d&amp;&amp;(d.elCount++,d.__dirty=d.__dirty||c.__dirty),p&gt;=0){r!==p&amp;&amp;(r=p,l++);var f=c.__frame=l-1;if(!o){var g=Math.min(s,4);(o=i[g])||(o=i[g]=new Sh(&quot;progressive&quot;,this,this.dpr)).initContext(),o.__maxProgress=0}o.__dirty=o.__dirty||c.__dirty,o.elCount++,o.__maxProgress=Math.max(o.__maxProgress,f),o.__maxProgress&gt;=o.__progress&amp;&amp;(d.__dirty=!0)}else c.__frame=-1,o&amp;&amp;(o.__nextIdxNotProg=h,s++,o=null)}o&amp;&amp;(s++,o.__nextIdxNotProg=h),this.eachBuiltinLayer(function(t,e){n[e]!==t.elCount&amp;&amp;(t.__dirty=!0)}),i.length=Math.min(s,5),rl.each(i,function(t,e){a[e]!==t.elCount&amp;&amp;(c.__dirty=!0),t.__dirty&amp;&amp;(t.__progress=0)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},configLayer:function(t,e){if(e){var i=this._layerConfig;i[t]?rl.merge(i[t],e,!0):i[t]=e;var n=this._layers[t];n&amp;&amp;rl.merge(n,i[t],!0)}},delLayer:function(t){var e=this._layers,i=this._zlevelList,n=e[t];n&amp;&amp;(n.dom.parentNode.removeChild(n.dom),delete e[t],i.splice(rl.indexOf(i,t),1))},resize:function(t,e){var i=this._domRoot;i.style.display=&quot;none&quot;;var n=this._opts;if(null!=t&amp;&amp;(n.width=t),null!=e&amp;&amp;(n.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display=&quot;&quot;,this._width!=t||e!=this._height){i.style.width=t+&quot;px&quot;,i.style.height=e+&quot;px&quot;;for(var a in this._layers)this._layers.hasOwnProperty(a)&amp;&amp;this._layers[a].resize(t,e);rl.each(this._progressiveLayers,function(i){i.resize(t,e)}),this.refresh(!0)}return this._width=t,this._height=e,this},clearLayer:function(t){var e=this._layers[t];e&amp;&amp;e.clear()},dispose:function(){this.root.innerHTML=&quot;&quot;,this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){function e(t,e){var n=r._zlevelList;null==t&amp;&amp;(t=-1/0);for(var a,o=0;o&lt;n.length;o++){var s=n[o],l=r._layers[s];if(!l.__builtin__&amp;&amp;s&gt;t&amp;&amp;s&lt;e){a=l;break}}a&amp;&amp;a.renderToCanvas&amp;&amp;(i.ctx.save(),a.renderToCanvas(i.ctx),i.ctx.restore())}if(t=t||{},this._singleCanvas)return this._layers[0].dom;var i=new Sh(&quot;image&quot;,this,t.pixelRatio||this.dpr);i.initContext(),i.clearColor=t.backgroundColor,i.clear();for(var n,a=this.storage.getDisplayList(!0),o={},r=this,s=0;s&lt;a.length;s++){var l=a[s];l.zlevel!==n&amp;&amp;(e(n,l.zlevel),n=l.zlevel),this._doPaintEl(l,i,!0,o)}return e(n,1/0),i.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,i=[&quot;width&quot;,&quot;height&quot;][t],n=[&quot;clientWidth&quot;,&quot;clientHeight&quot;][t],a=[&quot;paddingLeft&quot;,&quot;paddingTop&quot;][t],o=[&quot;paddingRight&quot;,&quot;paddingBottom&quot;][t];if(null!=e[i]&amp;&amp;&quot;auto&quot;!==e[i])return parseFloat(e[i]);var r=this.root,s=document.defaultView.getComputedStyle(r);return(r[n]||wt(s[i])||wt(r.style[i]))-(wt(s[a])||0)-(wt(s[o])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var i=document.createElement(&quot;canvas&quot;),n=i.getContext(&quot;2d&quot;),a=t.getBoundingRect(),o=t.style,r=o.shadowBlur,s=o.shadowOffsetX,l=o.shadowOffsetY,h=o.hasStroke()?o.lineWidth:0,u=Math.max(h/2,-s+r),c=Math.max(h/2,s+r),d=Math.max(h/2,-l+r),p=Math.max(h/2,l+r),f=a.width+u+c,g=a.height+d+p;i.width=f*e,i.height=g*e,n.scale(e,e),n.clearRect(0,0,f,g),n.dpr=e;var m={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[u-a.x,d-a.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&amp;&amp;t.brush(n);var v=new Jh({style:{x:0,y:0,image:i}});return null!=m.position&amp;&amp;(v.position=t.position=m.position),null!=m.rotation&amp;&amp;(v.rotation=t.rotation=m.rotation),null!=m.scale&amp;&amp;(v.scale=t.scale=m.scale),v}};var nu=iu,au=dl,ou=&quot;undefined&quot;!=typeof window&amp;&amp;!!window.addEventListener,ru=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,su={Dispatcher:au,clientToLocal:St,normalizeEvent:function(t,e,i){if(null!=(e=e||window.event).zrX)return e;var n=e.type;if(n&amp;&amp;n.indexOf(&quot;touch&quot;)&gt;=0){var a=&quot;touchend&quot;!=n?e.targetTouches[0]:e.changedTouches[0];a&amp;&amp;St(t,a,e,i)}else St(t,e,e,i),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var o=e.button;return null==e.which&amp;&amp;void 0!==o&amp;&amp;ru.test(e.type)&amp;&amp;(e.which=1&amp;o?1:2&amp;o?3:4&amp;o?2:0),e},addEventListener:function(t,e,i){ou?t.addEventListener(e,i):t.attachEvent(&quot;on&quot;+e,i)},removeEventListener:function(t,e,i){ou?t.removeEventListener(e,i):t.detachEvent(&quot;on&quot;+e,i)},stop:ou?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0},notLeftMouse:function(t){return t.which&gt;1}},lu=su.Dispatcher,hu=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,lu.call(this)};hu.prototype={constructor:hu,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),i=0;i&lt;e.length;i++)this.addClip(e[i])},removeClip:function(t){var e=rl.indexOf(this._clips,t);e&gt;=0&amp;&amp;this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),i=0;i&lt;e.length;i++)this.removeClip(e[i]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,i=this._clips,n=i.length,a=[],o=[],r=0;r&lt;n;r++){var s=i[r],l=s.step(t,e);l&amp;&amp;(a.push(l),o.push(s))}for(r=0;r&lt;n;)i[r]._needsRemove?(i[r]=i[n-1],i.pop(),n--):r++;n=a.length;for(r=0;r&lt;n;r++)o[r].fire(a[r]);this._time=t,this.onframe(e),this.trigger(&quot;frame&quot;,e),this.stage.update&amp;&amp;this.stage.update()},_startLoop:function(){function t(){e._running&amp;&amp;(Mh(t),!e._paused&amp;&amp;e._update())}var e=this;this._running=!0,Mh(t)},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&amp;&amp;(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},animate:function(t,e){var i=new Hl(t,(e=e||{}).loop,e.getter,e.setter);return this.addAnimator(i),i}},rl.mixin(hu,lu);var uu=hu,cu=function(){this._track=[]};cu.prototype={constructor:cu,recognize:function(t,e,i){return this._doTrack(t,e,i),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,i){var n=t.touches;if(n){for(var a={points:[],touches:[],target:e,event:t},o=0,r=n.length;o&lt;r;o++){var s=n[o],l=su.clientToLocal(i,s,{});a.points.push([l.zrX,l.zrY]),a.touches.push(s)}this._track.push(a)}},_recognize:function(t){for(var e in du)if(du.hasOwnProperty(e)){var i=du[e](this._track,t);if(i)return i}}};var du={pinch:function(t,e){var i=t.length;if(i){var n=(t[i-1]||{}).points,a=(t[i-2]||{}).points||n;if(a&amp;&amp;a.length&gt;1&amp;&amp;n&amp;&amp;n.length&gt;1){var o=It(n)/It(a);!isFinite(o)&amp;&amp;(o=1),e.pinchScale=o;var r=function(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}(n);return e.pinchX=r[0],e.pinchY=r[1],{type:&quot;pinch&quot;,target:t[0].target,event:e}}}}},pu=cu,fu=su.addEventListener,gu=su.removeEventListener,mu=su.normalizeEvent,vu=[&quot;click&quot;,&quot;dblclick&quot;,&quot;mousewheel&quot;,&quot;mouseout&quot;,&quot;mouseup&quot;,&quot;mousedown&quot;,&quot;mousemove&quot;,&quot;contextmenu&quot;],yu=[&quot;touchstart&quot;,&quot;touchend&quot;,&quot;touchmove&quot;],xu={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},_u=rl.map(vu,function(t){var e=t.replace(&quot;mouse&quot;,&quot;pointer&quot;);return xu[e]?e:t}),bu={mousemove:function(t){t=mu(this.dom,t),this.trigger(&quot;mousemove&quot;,t)},mouseout:function(t){var e=(t=mu(this.dom,t)).toElement||t.relatedTarget;if(e!=this.dom)for(;e&amp;&amp;9!=e.nodeType;){if(e===this.dom)return;e=e.parentNode}this.trigger(&quot;mouseout&quot;,t)},touchstart:function(t){(t=mu(this.dom,t)).zrByTouch=!0,this._lastTouchMoment=new Date,At(this,t,&quot;start&quot;),bu.mousemove.call(this,t),bu.mousedown.call(this,t),Ct(this)},touchmove:function(t){(t=mu(this.dom,t)).zrByTouch=!0,At(this,t,&quot;change&quot;),bu.mousemove.call(this,t),Ct(this)},touchend:function(t){(t=mu(this.dom,t)).zrByTouch=!0,At(this,t,&quot;end&quot;),bu.mouseup.call(this,t),+new Date-this._lastTouchMoment&lt;300&amp;&amp;bu.click.call(this,t),Ct(this)},pointerdown:function(t){bu.mousedown.call(this,t)},pointermove:function(t){Lt(t)||bu.mousemove.call(this,t)},pointerup:function(t){bu.mouseup.call(this,t)},pointerout:function(t){Lt(t)||bu.mouseout.call(this,t)}};rl.each([&quot;click&quot;,&quot;mousedown&quot;,&quot;mouseup&quot;,&quot;mousewheel&quot;,&quot;dblclick&quot;,&quot;contextmenu&quot;],function(t){bu[t]=function(e){e=mu(this.dom,e),this.trigger(t,e)}});var wu=Dt.prototype;wu.dispose=function(){for(var t=vu.concat(yu),e=0;e&lt;t.length;e++){var i=t[e];gu(this.dom,Tt(i),this._handlers[i])}},wu.setCursor=function(t){this.dom.style.cursor=t||&quot;default&quot;},rl.mixin(Dt,dl);var Su=Dt,Mu=!Us.canvasSupported,Iu={canvas:nu},Tu={},Au=function(t,e,i){i=i||{},this.dom=e,this.id=t;var n=this,a=new dh,o=i.renderer;if(Mu){if(!Iu.vml)throw new Error(&quot;You need to require &#39;zrender/vml/vml&#39; to support IE8&quot;);o=&quot;vml&quot;}else o&amp;&amp;Iu[o]||(o=&quot;canvas&quot;);var r=new Iu[o](e,a,i);this.storage=a,this.painter=r;var s=Us.node?null:new Su(r.getViewportRoot());this.handler=new ml(a,r,s,r.root),this.animation=new uu({stage:{update:rl.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var l=a.delFromStorage,h=a.addToStorage;a.delFromStorage=function(t){l.call(a,t),t&amp;&amp;t.removeSelfFromZr(n)},a.addToStorage=function(t){h.call(a,t),t.addSelfToZr(n)}};Au.prototype={constructor:Au,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer(t,e),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){this._needsRefresh&amp;&amp;this.refreshImmediately(),this._needsRefreshHover&amp;&amp;this.refreshHoverImmediately()},addHover:function(t,e){this.painter.addHover&amp;&amp;(this.painter.addHover(t,e),this.refreshHover())},removeHover:function(t){this.painter.removeHover&amp;&amp;(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&amp;&amp;(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&amp;&amp;this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,i){this.handler.on(t,e,i)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,function(t){delete Tu[t]}(this.id)}};var Cu={version:&quot;3.7.4&quot;,init:function(t,e){var i=new Au(Zs(),t,e);return Tu[i.id]=i,i},dispose:function(t){if(t)t.dispose();else{for(var e in Tu)Tu.hasOwnProperty(e)&amp;&amp;Tu[e].dispose();Tu={}}return this},getInstance:function(t){return Tu[t]},registerPainter:function(t,e){Iu[t]=e}},Lu=1e-4,Du=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/,Pu={linearMap:function(t,e,i,n){var a=e[1]-e[0],o=i[1]-i[0];if(0===a)return 0===o?i[0]:(i[0]+i[1])/2;if(n)if(a&gt;0){if(t&lt;=e[0])return i[0];if(t&gt;=e[1])return i[1]}else{if(t&gt;=e[0])return i[0];if(t&lt;=e[1])return i[1]}else{if(t===e[0])return i[0];if(t===e[1])return i[1]}return(t-e[0])/a*o+i[0]},parsePercent:function(t,e){switch(t){case&quot;center&quot;:case&quot;middle&quot;:t=&quot;50%&quot;;break;case&quot;left&quot;:case&quot;top&quot;:t=&quot;0%&quot;;break;case&quot;right&quot;:case&quot;bottom&quot;:t=&quot;100%&quot;}return&quot;string&quot;==typeof t?t.replace(/^\s+/,&quot;&quot;).replace(/\s+$/,&quot;&quot;).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t},round:function(t,e,i){return null==e&amp;&amp;(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),i?t:+t},asc:function(t){return t.sort(function(t,e){return t-e}),t},getPrecision:function(t){if(t=+t,isNaN(t))return 0;for(var e=1,i=0;Math.round(t*e)/e!==t;)e*=10,i++;return i},getPrecisionSafe:function(t){var e=t.toString(),i=e.indexOf(&quot;e&quot;);if(i&gt;0){var n=+e.slice(i+1);return n&lt;0?-n:0}var a=e.indexOf(&quot;.&quot;);return a&lt;0?0:e.length-1-a},getPixelPrecision:function(t,e){var i=Math.log,n=Math.LN10,a=Math.floor(i(t[1]-t[0])/n),o=Math.round(i(Math.abs(e[1]-e[0]))/n),r=Math.min(Math.max(-a+o,0),20);return isFinite(r)?r:20},getPercentWithPrecision:function(t,e,i){if(!t[e])return 0;var n=rl.reduce(t,function(t,e){return t+(isNaN(e)?0:e)},0);if(0===n)return 0;for(var a=Math.pow(10,i),o=rl.map(t,function(t){return(isNaN(t)?0:t)/n*a*100}),r=100*a,s=rl.map(o,function(t){return Math.floor(t)}),l=rl.reduce(s,function(t,e){return t+e},0),h=rl.map(o,function(t,e){return t-s[e]});l&lt;r;){for(var u=Number.NEGATIVE_INFINITY,c=null,d=0,p=h.length;d&lt;p;++d)h[d]&gt;u&amp;&amp;(u=h[d],c=d);++s[c],h[c]=0,++l}return s[e]/a},MAX_SAFE_INTEGER:9007199254740991,remRadian:function(t){var e=2*Math.PI;return(t%e+e)%e},isRadianAroundZero:function(t){return t&gt;-Lu&amp;&amp;t&lt;Lu},parseDate:function(t){if(t instanceof Date)return t;if(&quot;string&quot;==typeof t){var e=Du.exec(t);if(!e)return new Date(NaN);if(e[8]){var i=+e[4]||0;return&quot;Z&quot;!==e[8].toUpperCase()&amp;&amp;(i-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,i,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}return null==t?new Date(NaN):new Date(Math.round(t))},quantity:function(t){return Math.pow(10,Pt(t))},nice:function(t,e){var i,n=Pt(t),a=Math.pow(10,n),o=t/a;return i=e?o&lt;1.5?1:o&lt;2.5?2:o&lt;4?3:o&lt;7?5:10:o&lt;1?1:o&lt;2?2:o&lt;3?3:o&lt;5?5:10,t=i*a,n&gt;=-20?+t.toFixed(n&lt;0?-n:0):t},reformIntervals:function(t){function e(t,i,n){return t.interval[n]&lt;i.interval[n]||t.interval[n]===i.interval[n]&amp;&amp;(t.close[n]-i.close[n]==(n?-1:1)||!n&amp;&amp;e(t,i,1))}t.sort(function(t,i){return e(t,i,0)?-1:1});for(var i=-1/0,n=1,a=0;a&lt;t.length;){for(var o=t[a].interval,r=t[a].close,s=0;s&lt;2;s++)o[s]&lt;=i&amp;&amp;(o[s]=i,r[s]=s?1:1-n),i=o[s],n=r[s];o[0]===o[1]&amp;&amp;r[0]*r[1]!=1?t.splice(a,1):a++}return t},isNumeric:function(t){return t-parseFloat(t)&gt;=0}},ku=[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;,&quot;g&quot;],Ou=function(t,e){return&quot;{&quot;+t+(null==e?&quot;&quot;:e)+&quot;}&quot;},zu=function(t){return t&lt;10?&quot;0&quot;+t:t},Eu={addCommas:function(t){return isNaN(t)?&quot;-&quot;:(t=(t+&quot;&quot;).split(&quot;.&quot;))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,&quot;$1,&quot;)+(t.length&gt;1?&quot;.&quot;+t[1]:&quot;&quot;)},toCamelCase:function(t,e){return t=(t||&quot;&quot;).toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()}),e&amp;&amp;t&amp;&amp;(t=t.charAt(0).toUpperCase()+t.slice(1)),t},normalizeCssArray:rl.normalizeCssArray,encodeHTML:kt,formatTpl:function(t,e,i){rl.isArray(e)||(e=[e]);var n=e.length;if(!n)return&quot;&quot;;for(var a=e[0].$vars||[],o=0;o&lt;a.length;o++){var r=ku[o],s=Ou(r,0);t=t.replace(Ou(r),i?kt(s):s)}for(var l=0;l&lt;n;l++)for(var h=0;h&lt;a.length;h++)s=e[l][a[h]],t=t.replace(Ou(ku[h],l),i?kt(s):s);return t},formatTplSimple:function(t,e,i){return rl.each(e,function(e,n){t=t.replace(&quot;{&quot;+n+&quot;}&quot;,i?kt(e):e)}),t},getTooltipMarker:function(t,e){return t?&#39;&lt;span style=&quot;display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:&#39;+kt(t)+&quot;;&quot;+(e||&quot;&quot;)+&#39;&quot;&gt;&lt;/span&gt;&#39;:&quot;&quot;},formatTime:function(t,e,i){&quot;week&quot;!==t&amp;&amp;&quot;month&quot;!==t&amp;&amp;&quot;quarter&quot;!==t&amp;&amp;&quot;half-year&quot;!==t&amp;&amp;&quot;year&quot;!==t||(t=&quot;MM-dd\nyyyy&quot;);var n=Pu.parseDate(e),a=i?&quot;UTC&quot;:&quot;&quot;,o=n[&quot;get&quot;+a+&quot;FullYear&quot;](),r=n[&quot;get&quot;+a+&quot;Month&quot;]()+1,s=n[&quot;get&quot;+a+&quot;Date&quot;](),l=n[&quot;get&quot;+a+&quot;Hours&quot;](),h=n[&quot;get&quot;+a+&quot;Minutes&quot;](),u=n[&quot;get&quot;+a+&quot;Seconds&quot;]();return t=t.replace(&quot;MM&quot;,zu(r)).replace(&quot;M&quot;,r).replace(&quot;yyyy&quot;,o).replace(&quot;yy&quot;,o%100).replace(&quot;dd&quot;,zu(s)).replace(&quot;d&quot;,s).replace(&quot;hh&quot;,zu(l)).replace(&quot;h&quot;,l).replace(&quot;mm&quot;,zu(h)).replace(&quot;m&quot;,h).replace(&quot;ss&quot;,zu(u)).replace(&quot;s&quot;,u)},capitalFirst:function(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t},truncateText:Nh.truncateText,getTextRect:Nh.getBoundingRect},Ru=&quot;.&quot;,Nu=&quot;___EC__COMPONENT__CONTAINER___&quot;,Vu=&quot;\0ec_\0&quot;,Bu={set:function(t,e,i){return t[Vu+e]=i},get:function(t,e){return t[Vu+e]},hasOwn:function(t,e){return t.hasOwnProperty(Vu+e)},parseClassType:Ot,enableClassExtend:function(t,e){t.$constructor=t,t.extend=function(t){var e=this,i=function(){t.$constructor?t.$constructor.apply(this,arguments):e.apply(this,arguments)};return rl.extend(i.prototype,t),i.extend=this.extend,i.superCall=function(t,e){var i=rl.slice(arguments,2);return this.superClass.prototype[e].apply(t,i)},i.superApply=function(t,e,i){return this.superClass.prototype[e].apply(t,i)},rl.inherits(i,this),i.superClass=e,i}},enableClassManagement:function(t,e){e=e||{};var i={};if(t.registerClass=function(t,e){return e&amp;&amp;(function(t){rl.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),&#39;componentType &quot;&#39;+t+&#39;&quot; illegal&#39;)}(e),(e=Ot(e)).sub?e.sub!==Nu&amp;&amp;((function(t){var e=i[t.main];return e&amp;&amp;e[Nu]||((e=i[t.main]={})[Nu]=!0),e}(e))[e.sub]=t):i[e.main]=t),t},t.getClass=function(t,e,n){var a=i[t];if(a&amp;&amp;a[Nu]&amp;&amp;(a=e?a[e]:null),n&amp;&amp;!a)throw new Error(e?&quot;Component &quot;+t+&quot;.&quot;+(e||&quot;&quot;)+&quot; not exists. Load it first.&quot;:t+&quot;.type should be specified.&quot;);return a},t.getClassesByMainType=function(t){t=Ot(t);var e=[],n=i[t.main];return n&amp;&amp;n[Nu]?rl.each(n,function(t,i){i!==Nu&amp;&amp;e.push(t)}):e.push(n),e},t.hasClass=function(t){return t=Ot(t),!!i[t.main]},t.getAllClassMainTypes=function(){var t=[];return rl.each(i,function(e,i){t.push(i)}),t},t.hasSubTypes=function(t){t=Ot(t);var e=i[t.main];return e&amp;&amp;e[Nu]},t.parseClassType=Ot,e.registerWhenExtend){var n=t.extend;n&amp;&amp;(t.extend=function(e){var i=n.call(this,e);return t.registerClass(i,e.type)})}return t},setReadOnly:function(t,e){}},Gu=function(t){for(var e=0;e&lt;t.length;e++)t[e][1]||(t[e][1]=t[e][0]);return function(e,i,n){for(var a={},o=0;o&lt;t.length;o++){var r=t[o][1];if(!(i&amp;&amp;rl.indexOf(i,r)&gt;=0||n&amp;&amp;rl.indexOf(n,r)&lt;0)){var s=e.getShallow(r);null!=s&amp;&amp;(a[t[o][0]]=s)}}return a}},Hu=Gu([[&quot;lineWidth&quot;,&quot;width&quot;],[&quot;stroke&quot;,&quot;color&quot;],[&quot;opacity&quot;],[&quot;shadowBlur&quot;],[&quot;shadowOffsetX&quot;],[&quot;shadowOffsetY&quot;],[&quot;shadowColor&quot;]]),Wu={getLineStyle:function(t){var e=Hu(this,t),i=this.getLineDash(e.lineWidth);return i&amp;&amp;(e.lineDash=i),e},getLineDash:function(t){null==t&amp;&amp;(t=1);var e=this.get(&quot;type&quot;),i=Math.max(t,2),n=4*t;return&quot;solid&quot;===e||null==e?null:&quot;dashed&quot;===e?[n,n]:[i,i]}},Fu=Gu([[&quot;fill&quot;,&quot;color&quot;],[&quot;shadowBlur&quot;],[&quot;shadowOffsetX&quot;],[&quot;shadowOffsetY&quot;],[&quot;opacity&quot;],[&quot;shadowColor&quot;]]),Zu={getAreaStyle:function(t,e){return Fu(this,t,e)}},ju=ll.create,Uu=ll.distSquare,qu=Math.pow,Xu=Math.sqrt,Yu=1e-8,$u=1e-4,Ku=Xu(3),Ju=1/3,Qu=ju(),tc=ju(),ec=ju(),ic={cubicAt:Rt,cubicDerivativeAt:function(t,e,i,n,a){var o=1-a;return 3*(((e-t)*o+2*(i-e)*a)*o+(n-i)*a*a)},cubicRootAt:function(t,e,i,n,a,o){var r=n+3*(e-i)-t,s=3*(i-2*e+t),l=3*(e-t),h=t-a,u=s*s-3*r*l,c=s*l-9*r*h,d=l*l-3*s*h,p=0;if(zt(u)&amp;&amp;zt(c))zt(s)?o[0]=0:(M=-l/s)&gt;=0&amp;&amp;M&lt;=1&amp;&amp;(o[p++]=M);else{var f=c*c-4*u*d;if(zt(f)){var g=c/u,m=-g/2;(M=-s/r+g)&gt;=0&amp;&amp;M&lt;=1&amp;&amp;(o[p++]=M),m&gt;=0&amp;&amp;m&lt;=1&amp;&amp;(o[p++]=m)}else if(f&gt;0){var v=Xu(f),y=u*s+1.5*r*(-c+v),x=u*s+1.5*r*(-c-v);(M=(-s-((y=y&lt;0?-qu(-y,Ju):qu(y,Ju))+(x=x&lt;0?-qu(-x,Ju):qu(x,Ju))))/(3*r))&gt;=0&amp;&amp;M&lt;=1&amp;&amp;(o[p++]=M)}else{var _=(2*u*s-3*r*c)/(2*Xu(u*u*u)),b=Math.acos(_)/3,w=Xu(u),S=Math.cos(b),M=(-s-2*w*S)/(3*r),m=(-s+w*(S+Ku*Math.sin(b)))/(3*r),I=(-s+w*(S-Ku*Math.sin(b)))/(3*r);M&gt;=0&amp;&amp;M&lt;=1&amp;&amp;(o[p++]=M),m&gt;=0&amp;&amp;m&lt;=1&amp;&amp;(o[p++]=m),I&gt;=0&amp;&amp;I&lt;=1&amp;&amp;(o[p++]=I)}}return p},cubicExtrema:function(t,e,i,n,a){var o=6*i-12*e+6*t,r=9*e+3*n-3*t-9*i,s=3*e-3*t,l=0;if(zt(r))Et(o)&amp;&amp;(c=-s/o)&gt;=0&amp;&amp;c&lt;=1&amp;&amp;(a[l++]=c);else{var h=o*o-4*r*s;if(zt(h))a[0]=-o/(2*r);else if(h&gt;0){var u=Xu(h),c=(-o+u)/(2*r),d=(-o-u)/(2*r);c&gt;=0&amp;&amp;c&lt;=1&amp;&amp;(a[l++]=c),d&gt;=0&amp;&amp;d&lt;=1&amp;&amp;(a[l++]=d)}}return l},cubicSubdivide:function(t,e,i,n,a,o){var r=(e-t)*a+t,s=(i-e)*a+e,l=(n-i)*a+i,h=(s-r)*a+r,u=(l-s)*a+s,c=(u-h)*a+h;o[0]=t,o[1]=r,o[2]=h,o[3]=c,o[4]=c,o[5]=u,o[6]=l,o[7]=n},cubicProjectPoint:function(t,e,i,n,a,o,r,s,l,h,u){var c,d,p,f,g,m=.005,v=1/0;Qu[0]=l,Qu[1]=h;for(var y=0;y&lt;1;y+=.05)tc[0]=Rt(t,i,a,r,y),tc[1]=Rt(e,n,o,s,y),(f=Uu(Qu,tc))&lt;v&amp;&amp;(c=y,v=f);v=1/0;for(var x=0;x&lt;32&amp;&amp;!(m&lt;$u);x++)d=c-m,p=c+m,tc[0]=Rt(t,i,a,r,d),tc[1]=Rt(e,n,o,s,d),f=Uu(tc,Qu),d&gt;=0&amp;&amp;f&lt;v?(c=d,v=f):(ec[0]=Rt(t,i,a,r,p),ec[1]=Rt(e,n,o,s,p),g=Uu(ec,Qu),p&lt;=1&amp;&amp;g&lt;v?(c=p,v=g):m*=.5);return u&amp;&amp;(u[0]=Rt(t,i,a,r,c),u[1]=Rt(e,n,o,s,c)),Xu(v)},quadraticAt:Nt,quadraticDerivativeAt:function(t,e,i,n){return 2*((1-n)*(e-t)+n*(i-e))},quadraticRootAt:function(t,e,i,n,a){var o=t-2*e+i,r=2*(e-t),s=t-n,l=0;if(zt(o))Et(r)&amp;&amp;(c=-s/r)&gt;=0&amp;&amp;c&lt;=1&amp;&amp;(a[l++]=c);else{var h=r*r-4*o*s;if(zt(h))(c=-r/(2*o))&gt;=0&amp;&amp;c&lt;=1&amp;&amp;(a[l++]=c);else if(h&gt;0){var u=Xu(h),c=(-r+u)/(2*o),d=(-r-u)/(2*o);c&gt;=0&amp;&amp;c&lt;=1&amp;&amp;(a[l++]=c),d&gt;=0&amp;&amp;d&lt;=1&amp;&amp;(a[l++]=d)}}return l},quadraticExtremum:function(t,e,i){var n=t+i-2*e;return 0===n?.5:(t-e)/n},quadraticSubdivide:function(t,e,i,n,a){var o=(e-t)*n+t,r=(i-e)*n+e,s=(r-o)*n+o;a[0]=t,a[1]=o,a[2]=s,a[3]=s,a[4]=r,a[5]=i},quadraticProjectPoint:function(t,e,i,n,a,o,r,s,l){var h,u=.005,c=1/0;Qu[0]=r,Qu[1]=s;for(var d=0;d&lt;1;d+=.05)tc[0]=Nt(t,i,a,d),tc[1]=Nt(e,n,o,d),(m=Uu(Qu,tc))&lt;c&amp;&amp;(h=d,c=m);c=1/0;for(var p=0;p&lt;32&amp;&amp;!(u&lt;$u);p++){var f=h-u,g=h+u;tc[0]=Nt(t,i,a,f),tc[1]=Nt(e,n,o,f);var m=Uu(tc,Qu);if(f&gt;=0&amp;&amp;m&lt;c)h=f,c=m;else{ec[0]=Nt(t,i,a,g),ec[1]=Nt(e,n,o,g);var v=Uu(ec,Qu);g&lt;=1&amp;&amp;v&lt;c?(h=g,c=v):u*=.5}}return l&amp;&amp;(l[0]=Nt(t,i,a,h),l[1]=Nt(e,n,o,h)),Xu(c)}},nc=Math.min,ac=Math.max,oc=Math.sin,rc=Math.cos,sc=2*Math.PI,lc=ll.create(),hc=ll.create(),uc=ll.create(),cc=[],dc=[],pc={fromPoints:function(t,e,i){if(0!==t.length){var n,a=t[0],o=a[0],r=a[0],s=a[1],l=a[1];for(n=1;n&lt;t.length;n++)a=t[n],o=nc(o,a[0]),r=ac(r,a[0]),s=nc(s,a[1]),l=ac(l,a[1]);e[0]=o,e[1]=s,i[0]=r,i[1]=l}},fromLine:function(t,e,i,n,a,o){a[0]=nc(t,i),a[1]=nc(e,n),o[0]=ac(t,i),o[1]=ac(e,n)},fromCubic:function(t,e,i,n,a,o,r,s,l,h){var u,c=ic.cubicExtrema,d=ic.cubicAt,p=c(t,i,a,r,cc);for(l[0]=1/0,l[1]=1/0,h[0]=-1/0,h[1]=-1/0,u=0;u&lt;p;u++){var f=d(t,i,a,r,cc[u]);l[0]=nc(f,l[0]),h[0]=ac(f,h[0])}for(p=c(e,n,o,s,dc),u=0;u&lt;p;u++){var g=d(e,n,o,s,dc[u]);l[1]=nc(g,l[1]),h[1]=ac(g,h[1])}l[0]=nc(t,l[0]),h[0]=ac(t,h[0]),l[0]=nc(r,l[0]),h[0]=ac(r,h[0]),l[1]=nc(e,l[1]),h[1]=ac(e,h[1]),l[1]=nc(s,l[1]),h[1]=ac(s,h[1])},fromQuadratic:function(t,e,i,n,a,o,r,s){var l=ic.quadraticExtremum,h=ic.quadraticAt,u=ac(nc(l(t,i,a),1),0),c=ac(nc(l(e,n,o),1),0),d=h(t,i,a,u),p=h(e,n,o,c);r[0]=nc(t,a,d),r[1]=nc(e,o,p),s[0]=ac(t,a,d),s[1]=ac(e,o,p)},fromArc:function(t,e,i,n,a,o,r,s,l){var h=ll.min,u=ll.max,c=Math.abs(a-o);if(c%sc&lt;1e-4&amp;&amp;c&gt;1e-4)return s[0]=t-i,s[1]=e-n,l[0]=t+i,void(l[1]=e+n);if(lc[0]=rc(a)*i+t,lc[1]=oc(a)*n+e,hc[0]=rc(o)*i+t,hc[1]=oc(o)*n+e,h(s,lc,hc),u(l,lc,hc),(a%=sc)&lt;0&amp;&amp;(a+=sc),(o%=sc)&lt;0&amp;&amp;(o+=sc),a&gt;o&amp;&amp;!r?o+=sc:a&lt;o&amp;&amp;r&amp;&amp;(a+=sc),r){var d=o;o=a,a=d}for(var p=0;p&lt;o;p+=Math.PI/2)p&gt;a&amp;&amp;(uc[0]=rc(p)*i+t,uc[1]=oc(p)*n+e,h(s,uc,s),u(l,uc,l))}},fc=Fl.devicePixelRatio,gc={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},mc=[],vc=[],yc=[],xc=[],_c=Math.min,bc=Math.max,wc=Math.cos,Sc=Math.sin,Mc=Math.sqrt,Ic=Math.abs,Tc=&quot;undefined&quot;!=typeof Float32Array,Ac=function(t){this._saveData=!t,this._saveData&amp;&amp;(this.data=[]),this._ctx=null};Ac.prototype={constructor:Ac,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e){this._ux=Ic(1/fc/t)||0,this._uy=Ic(1/fc/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&amp;&amp;t.beginPath(),t&amp;&amp;(this.dpr=t.dpr),this._saveData&amp;&amp;(this._len=0),this._lineDash&amp;&amp;(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(gc.M,t,e),this._ctx&amp;&amp;this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var i=Ic(t-this._xi)&gt;this._ux||Ic(e-this._yi)&gt;this._uy||this._len&lt;5;return this.addData(gc.L,t,e),this._ctx&amp;&amp;i&amp;&amp;(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),i&amp;&amp;(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,i,n,a,o){return this.addData(gc.C,t,e,i,n,a,o),this._ctx&amp;&amp;(this._needsDash()?this._dashedBezierTo(t,e,i,n,a,o):this._ctx.bezierCurveTo(t,e,i,n,a,o)),this._xi=a,this._yi=o,this},quadraticCurveTo:function(t,e,i,n){return this.addData(gc.Q,t,e,i,n),this._ctx&amp;&amp;(this._needsDash()?this._dashedQuadraticTo(t,e,i,n):this._ctx.quadraticCurveTo(t,e,i,n)),this._xi=i,this._yi=n,this},arc:function(t,e,i,n,a,o){return this.addData(gc.A,t,e,i,i,n,a-n,0,o?0:1),this._ctx&amp;&amp;this._ctx.arc(t,e,i,n,a,o),this._xi=wc(a)*i+t,this._yi=Sc(a)*i+t,this},arcTo:function(t,e,i,n,a){return this._ctx&amp;&amp;this._ctx.arcTo(t,e,i,n,a),this},rect:function(t,e,i,n){return this._ctx&amp;&amp;this._ctx.rect(t,e,i,n),this.addData(gc.R,t,e,i,n),this},closePath:function(){this.addData(gc.Z);var t=this._ctx,e=this._x0,i=this._y0;return t&amp;&amp;(this._needsDash()&amp;&amp;this._dashedLineTo(e,i),t.closePath()),this._xi=e,this._yi=i,this},fill:function(t){t&amp;&amp;t.fill(),this.toStatic()},stroke:function(t){t&amp;&amp;t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,i=0;i&lt;t.length;i++)e+=t[i];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&amp;&amp;this.data.length==e||!Tc||(this.data=new Float32Array(e));for(var i=0;i&lt;e;i++)this.data[i]=t[i];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,i=0,n=this._len,a=0;a&lt;e;a++)i+=t[a].len();Tc&amp;&amp;this.data instanceof Float32Array&amp;&amp;(this.data=new Float32Array(n+i));for(a=0;a&lt;e;a++)for(var o=t[a].data,r=0;r&lt;o.length;r++)this.data[n++]=o[r];this._len=n},addData:function(t){var e=arguments;if(this._saveData){var i=this.data;this._len+arguments.length&gt;i.length&amp;&amp;(this._expandData(),i=this.data);for(var n=0;n&lt;arguments.length;n++)i[this._len++]=e[n];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e&lt;this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var i,n,a=this._dashSum,o=this._dashOffset,r=this._lineDash,s=this._ctx,l=this._xi,h=this._yi,u=t-l,c=e-h,d=Mc(u*u+c*c),p=l,f=h,g=r.length;for(u/=d,c/=d,o&lt;0&amp;&amp;(o=a+o),p-=(o%=a)*u,f-=o*c;u&gt;0&amp;&amp;p&lt;=t||u&lt;0&amp;&amp;p&gt;=t||0==u&amp;&amp;(c&gt;0&amp;&amp;f&lt;=e||c&lt;0&amp;&amp;f&gt;=e);)p+=u*(i=r[n=this._dashIdx]),f+=c*i,this._dashIdx=(n+1)%g,u&gt;0&amp;&amp;p&lt;l||u&lt;0&amp;&amp;p&gt;l||c&gt;0&amp;&amp;f&lt;h||c&lt;0&amp;&amp;f&gt;h||s[n%2?&quot;moveTo&quot;:&quot;lineTo&quot;](u&gt;=0?_c(p,t):bc(p,t),c&gt;=0?_c(f,e):bc(f,e));u=p-t,c=f-e,this._dashOffset=-Mc(u*u+c*c)},_dashedBezierTo:function(t,e,i,n,a,o){var r,s,l,h,u,c=this._dashSum,d=this._dashOffset,p=this._lineDash,f=this._ctx,g=this._xi,m=this._yi,v=ic.cubicAt,y=0,x=this._dashIdx,_=p.length,b=0;for(d&lt;0&amp;&amp;(d=c+d),d%=c,r=0;r&lt;1;r+=.1)s=v(g,t,i,a,r+.1)-v(g,t,i,a,r),l=v(m,e,n,o,r+.1)-v(m,e,n,o,r),y+=Mc(s*s+l*l);for(;x&lt;_&amp;&amp;!((b+=p[x])&gt;d);x++);for(r=(b-d)/y;r&lt;=1;)h=v(g,t,i,a,r),u=v(m,e,n,o,r),x%2?f.moveTo(h,u):f.lineTo(h,u),r+=p[x]/y,x=(x+1)%_;x%2!=0&amp;&amp;f.lineTo(a,o),s=a-h,l=o-u,this._dashOffset=-Mc(s*s+l*l)},_dashedQuadraticTo:function(t,e,i,n){var a=i,o=n;i=(i+2*t)/3,n=(n+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,i,n,a,o)},toStatic:function(){var t=this.data;t instanceof Array&amp;&amp;(t.length=this._len,Tc&amp;&amp;(this.data=new Float32Array(t)))},getBoundingRect:function(){mc[0]=mc[1]=yc[0]=yc[1]=Number.MAX_VALUE,vc[0]=vc[1]=xc[0]=xc[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,i=0,n=0,a=0,o=0;o&lt;t.length;){var r=t[o++];switch(1==o&amp;&amp;(n=e=t[o],a=i=t[o+1]),r){case gc.M:e=n=t[o++],i=a=t[o++],yc[0]=n,yc[1]=a,xc[0]=n,xc[1]=a;break;case gc.L:pc.fromLine(e,i,t[o],t[o+1],yc,xc),e=t[o++],i=t[o++];break;case gc.C:pc.fromCubic(e,i,t[o++],t[o++],t[o++],t[o++],t[o],t[o+1],yc,xc),e=t[o++],i=t[o++];break;case gc.Q:pc.fromQuadratic(e,i,t[o++],t[o++],t[o],t[o+1],yc,xc),e=t[o++],i=t[o++];break;case gc.A:var s=t[o++],l=t[o++],h=t[o++],u=t[o++],c=t[o++],d=t[o++]+c,p=(t[o++],1-t[o++]);1==o&amp;&amp;(n=wc(c)*h+s,a=Sc(c)*u+l),pc.fromArc(s,l,h,u,c,d,p,yc,xc),e=wc(d)*h+s,i=Sc(d)*u+l;break;case gc.R:n=e=t[o++],a=i=t[o++];var f=t[o++],g=t[o++];pc.fromLine(n,a,n+f,a+g,yc,xc);break;case gc.Z:e=n,i=a}ll.min(mc,mc,yc),ll.max(vc,vc,xc)}return 0===o&amp;&amp;(mc[0]=mc[1]=vc[0]=vc[1]=0),new oh(mc[0],mc[1],vc[0]-mc[0],vc[1]-mc[1])},rebuildPath:function(t){for(var e,i,n,a,o,r,s=this.data,l=this._ux,h=this._uy,u=this._len,c=0;c&lt;u;){var d=s[c++];switch(1==c&amp;&amp;(e=n=s[c],i=a=s[c+1]),d){case gc.M:e=n=s[c++],i=a=s[c++],t.moveTo(n,a);break;case gc.L:o=s[c++],r=s[c++],(Ic(o-n)&gt;l||Ic(r-a)&gt;h||c===u-1)&amp;&amp;(t.lineTo(o,r),n=o,a=r);break;case gc.C:t.bezierCurveTo(s[c++],s[c++],s[c++],s[c++],s[c++],s[c++]),n=s[c-2],a=s[c-1];break;case gc.Q:t.quadraticCurveTo(s[c++],s[c++],s[c++],s[c++]),n=s[c-2],a=s[c-1];break;case gc.A:var p=s[c++],f=s[c++],g=s[c++],m=s[c++],v=s[c++],y=s[c++],x=s[c++],_=s[c++],b=g&gt;m?g:m,w=g&gt;m?1:g/m,S=g&gt;m?m/g:1,M=v+y;Math.abs(g-m)&gt;.001?(t.translate(p,f),t.rotate(x),t.scale(w,S),t.arc(0,0,b,v,M,1-_),t.scale(1/w,1/S),t.rotate(-x),t.translate(-p,-f)):t.arc(p,f,b,v,M,1-_),1==c&amp;&amp;(e=wc(v)*g+p,i=Sc(v)*m+f),n=wc(M)*g+p,a=Sc(M)*m+f;break;case gc.R:e=n=s[c],i=a=s[c+1],t.rect(s[c++],s[c++],s[c++],s[c++]);break;case gc.Z:t.closePath(),n=e,a=i}}}},Ac.CMD=gc;var Cc=Ac,Lc={containStroke:function(t,e,i,n,a,o,r){if(0===a)return!1;var s=a,l=0,h=t;if(r&gt;e+s&amp;&amp;r&gt;n+s||r&lt;e-s&amp;&amp;r&lt;n-s||o&gt;t+s&amp;&amp;o&gt;i+s||o&lt;t-s&amp;&amp;o&lt;i-s)return!1;if(t===i)return Math.abs(o-t)&lt;=s/2;var u=(l=(e-n)/(t-i))*o-r+(h=(t*n-i*e)/(t-i));return u*u/(l*l+1)&lt;=s/2*s/2}},Dc={containStroke:function(t,e,i,n,a,o,r,s,l,h,u){if(0===l)return!1;var c=l;return!(u&gt;e+c&amp;&amp;u&gt;n+c&amp;&amp;u&gt;o+c&amp;&amp;u&gt;s+c||u&lt;e-c&amp;&amp;u&lt;n-c&amp;&amp;u&lt;o-c&amp;&amp;u&lt;s-c||h&gt;t+c&amp;&amp;h&gt;i+c&amp;&amp;h&gt;a+c&amp;&amp;h&gt;r+c||h&lt;t-c&amp;&amp;h&lt;i-c&amp;&amp;h&lt;a-c&amp;&amp;h&lt;r-c)&amp;&amp;ic.cubicProjectPoint(t,e,i,n,a,o,r,s,h,u,null)&lt;=c/2}},Pc=ic.quadraticProjectPoint,kc={containStroke:function(t,e,i,n,a,o,r,s,l){if(0===r)return!1;var h=r;return!(l&gt;e+h&amp;&amp;l&gt;n+h&amp;&amp;l&gt;o+h||l&lt;e-h&amp;&amp;l&lt;n-h&amp;&amp;l&lt;o-h||s&gt;t+h&amp;&amp;s&gt;i+h&amp;&amp;s&gt;a+h||s&lt;t-h&amp;&amp;s&lt;i-h&amp;&amp;s&lt;a-h)&amp;&amp;Pc(t,e,i,n,a,o,s,l,null)&lt;=h/2}},Oc=2*Math.PI,zc={normalizeRadian:function(t){return(t%=Oc)&lt;0&amp;&amp;(t+=Oc),t}},Ec=zc.normalizeRadian,Rc=2*Math.PI,Nc={containStroke:function(t,e,i,n,a,o,r,s,l){if(0===r)return!1;var h=r;s-=t,l-=e;var u=Math.sqrt(s*s+l*l);if(u-h&gt;i||u+h&lt;i)return!1;if(Math.abs(n-a)%Rc&lt;1e-4)return!0;if(o){var c=n;n=Ec(a),a=Ec(c)}else n=Ec(n),a=Ec(a);n&gt;a&amp;&amp;(a+=Rc);var d=Math.atan2(l,s);return d&lt;0&amp;&amp;(d+=Rc),d&gt;=n&amp;&amp;d&lt;=a||d+Rc&gt;=n&amp;&amp;d+Rc&lt;=a}},Vc=function(t,e,i,n,a,o){if(o&gt;e&amp;&amp;o&gt;n||o&lt;e&amp;&amp;o&lt;n)return 0;if(n===e)return 0;var r=n&lt;e?1:-1,s=(o-e)/(n-e);return 1!==s&amp;&amp;0!==s||(r=n&lt;e?.5:-.5),s*(i-t)+t&gt;a?r:0},Bc=zc.normalizeRadian,Gc=Cc.CMD,Hc=2*Math.PI,Wc=1e-4,Fc=[-1,-1,-1],Zc=[-1,-1],jc={contain:function(t,e,i){return Vt(t,0,!1,e,i)},containStroke:function(t,e,i,n){return Vt(t,e,!0,i,n)}},Uc=_h.prototype.getCanvasPattern,qc=Math.abs,Xc=new Cc(!0);Bt.prototype={constructor:Bt,type:&quot;path&quot;,__dirtyPath:!0,strokeContainThreshold:5,brush:function(t,e){var i=this.style,n=this.path||Xc,a=i.hasStroke(),o=i.hasFill(),r=i.fill,s=i.stroke,l=o&amp;&amp;!!r.colorStops,h=a&amp;&amp;!!s.colorStops,u=o&amp;&amp;!!r.image,c=a&amp;&amp;!!s.image;if(i.bind(t,this,e),this.setTransform(t),this.__dirty){var d;l&amp;&amp;(d=d||this.getBoundingRect(),this._fillGradient=i.getGradient(t,r,d)),h&amp;&amp;(d=d||this.getBoundingRect(),this._strokeGradient=i.getGradient(t,s,d))}l?t.fillStyle=this._fillGradient:u&amp;&amp;(t.fillStyle=Uc.call(r,t)),h?t.strokeStyle=this._strokeGradient:c&amp;&amp;(t.strokeStyle=Uc.call(s,t));var p=i.lineDash,f=i.lineDashOffset,g=!!t.setLineDash,m=this.getGlobalScale();n.setScale(m[0],m[1]),this.__dirtyPath||p&amp;&amp;!g&amp;&amp;a?(n.beginPath(t),p&amp;&amp;!g&amp;&amp;(n.setLineDash(p),n.setLineDashOffset(f)),this.buildPath(n,this.shape,!1),this.path&amp;&amp;(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),o&amp;&amp;n.fill(t),p&amp;&amp;g&amp;&amp;(t.setLineDash(p),t.lineDashOffset=f),a&amp;&amp;n.stroke(t),p&amp;&amp;g&amp;&amp;t.setLineDash([]),this.restoreTransform(t),null!=i.text&amp;&amp;this.drawRectText(t,this.getBoundingRect())},buildPath:function(t,e,i){},createPathProxy:function(){this.path=new Cc},getBoundingRect:function(){var t=this._rect,e=this.style,i=!t;if(i){var n=this.path;n||(n=this.path=new Cc),this.__dirtyPath&amp;&amp;(n.beginPath(),this.buildPath(n,this.shape,!1)),t=n.getBoundingRect()}if(this._rect=t,e.hasStroke()){var a=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||i){a.copy(t);var o=e.lineWidth,r=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(o=Math.max(o,this.strokeContainThreshold||4)),r&gt;1e-10&amp;&amp;(a.width+=o/r,a.height+=o/r,a.x-=o/r/2,a.y-=o/r/2)}return a}return t},contain:function(t,e){var i=this.transformCoordToLocal(t,e),n=this.getBoundingRect(),a=this.style;if(t=i[0],e=i[1],n.contain(t,e)){var o=this.path.data;if(a.hasStroke()){var r=a.lineWidth,s=a.strokeNoScale?this.getLineScale():1;if(s&gt;1e-10&amp;&amp;(a.hasFill()||(r=Math.max(r,this.strokeContainThreshold)),jc.containStroke(o,r/s,t,e)))return!0}if(a.hasFill())return jc.contain(o,t,e)}return!1},dirty:function(t){null==t&amp;&amp;(t=!0),t&amp;&amp;(this.__dirtyPath=t,this._rect=null),this.__dirty=!0,this.__zr&amp;&amp;this.__zr.refresh(),this.__clipTarget&amp;&amp;this.__clipTarget.dirty()},animateShape:function(t){return this.animate(&quot;shape&quot;,t)},attrKV:function(t,e){&quot;shape&quot;===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):Kh.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var i=this.shape;if(i){if(rl.isObject(t))for(var n in t)t.hasOwnProperty(n)&amp;&amp;(i[n]=t[n]);else i[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&amp;&amp;qc(t[0]-1)&gt;1e-10&amp;&amp;qc(t[3]-1)&gt;1e-10?Math.sqrt(qc(t[0]*t[3]-t[2]*t[1])):1}},Bt.extend=function(t){var e=function(e){Bt.call(this,e),t.style&amp;&amp;this.style.extendFrom(t.style,!1);var i=t.shape;if(i){this.shape=this.shape||{};var n=this.shape;for(var a in i)!n.hasOwnProperty(a)&amp;&amp;i.hasOwnProperty(a)&amp;&amp;(n[a]=i[a])}t.init&amp;&amp;t.init.call(this,e)};rl.inherits(e,Bt);for(var i in t)&quot;style&quot;!==i&amp;&amp;&quot;shape&quot;!==i&amp;&amp;(e.prototype[i]=t[i]);return e},rl.inherits(Bt,Kh);var Yc=Bt,$c=ll.applyTransform,Kc=Cc.CMD,Jc=[[],[],[]],Qc=Math.sqrt,td=Math.atan2,ed=function(t,e){var i,n,a,o,r,s=t.data,l=Kc.M,h=Kc.C,u=Kc.L,c=Kc.R,d=Kc.A,p=Kc.Q;for(a=0,o=0;a&lt;s.length;){switch(i=s[a++],o=a,n=0,i){case l:case u:n=1;break;case h:n=3;break;case p:n=2;break;case d:var f=e[4],g=e[5],m=Qc(e[0]*e[0]+e[1]*e[1]),v=Qc(e[2]*e[2]+e[3]*e[3]),y=td(-e[1]/v,e[0]/m);s[a]*=m,s[a++]+=f,s[a]*=v,s[a++]+=g,s[a++]*=m,s[a++]*=v,s[a++]+=y,s[a++]+=y,o=a+=2;break;case c:x[0]=s[a++],x[1]=s[a++],$c(x,x,e),s[o++]=x[0],s[o++]=x[1],x[0]+=s[a++],x[1]+=s[a++],$c(x,x,e),s[o++]=x[0],s[o++]=x[1]}for(r=0;r&lt;n;r++){var x;(x=Jc[r])[0]=s[a++],x[1]=s[a++],$c(x,x,e),s[o++]=x[0],s[o++]=x[1]}}},id=[&quot;m&quot;,&quot;M&quot;,&quot;l&quot;,&quot;L&quot;,&quot;v&quot;,&quot;V&quot;,&quot;h&quot;,&quot;H&quot;,&quot;z&quot;,&quot;Z&quot;,&quot;c&quot;,&quot;C&quot;,&quot;q&quot;,&quot;Q&quot;,&quot;t&quot;,&quot;T&quot;,&quot;s&quot;,&quot;S&quot;,&quot;a&quot;,&quot;A&quot;],nd=Math.sqrt,ad=Math.sin,od=Math.cos,rd=Math.PI,sd=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},ld=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(sd(t)*sd(e))},hd=function(t,e){return(t[0]*e[1]&lt;t[1]*e[0]?-1:1)*Math.acos(ld(t,e))},ud={createFromString:function(t,e){return new Yc(Ht(t,e))},extendFromString:function(t,e){return Yc.extend(Ht(t,e))},mergePath:function(t,e){for(var i=[],n=t.length,a=0;a&lt;n;a++){var o=t[a];o.path||o.createPathProxy(),o.__dirtyPath&amp;&amp;o.buildPath(o.path,o.shape,!0),i.push(o.path)}var r=new Yc(e);return r.createPathProxy(),r.buildPath=function(t){t.appendPath(i);var e=t.getContext();e&amp;&amp;t.rebuildPath(e)},r}},cd=function(t){Kh.call(this,t)};cd.prototype={constructor:cd,type:&quot;text&quot;,brush:function(t,e){var i=this.style;this.__dirty&amp;&amp;qh.normalizeTextStyle(i,!0),i.fill=i.stroke=i.shadowBlur=i.shadowColor=i.shadowOffsetX=i.shadowOffsetY=null;var n=i.text;null!=n&amp;&amp;(n+=&quot;&quot;),i.bind(t,this,e),qh.needDrawText(n,i)&amp;&amp;(this.setTransform(t),qh.renderText(this,t,n,i),this.restoreTransform(t))},getBoundingRect:function(){var t=this.style;if(this.__dirty&amp;&amp;qh.normalizeTextStyle(t,!0),!this._rect){var e=t.text;null!=e?e+=&quot;&quot;:e=&quot;&quot;;var i=Nh.getBoundingRect(t.text+&quot;&quot;,t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.rich);if(i.x+=t.x||0,i.y+=t.y||0,qh.getStroke(t.textStroke,t.textStrokeWidth)){var n=t.textStrokeWidth;i.x-=n/2,i.y-=n/2,i.width+=n,i.height+=n}this._rect=i}return this._rect}},rl.inherits(cd,Kh);var dd=cd,pd=Yc.extend({type:&quot;circle&quot;,shape:{cx:0,cy:0,r:0},buildPath:function(t,e,i){i&amp;&amp;t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}}),fd=[[&quot;shadowBlur&quot;,0],[&quot;shadowColor&quot;,&quot;#000&quot;],[&quot;shadowOffsetX&quot;,0],[&quot;shadowOffsetY&quot;,0]],gd=function(t){return Us.browser.ie&amp;&amp;Us.browser.version&gt;=11?function(){var e,i=this.__clipPaths,n=this.style;if(i)for(var a=0;a&lt;i.length;a++){var o=i[a],r=o&amp;&amp;o.shape,s=o&amp;&amp;o.type;if(r&amp;&amp;(&quot;sector&quot;===s&amp;&amp;r.startAngle===r.endAngle||&quot;rect&quot;===s&amp;&amp;(!r.width||!r.height))){for(l=0;l&lt;fd.length;l++)fd[l][2]=n[fd[l][0]],n[fd[l][0]]=fd[l][1];e=!0;break}}if(t.apply(this,arguments),e)for(var l=0;l&lt;fd.length;l++)n[fd[l][0]]=fd[l][2]}:t},md=Yc.extend({type:&quot;sector&quot;,shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:gd(Yc.prototype.brush),buildPath:function(t,e){var i=e.cx,n=e.cy,a=Math.max(e.r0||0,0),o=Math.max(e.r,0),r=e.startAngle,s=e.endAngle,l=e.clockwise,h=Math.cos(r),u=Math.sin(r);t.moveTo(h*a+i,u*a+n),t.lineTo(h*o+i,u*o+n),t.arc(i,n,o,r,s,!l),t.lineTo(Math.cos(s)*a+i,Math.sin(s)*a+n),0!==a&amp;&amp;t.arc(i,n,a,s,r,l),t.closePath()}}),vd=Yc.extend({type:&quot;ring&quot;,shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var i=e.cx,n=e.cy,a=2*Math.PI;t.moveTo(i+e.r,n),t.arc(i,n,e.r,0,a,!1),t.moveTo(i+e.r0,n),t.arc(i,n,e.r0,0,a,!0)}}),yd=ll.distance,xd=function(t,e){for(var i=t.length,n=[],a=0,o=1;o&lt;i;o++)a+=yd(t[o-1],t[o]);var r=a/2;for(r=r&lt;i?i:r,o=0;o&lt;r;o++){var s,l,h,u=o/(r-1)*(e?i:i-1),c=Math.floor(u),d=u-c,p=t[c%i];e?(s=t[(c-1+i)%i],l=t[(c+1)%i],h=t[(c+2)%i]):(s=t[0===c?c:c-1],l=t[c&gt;i-2?i-1:c+1],h=t[c&gt;i-3?i-1:c+2]);var f=d*d,g=d*f;n.push([Wt(s[0],p[0],l[0],h[0],d,f,g),Wt(s[1],p[1],l[1],h[1],d,f,g)])}return n},_d=ll.min,bd=ll.max,wd=ll.scale,Sd=ll.distance,Md=ll.add,Id=ll.clone,Td=ll.sub,Ad=function(t,e,i,n){var a,o,r,s,l=[],h=[],u=[],c=[];if(n){r=[1/0,1/0],s=[-1/0,-1/0];for(var d=0,p=t.length;d&lt;p;d++)_d(r,r,t[d]),bd(s,s,t[d]);_d(r,r,n[0]),bd(s,s,n[1])}for(var d=0,p=t.length;d&lt;p;d++){var f=t[d];if(i)a=t[d?d-1:p-1],o=t[(d+1)%p];else{if(0===d||d===p-1){l.push(Id(t[d]));continue}a=t[d-1],o=t[d+1]}Td(h,o,a),wd(h,h,e);var g=Sd(f,a),m=Sd(f,o),v=g+m;0!==v&amp;&amp;(g/=v,m/=v),wd(u,h,-g),wd(c,h,m);var y=Md([],f,u),x=Md([],f,c);n&amp;&amp;(bd(y,y,r),_d(y,y,s),bd(x,x,r),_d(x,x,s)),l.push(y),l.push(x)}return i&amp;&amp;l.push(l.shift()),l},Cd={buildPath:function(t,e,i){var n=e.points,a=e.smooth;if(n&amp;&amp;n.length&gt;=2){if(a&amp;&amp;&quot;spline&quot;!==a){var o=Ad(n,a,i,e.smoothConstraint);t.moveTo(n[0][0],n[0][1]);for(var r=n.length,s=0;s&lt;(i?r:r-1);s++){var l=o[2*s],h=o[2*s+1],u=n[(s+1)%r];t.bezierCurveTo(l[0],l[1],h[0],h[1],u[0],u[1])}}else{&quot;spline&quot;===a&amp;&amp;(n=xd(n,i)),t.moveTo(n[0][0],n[0][1]);for(var s=1,c=n.length;s&lt;c;s++)t.lineTo(n[s][0],n[s][1])}i&amp;&amp;t.closePath()}}},Ld=Yc.extend({type:&quot;polygon&quot;,shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){Cd.buildPath(t,e,!0)}}),Dd=Yc.extend({type:&quot;polyline&quot;,shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:&quot;#000&quot;,fill:null},buildPath:function(t,e){Cd.buildPath(t,e,!1)}}),Pd=Yc.extend({type:&quot;rect&quot;,shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.x,n=e.y,a=e.width,o=e.height;e.r?Vh.buildPath(t,e):t.rect(i,n,a,o),t.closePath()}}),kd=Yc.extend({type:&quot;line&quot;,shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:&quot;#000&quot;,fill:null},buildPath:function(t,e){var i=e.x1,n=e.y1,a=e.x2,o=e.y2,r=e.percent;0!==r&amp;&amp;(t.moveTo(i,n),r&lt;1&amp;&amp;(a=i*(1-r)+a*r,o=n*(1-r)+o*r),t.lineTo(a,o))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}}),Od=ic.quadraticSubdivide,zd=ic.cubicSubdivide,Ed=ic.quadraticAt,Rd=ic.cubicAt,Nd=ic.quadraticDerivativeAt,Vd=ic.cubicDerivativeAt,Bd=[],Gd=Yc.extend({type:&quot;bezier-curve&quot;,shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:&quot;#000&quot;,fill:null},buildPath:function(t,e){var i=e.x1,n=e.y1,a=e.x2,o=e.y2,r=e.cpx1,s=e.cpy1,l=e.cpx2,h=e.cpy2,u=e.percent;0!==u&amp;&amp;(t.moveTo(i,n),null==l||null==h?(u&lt;1&amp;&amp;(Od(i,r,a,u,Bd),r=Bd[1],a=Bd[2],Od(n,s,o,u,Bd),s=Bd[1],o=Bd[2]),t.quadraticCurveTo(r,s,a,o)):(u&lt;1&amp;&amp;(zd(i,r,l,a,u,Bd),r=Bd[1],l=Bd[2],a=Bd[3],zd(n,s,h,o,u,Bd),s=Bd[1],h=Bd[2],o=Bd[3]),t.bezierCurveTo(r,s,l,h,a,o)))},pointAt:function(t){return Ft(this.shape,t,!1)},tangentAt:function(t){var e=Ft(this.shape,t,!0);return ll.normalize(e,e)}}),Hd=Yc.extend({type:&quot;arc&quot;,shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:&quot;#000&quot;,fill:null},buildPath:function(t,e){var i=e.cx,n=e.cy,a=Math.max(e.r,0),o=e.startAngle,r=e.endAngle,s=e.clockwise,l=Math.cos(o),h=Math.sin(o);t.moveTo(l*a+i,h*a+n),t.arc(i,n,a,o,r,!s)}}),Wd=Yc.extend({type:&quot;compound&quot;,shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,i=0;i&lt;e.length;i++)t=t||e[i].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),i=0;i&lt;t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(e[0],e[1])},buildPath:function(t,e){for(var i=e.paths||[],n=0;n&lt;i.length;n++)i[n].buildPath(t,i[n].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],e=0;e&lt;t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),Yc.prototype.getBoundingRect.call(this)}}),Fd=function(t){this.colorStops=t||[]};Fd.prototype={constructor:Fd,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};var Zd=Fd,jd=function(t,e,i,n,a,o){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==i?1:i,this.y2=null==n?0:n,this.type=&quot;linear&quot;,this.global=o||!1,Zd.call(this,a)};jd.prototype={constructor:jd},rl.inherits(jd,Zd);var Ud=jd,qd=function(t,e,i,n,a){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==i?.5:i,this.type=&quot;radial&quot;,this.global=a||!1,Zd.call(this,n)};qd.prototype={constructor:qd},rl.inherits(qd,Zd);var Xd=Jh,Yd=sh,$d=dd,Kd=pd,Jd=md,Qd=vd,tp=Ld,ep=Dd,ip=Pd,np=kd,ap=Gd,op=Hd,rp=Wd,sp=Ud,lp=qd,hp=oh,up=Math.round,cp=Math.max,dp=Math.min,pp={},fp={Image:Xd,Group:Yd,Text:$d,Circle:Kd,Sector:Jd,Ring:Qd,Polygon:tp,Polyline:ep,Rect:ip,Line:np,BezierCurve:ap,Arc:op,CompoundPath:rp,LinearGradient:sp,RadialGradient:lp,BoundingRect:hp,extendShape:function(t){return Yc.extend(t)},extendPath:function(t,e){return ud.extendFromString(t,e)},makePath:Zt,makeImage:function(t,e,i){var n=new Jh({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if(&quot;center&quot;===i){var a={width:t.width,height:t.height};n.setStyle(jt(e,a))}}});return n},mergePath:ud.mergePath,resizePath:Ut,subPixelOptimizeLine:function(t){var e=t.shape,i=t.style.lineWidth;return up(2*e.x1)===up(2*e.x2)&amp;&amp;(e.x1=e.x2=qt(e.x1,i,!0)),up(2*e.y1)===up(2*e.y2)&amp;&amp;(e.y1=e.y2=qt(e.y1,i,!0)),t},subPixelOptimizeRect:function(t){var e=t.shape,i=t.style.lineWidth,n=e.x,a=e.y,o=e.width,r=e.height;return e.x=qt(e.x,i,!0),e.y=qt(e.y,i,!0),e.width=Math.max(qt(n+o,i,!1)-e.x,0===o?0:1),e.height=Math.max(qt(a+r,i,!1)-e.y,0===r?0:1),t},subPixelOptimize:qt,setHoverStyle:function(t,e,i){t.__hoverSilentOnTouch=i&amp;&amp;i.hoverSilentOnTouch,&quot;group&quot;===t.type?t.traverse(function(t){&quot;group&quot;!==t.type&amp;&amp;ee(t,e)}):ee(t,e),t.on(&quot;mouseover&quot;,function(t){this.__hoverSilentOnTouch&amp;&amp;t.zrByTouch||!this.__isEmphasis&amp;&amp;Qt(this)}).on(&quot;mouseout&quot;,function(t){this.__hoverSilentOnTouch&amp;&amp;t.zrByTouch||!this.__isEmphasis&amp;&amp;te(this)}),t.on(&quot;emphasis&quot;,function(){this.__isEmphasis=!0,Qt(this)}).on(&quot;normal&quot;,function(){this.__isEmphasis=!1,te(this)})},setLabelStyle:function(t,e,i,n,a,o,r){var s=(a=a||pp).labelFetcher,l=a.labelDataIndex,h=a.labelDimIndex,u=i.getShallow(&quot;show&quot;),c=n.getShallow(&quot;show&quot;),d=u||c?rl.retrieve2(s?s.getFormattedLabel(l,&quot;normal&quot;,null,h):null,a.defaultText):null,p=u?d:null,f=c?rl.retrieve2(s?s.getFormattedLabel(l,&quot;emphasis&quot;,null,h):null,d):null;null==p&amp;&amp;null==f||(ie(t,i,o,a),ie(e,n,r,a,!0)),t.text=p,e.text=f},setTextStyle:ie,setText:function(t,e,i){var n,a={isRectText:!0};!1===i?n=!0:a.autoColor=i,ne(t,e,a,n),t.host&amp;&amp;t.host.dirty&amp;&amp;t.host.dirty(!1)},getFont:function(t,e){var i=e||e.getModel(&quot;textStyle&quot;);return[t.fontStyle||i&amp;&amp;i.getShallow(&quot;fontStyle&quot;)||&quot;&quot;,t.fontWeight||i&amp;&amp;i.getShallow(&quot;fontWeight&quot;)||&quot;&quot;,(t.fontSize||i&amp;&amp;i.getShallow(&quot;fontSize&quot;)||12)+&quot;px&quot;,t.fontFamily||i&amp;&amp;i.getShallow(&quot;fontFamily&quot;)||&quot;sans-serif&quot;].join(&quot; &quot;)},updateProps:le,initProps:function(t,e,i,n,a){se(!1,t,e,i,n,a)},getTransform:function(t,e){for(var i=yl.identity([]);t&amp;&amp;t!==e;)yl.mul(i,t.getLocalTransform(),i),t=t.parent;return i},applyTransform:he,transformDirection:function(t,e,i){var n=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),a=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),o=[&quot;left&quot;===t?-n:&quot;right&quot;===t?n:0,&quot;top&quot;===t?-a:&quot;bottom&quot;===t?a:0];return o=he(o,e,i),Math.abs(o[0])&gt;Math.abs(o[1])?o[0]&gt;0?&quot;right&quot;:&quot;left&quot;:o[1]&gt;0?&quot;bottom&quot;:&quot;top&quot;},groupTransition:function(t,e,i,n){function a(t){var e={position:ll.clone(t.position),rotation:t.rotation};return t.shape&amp;&amp;(e.shape=rl.extend({},t.shape)),e}if(t&amp;&amp;e){var o=function(e){var i={};return t.traverse(function(t){!t.isGroup&amp;&amp;t.anid&amp;&amp;(i[t.anid]=t)}),i}();e.traverse(function(t){if(!t.isGroup&amp;&amp;t.anid){var e=o[t.anid];if(e){var n=a(t);t.attr(a(e)),le(t,n,i,t.dataIndex)}}})}},clipPointsByRect:function(t,e){return rl.map(t,function(t){var i=t[0];i=cp(i,e.x),i=dp(i,e.x+e.width);var n=t[1];return n=cp(n,e.y),n=dp(n,e.y+e.height),[i,n]})},clipRectByRect:function(t,e){var i=cp(t.x,e.x),n=dp(t.x+t.width,e.x+e.width),a=cp(t.y,e.y),o=dp(t.y+t.height,e.y+e.height);if(n&gt;=i&amp;&amp;o&gt;=a)return{x:i,y:a,width:n-i,height:o-a}},createIcon:function(t,e,i){var n=(e=rl.extend({rectHover:!0},e)).style={strokeNoScale:!0};if(i=i||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf(&quot;image://&quot;)?(n.image=t.slice(8),rl.defaults(n,i),new Jh(e)):Zt(t.replace(&quot;path://&quot;,&quot;&quot;),e,i,&quot;center&quot;)}},gp=[&quot;textStyle&quot;,&quot;color&quot;],mp={getTextColor:function(t){var e=this.ecModel;return this.getShallow(&quot;color&quot;)||(!t&amp;&amp;e?e.get(gp):null)},getFont:function(){return fp.getFont({fontStyle:this.getShallow(&quot;fontStyle&quot;),fontWeight:this.getShallow(&quot;fontWeight&quot;),fontSize:this.getShallow(&quot;fontSize&quot;),fontFamily:this.getShallow(&quot;fontFamily&quot;)},this.ecModel)},getTextRect:function(t){return Nh.getBoundingRect(t,this.getFont(),this.getShallow(&quot;align&quot;),this.getShallow(&quot;verticalAlign&quot;)||this.getShallow(&quot;baseline&quot;),this.getShallow(&quot;padding&quot;),this.getShallow(&quot;rich&quot;),this.getShallow(&quot;truncateText&quot;))}},vp=Gu([[&quot;fill&quot;,&quot;color&quot;],[&quot;stroke&quot;,&quot;borderColor&quot;],[&quot;lineWidth&quot;,&quot;borderWidth&quot;],[&quot;opacity&quot;],[&quot;shadowBlur&quot;],[&quot;shadowOffsetX&quot;],[&quot;shadowOffsetY&quot;],[&quot;shadowColor&quot;],[&quot;textPosition&quot;],[&quot;textAlign&quot;]]),yp={getItemStyle:function(t,e){var i=vp(this,t,e),n=this.getBorderLineDash();return n&amp;&amp;(i.lineDash=n),i},getBorderLineDash:function(){var t=this.get(&quot;borderType&quot;);return&quot;solid&quot;===t||null==t?null:&quot;dashed&quot;===t?[5,5]:[1,1]}},xp=rl.mixin;ue.prototype={constructor:ue,init:null,mergeOption:function(t){rl.merge(this.option,t,!0)},get:function(t,e){return null==t?this.option:ce(this.option,this.parsePath(t),!e&amp;&amp;de(this,t))},getShallow:function(t,e){var i=this.option,n=null==i?i:i[t],a=!e&amp;&amp;de(this,t);return null==n&amp;&amp;a&amp;&amp;(n=a.getShallow(t)),n},getModel:function(t,e){var i,n=null==t?this.option:ce(this.option,t=this.parsePath(t));return e=e||(i=de(this,t))&amp;&amp;i.getModel(t),new ue(n,e,this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new(0,this.constructor)(rl.clone(this.option))},setReadOnly:function(t){Bu.setReadOnly(this,t)},parsePath:function(t){return&quot;string&quot;==typeof t&amp;&amp;(t=t.split(&quot;.&quot;)),t},customizeGetParent:function(t){Bu.set(this,&quot;getParent&quot;,t)},isAnimationEnabled:function(){if(!Us.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},Bu.enableClassExtend(ue),xp(ue,Wu),xp(ue,Zu),xp(ue,mp),xp(ue,yp);var _p=ue,bp=rl.each,wp=rl.isObject,Sp={getDataParams:function(t,e){var i=this.getData(e),n=this.getRawValue(t,e),a=i.getRawIndex(t),o=i.getName(t,!0),r=i.getRawDataItem(t),s=i.getItemVisual(t,&quot;color&quot;);return{componentType:this.mainType,componentSubType:this.subType,seriesType:&quot;series&quot;===this.mainType?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:o,dataIndex:a,data:r,dataType:e,value:n,color:s,marker:Eu.getTooltipMarker(s),$vars:[&quot;seriesName&quot;,&quot;name&quot;,&quot;value&quot;]}},getFormattedLabel:function(t,e,i,n,a){e=e||&quot;normal&quot;;var o=this.getData(i).getItemModel(t),r=this.getDataParams(t,i);null!=n&amp;&amp;r.value instanceof Array&amp;&amp;(r.value=r.value[n]);var s=o.get([a||&quot;label&quot;,e,&quot;formatter&quot;]);return&quot;function&quot;==typeof s?(r.status=e,s(r)):&quot;string&quot;==typeof s?Eu.formatTpl(s,r):void 0},getRawValue:function(t,e){var i=this.getData(e).getRawDataItem(t);if(null!=i)return!wp(i)||i instanceof Array?i:i.value},formatTooltip:rl.noop},Mp=function(){var t=0;return function(){var e=&quot;\0__ec_prop_getter_&quot;+t++;return function(t){return t[e]||(t[e]={})}}}(),Ip={normalizeToArray:pe,defaultEmphasis:function(t,e){if(t)for(var i=t.emphasis=t.emphasis||{},n=t.normal=t.normal||{},a=0,o=e.length;a&lt;o;a++){var r=e[a];!i.hasOwnProperty(r)&amp;&amp;n.hasOwnProperty(r)&amp;&amp;(i[r]=n[r])}},TEXT_STYLE_OPTIONS:[&quot;fontStyle&quot;,&quot;fontWeight&quot;,&quot;fontSize&quot;,&quot;fontFamily&quot;,&quot;rich&quot;,&quot;tag&quot;,&quot;color&quot;,&quot;textBorderColor&quot;,&quot;textBorderWidth&quot;,&quot;width&quot;,&quot;height&quot;,&quot;lineHeight&quot;,&quot;align&quot;,&quot;verticalAlign&quot;,&quot;baseline&quot;,&quot;shadowColor&quot;,&quot;shadowBlur&quot;,&quot;shadowOffsetX&quot;,&quot;shadowOffsetY&quot;,&quot;textShadowColor&quot;,&quot;textShadowBlur&quot;,&quot;textShadowOffsetX&quot;,&quot;textShadowOffsetY&quot;,&quot;backgroundColor&quot;,&quot;borderColor&quot;,&quot;borderWidth&quot;,&quot;borderRadius&quot;,&quot;padding&quot;],getDataItemValue:function(t){return t&amp;&amp;(null==t.value?t:t.value)},isDataItemOption:function(t){return wp(t)&amp;&amp;!(t instanceof Array)},converDataValue:function(t,e){var i=e&amp;&amp;e.type;return&quot;ordinal&quot;===i?t:(&quot;time&quot;===i&amp;&amp;&quot;number&quot;!=typeof t&amp;&amp;null!=t&amp;&amp;&quot;-&quot;!==t&amp;&amp;(t=+Pu.parseDate(t)),null==t||&quot;&quot;===t?NaN:+t)},createDataFormatModel:function(t,e){var i=new _p;return rl.mixin(i,Sp),i.seriesIndex=e.seriesIndex,i.name=e.name||&quot;&quot;,i.mainType=e.mainType,i.subType=e.subType,i.getData=function(){return t},i},dataFormatMixin:Sp,mappingToExists:function(t,e){e=(e||[]).slice();var i=rl.map(t||[],function(t,e){return{exist:t}});return bp(e,function(t,n){if(wp(t)){for(a=0;a&lt;i.length;a++)if(!i[a].option&amp;&amp;null!=t.id&amp;&amp;i[a].exist.id===t.id+&quot;&quot;)return i[a].option=t,void(e[n]=null);for(var a=0;a&lt;i.length;a++){var o=i[a].exist;if(!(i[a].option||null!=o.id&amp;&amp;null!=t.id||null==t.name||fe(t)||fe(o)||o.name!==t.name+&quot;&quot;))return i[a].option=t,void(e[n]=null)}}}),bp(e,function(t,e){if(wp(t)){for(var n=0;n&lt;i.length;n++){var a=i[n].exist;if(!i[n].option&amp;&amp;!fe(a)&amp;&amp;null==t.id){i[n].option=t;break}}n&gt;=i.length&amp;&amp;i.push({option:t})}}),i},makeIdAndName:function(t){var e=rl.createHashMap();bp(t,function(t,i){var n=t.exist;n&amp;&amp;e.set(n.id,t)}),bp(t,function(t,i){var n=t.option;rl.assert(!n||null==n.id||!e.get(n.id)||e.get(n.id)===t,&quot;id duplicates: &quot;+(n&amp;&amp;n.id)),n&amp;&amp;null!=n.id&amp;&amp;e.set(n.id,t),!t.keyInfo&amp;&amp;(t.keyInfo={})}),bp(t,function(t,i){var n=t.exist,a=t.option,o=t.keyInfo;if(wp(a)){if(o.name=null!=a.name?a.name+&quot;&quot;:n?n.name:&quot;\0-&quot;,n)o.id=n.id;else if(null!=a.id)o.id=a.id+&quot;&quot;;else{var r=0;do{o.id=&quot;\0&quot;+o.name+&quot;\0&quot;+r++}while(e.get(o.id))}e.set(o.id,t)}})},isIdInner:fe,compressBatches:function(t,e){function i(t,e,i){for(var n=0,a=t.length;n&lt;a;n++)for(var o=t[n].seriesId,r=pe(t[n].dataIndex),s=i&amp;&amp;i[o],l=0,h=r.length;l&lt;h;l++){var u=r[l];s&amp;&amp;s[u]?s[u]=null:(e[o]||(e[o]={}))[u]=1}}function n(t,e){var i=[];for(var a in t)if(t.hasOwnProperty(a)&amp;&amp;null!=t[a])if(e)i.push(+a);else{var o=n(t[a],!0);o.length&amp;&amp;i.push({seriesId:a,dataIndex:o})}return i}var a={},o={};return i(t||[],a),i(e||[],o,a),[n(a),n(o)]},queryDataIndex:function(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?rl.isArray(e.dataIndex)?rl.map(e.dataIndex,function(e){return t.indexOfRawIndex(e)}):t.indexOfRawIndex(e.dataIndex):null!=e.name?rl.isArray(e.name)?rl.map(e.name,function(e){return t.indexOfName(e)}):t.indexOfName(e.name):void 0},makeGetter:Mp,parseFinder:function(t,e,i){if(rl.isString(e)){var n={};n[e+&quot;Index&quot;]=0,e=n}var a=i&amp;&amp;i.defaultMainType;!a||ge(e,a+&quot;Index&quot;)||ge(e,a+&quot;Id&quot;)||ge(e,a+&quot;Name&quot;)||(e[a+&quot;Index&quot;]=0);var o={};return bp(e,function(n,a){if(n=e[a],&quot;dataIndex&quot;!==a&amp;&amp;&quot;dataIndexInside&quot;!==a){var r=a.match(/^(\w+)(Index|Id|Name)$/)||[],s=r[1],l=(r[2]||&quot;&quot;).toLowerCase();if(!(!s||!l||null==n||&quot;index&quot;===l&amp;&amp;&quot;none&quot;===n||i&amp;&amp;i.includeMainTypes&amp;&amp;rl.indexOf(i.includeMainTypes,s)&lt;0)){var h={mainType:s};&quot;index&quot;===l&amp;&amp;&quot;all&quot;===n||(h[l]=n);var u=t.queryComponents(h);o[s+&quot;Models&quot;]=u,o[s+&quot;Model&quot;]=u[0]}}else o[a]=n}),o},dataDimToCoordDim:function(t,e){var i=t.dimensions;e=t.getDimension(e);for(var n=0;n&lt;i.length;n++){var a=t.getDimensionInfo(i[n]);if(a.name===e)return a.coordDim}},coordDimToDataDim:function(t,e){var i=[];return bp(t.dimensions,function(n){var a=t.getDimensionInfo(n);a.coordDim===e&amp;&amp;(i[a.coordDimIndex]=a.name)}),i},otherDimToDataDim:function(t,e){var i=[];return bp(t.dimensions,function(n){var a=t.getDimensionInfo(n),o=a.otherDims[e];null!=o&amp;&amp;!1!==o&amp;&amp;(i[o]=a.name)}),i}},Tp=Bu.parseClassType,Ap=0,Cp=&quot;_&quot;,Lp={getUID:function(t){return[t||&quot;&quot;,Ap++,Math.random()].join(Cp)},enableSubTypeDefaulter:function(t){var e={};return t.registerSubTypeDefaulter=function(t,i){t=Tp(t),e[t.main]=i},t.determineSubType=function(i,n){var a=n.type;if(!a){var o=Tp(i).main;t.hasSubTypes(i)&amp;&amp;e[o]&amp;&amp;(a=e[o](n))}return a},t},enableTopologicalTravel:function(t,e){function i(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}t.topologicalTravel=function(t,n,a,o){function r(t){l[t].entryCount--,0===l[t].entryCount&amp;&amp;h.push(t)}if(t.length){var s=function(t){var n={},a=[];return rl.each(t,function(o){var r=i(n,o),s=function(t,e){var i=[];return rl.each(t,function(t){rl.indexOf(e,t)&gt;=0&amp;&amp;i.push(t)}),i}(r.originalDeps=e(o),t);r.entryCount=s.length,0===r.entryCount&amp;&amp;a.push(o),rl.each(s,function(t){rl.indexOf(r.predecessor,t)&lt;0&amp;&amp;r.predecessor.push(t);var e=i(n,t);rl.indexOf(e.successor,t)&lt;0&amp;&amp;e.successor.push(o)})}),{graph:n,noEntryList:a}}(n),l=s.graph,h=s.noEntryList,u={};for(rl.each(t,function(t){u[t]=!0});h.length;){var c=h.pop(),d=l[c],p=!!u[c];p&amp;&amp;(a.call(o,c,d.originalDeps.slice()),delete u[c]),rl.each(d.successor,p?function(t){u[t]=!0,r(t)}:r)}rl.each(u,function(){throw new Error(&quot;Circle dependency may exists&quot;)})}}}},Dp=Pu.parsePercent,Pp=rl.each,kp=[&quot;left&quot;,&quot;right&quot;,&quot;top&quot;,&quot;bottom&quot;,&quot;width&quot;,&quot;height&quot;],Op=[[&quot;width&quot;,&quot;left&quot;,&quot;right&quot;],[&quot;height&quot;,&quot;top&quot;,&quot;bottom&quot;]],zp=me,Ep=rl.curry(me,&quot;vertical&quot;),Rp=rl.curry(me,&quot;horizontal&quot;),Np={LOCATION_PARAMS:kp,HV_NAMES:Op,box:zp,vbox:Ep,hbox:Rp,getAvailableSize:function(t,e,i){var n=e.width,a=e.height,o=Dp(t.x,n),r=Dp(t.y,a),s=Dp(t.x2,n),l=Dp(t.y2,a);return(isNaN(o)||isNaN(parseFloat(t.x)))&amp;&amp;(o=0),(isNaN(s)||isNaN(parseFloat(t.x2)))&amp;&amp;(s=n),(isNaN(r)||isNaN(parseFloat(t.y)))&amp;&amp;(r=0),(isNaN(l)||isNaN(parseFloat(t.y2)))&amp;&amp;(l=a),i=Eu.normalizeCssArray(i||0),{width:Math.max(s-o-i[1]-i[3],0),height:Math.max(l-r-i[0]-i[2],0)}},getLayoutRect:ve,positionElement:function(t,e,i,n,a){var o=!a||!a.hv||a.hv[0],r=!a||!a.hv||a.hv[1],s=a&amp;&amp;a.boundingMode||&quot;all&quot;;if(o||r){var l;if(&quot;raw&quot;===s)l=&quot;group&quot;===t.type?new oh(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(l=t.getBoundingRect(),t.needLocalTransform()){var h=t.getLocalTransform();(l=l.clone()).applyTransform(h)}e=ve(rl.defaults({width:l.width,height:l.height},e),i,n);var u=t.position,c=o?e.x-l.x:0,d=r?e.y-l.y:0;t.attr(&quot;position&quot;,&quot;raw&quot;===s?[c,d]:[u[0]+c,u[1]+d])}},sizeCalculable:function(t,e){return null!=t[Op[e][0]]||null!=t[Op[e][1]]&amp;&amp;null!=t[Op[e][2]]},mergeLayoutParam:function(t,e,i){function n(i,n){var r={},l=0,h={},u=0;if(Pp(i,function(e){h[e]=t[e]}),Pp(i,function(t){a(e,t)&amp;&amp;(r[t]=h[t]=e[t]),o(r,t)&amp;&amp;l++,o(h,t)&amp;&amp;u++}),s[n])return o(e,i[1])?h[i[2]]=null:o(e,i[2])&amp;&amp;(h[i[1]]=null),h;if(2!==u&amp;&amp;l){if(l&gt;=2)return r;for(var c=0;c&lt;i.length;c++){var d=i[c];if(!a(r,d)&amp;&amp;a(t,d)){r[d]=t[d];break}}return r}return h}function a(t,e){return t.hasOwnProperty(e)}function o(t,e){return null!=t[e]&amp;&amp;&quot;auto&quot;!==t[e]}function r(t,e,i){Pp(t,function(t){e[t]=i[t]})}!rl.isObject(i)&amp;&amp;(i={});var s=i.ignoreSize;!rl.isArray(s)&amp;&amp;(s=[s,s]);var l=n(Op[0],0),h=n(Op[1],1);r(Op[0],t,l),r(Op[1],t,h)},getLayoutParams:function(t){return ye({},t)},copyLayoutParams:ye},Vp={getBoxLayoutParams:function(){return{left:this.get(&quot;left&quot;),top:this.get(&quot;top&quot;),right:this.get(&quot;right&quot;),bottom:this.get(&quot;bottom&quot;),width:this.get(&quot;width&quot;),height:this.get(&quot;height&quot;)}}},Bp=Array.prototype.push,Gp=_p.extend({type:&quot;component&quot;,id:&quot;&quot;,name:&quot;&quot;,mainType:&quot;&quot;,subType:&quot;&quot;,componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(t,e,i,n){_p.call(this,t,e,i,n),this.uid=Lp.getUID(&quot;componentModel&quot;)},init:function(t,e,i,n){this.mergeDefaultAndTheme(t,i)},mergeDefaultAndTheme:function(t,e){var i=this.layoutMode,n=i?Np.getLayoutParams(t):{},a=e.getTheme();rl.merge(t,a.get(this.mainType)),rl.merge(t,this.getDefaultOption()),i&amp;&amp;Np.mergeLayoutParam(t,n,i)},mergeOption:function(t,e){rl.merge(this.option,t,!0);var i=this.layoutMode;i&amp;&amp;Np.mergeLayoutParam(this.option,t,i)},optionUpdated:function(t,e){},getDefaultOption:function(){if(!Bu.hasOwn(this,&quot;__defaultOption&quot;)){for(var t=[],e=this.constructor;e;){var i=e.prototype.defaultOption;i&amp;&amp;t.push(i),e=e.superClass}for(var n={},a=t.length-1;a&gt;=0;a--)n=rl.merge(n,t[a],!0);Bu.set(this,&quot;__defaultOption&quot;,n)}return Bu.get(this,&quot;__defaultOption&quot;)},getReferringComponents:function(t){return this.ecModel.queryComponents({mainType:t,index:this.get(t+&quot;Index&quot;,!0),id:this.get(t+&quot;Id&quot;,!0)})}});Bu.enableClassManagement(Gp,{registerWhenExtend:!0}),Lp.enableSubTypeDefaulter(Gp),Lp.enableTopologicalTravel(Gp,function(t){var e=[];return rl.each(Gp.getClassesByMainType(t),function(t){Bp.apply(e,t.prototype.dependencies||[])}),rl.map(e,function(t){return Bu.parseClassType(t).main})}),rl.mixin(Gp,Vp);var Hp=Gp,Wp=&quot;&quot;;&quot;undefined&quot;!=typeof navigator&amp;&amp;(Wp=navigator.platform||&quot;&quot;);var Fp={color:[&quot;#c23531&quot;,&quot;#2f4554&quot;,&quot;#61a0a8&quot;,&quot;#d48265&quot;,&quot;#91c7ae&quot;,&quot;#749f83&quot;,&quot;#ca8622&quot;,&quot;#bda29a&quot;,&quot;#6e7074&quot;,&quot;#546570&quot;,&quot;#c4ccd3&quot;],textStyle:{fontFamily:Wp.match(/^Win/)?&quot;Microsoft YaHei&quot;:&quot;sans-serif&quot;,fontSize:12,fontStyle:&quot;normal&quot;,fontWeight:&quot;normal&quot;},blendMode:null,animation:&quot;auto&quot;,animationDuration:1e3,animationDurationUpdate:300,animationEasing:&quot;exponentialOut&quot;,animationEasingUpdate:&quot;cubicOut&quot;,animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},Zp=Bu.set,jp=Bu.get,Up={clearColorPalette:function(){Zp(this,&quot;colorIdx&quot;,0),Zp(this,&quot;colorNameMap&quot;,{})},getColorFromPalette:function(t,e){var i=jp(e=e||this,&quot;colorIdx&quot;)||0,n=jp(e,&quot;colorNameMap&quot;)||Zp(e,&quot;colorNameMap&quot;,{});if(n.hasOwnProperty(t))return n[t];var a=this.get(&quot;color&quot;,!0)||[];if(a.length){var o=a[i];return t&amp;&amp;(n[t]=o),Zp(e,&quot;colorIdx&quot;,(i+1)%a.length),o}}},qp=rl.each,Xp=rl.filter,Yp=rl.map,$p=rl.isArray,Kp=rl.indexOf,Jp=rl.isObject,Qp=&quot;\0_ec_inner&quot;,tf=_p.extend({constructor:tf,init:function(t,e,i,n){i=i||{},this.option=null,this._theme=new _p(i),this._optionManager=n},setOption:function(t,e){rl.assert(!(Qp in t),&quot;please use chart.getOption()&quot;),this._optionManager.setOption(t,e),this.resetOption(null)},resetOption:function(t){var e=!1,i=this._optionManager;if(!t||&quot;recreate&quot;===t){var n=i.mountOption(&quot;recreate&quot;===t);this.option&amp;&amp;&quot;recreate&quot;!==t?(this.restoreData(),this.mergeOption(n)):function(t){t=t,this.option={},this.option[Qp]=1,this._componentsMap=rl.createHashMap({series:[]}),this._seriesIndices=null,function(t,e){rl.each(e,function(e,i){Hp.hasClass(i)||(&quot;object&quot;==typeof e?t[i]=t[i]?rl.merge(t[i],e,!1):rl.clone(e):null==t[i]&amp;&amp;(t[i]=e))})}(t,this._theme.option),rl.merge(t,Fp,!1),this.mergeOption(t)}.call(this,n),e=!0}if(&quot;timeline&quot;!==t&amp;&amp;&quot;media&quot;!==t||this.restoreData(),!t||&quot;recreate&quot;===t||&quot;timeline&quot;===t){var a=i.getTimelineOption(this);a&amp;&amp;(this.mergeOption(a),e=!0)}if(!t||&quot;recreate&quot;===t||&quot;media&quot;===t){var o=i.getMediaOption(this,this._api);o.length&amp;&amp;qp(o,function(t){this.mergeOption(t,e=!0)},this)}return e},mergeOption:function(t){var e=this.option,i=this._componentsMap,n=[];qp(t,function(t,i){null!=t&amp;&amp;(Hp.hasClass(i)?n.push(i):e[i]=null==e[i]?rl.clone(t):rl.merge(e[i],t,!0))}),Hp.topologicalTravel(n,Hp.getAllClassMainTypes(),function(n,a){var o=Ip.normalizeToArray(t[n]),r=Ip.mappingToExists(i.get(n),o);Ip.makeIdAndName(r),qp(r,function(t,e){var i=t.option;Jp(i)&amp;&amp;(t.keyInfo.mainType=n,t.keyInfo.subType=function(t,e,i){return e.type?e.type:i?i.subType:Hp.determineSubType(t,e)}(n,i,t.exist))});var s=function(t,e){rl.isArray(e)||(e=e?[e]:[]);var i={};return qp(e,function(e){i[e]=(t.get(e)||[]).slice()}),i}(i,a);e[n]=[],i.set(n,[]),qp(r,function(t,a){var o=t.exist,r=t.option;if(rl.assert(Jp(r)||o,&quot;Empty component definition&quot;),r){var l=Hp.getClass(n,t.keyInfo.subType,!0);if(o&amp;&amp;o instanceof l)o.name=t.keyInfo.name,o.mergeOption(r,this),o.optionUpdated(r,!1);else{var h=rl.extend({dependentModels:s,componentIndex:a},t.keyInfo);o=new l(r,this,this,h),rl.extend(o,h),o.init(r,this,this,h),o.optionUpdated(null,!0)}}else o.mergeOption({},this),o.optionUpdated({},!1);i.get(n)[a]=o,e[n][a]=o.option},this),&quot;series&quot;===n&amp;&amp;(this._seriesIndices=xe(i.get(&quot;series&quot;)))},this),this._seriesIndices=this._seriesIndices||[]},getOption:function(){var t=rl.clone(this.option);return qp(t,function(e,i){if(Hp.hasClass(i)){for(var n=(e=Ip.normalizeToArray(e)).length-1;n&gt;=0;n--)Ip.isIdInner(e[n])&amp;&amp;e.splice(n,1);t[i]=e}}),delete t[Qp],t},getTheme:function(){return this._theme},getComponent:function(t,e){var i=this._componentsMap.get(t);if(i)return i[e||0]},queryComponents:function(t){var e=t.mainType;if(!e)return[];var i=t.index,n=t.id,a=t.name,o=this._componentsMap.get(e);if(!o||!o.length)return[];var r;if(null!=i)$p(i)||(i=[i]),r=Xp(Yp(i,function(t){return o[t]}),function(t){return!!t});else if(null!=n){var s=$p(n);r=Xp(o,function(t){return s&amp;&amp;Kp(n,t.id)&gt;=0||!s&amp;&amp;t.id===n})}else if(null!=a){var l=$p(a);r=Xp(o,function(t){return l&amp;&amp;Kp(a,t.name)&gt;=0||!l&amp;&amp;t.name===a})}else r=o.slice();return _e(r,t)},findComponents:function(t){var e=t.query,i=t.mainType,n=function(t){var e=i+&quot;Index&quot;,n=i+&quot;Id&quot;,a=i+&quot;Name&quot;;return!t||null==t[e]&amp;&amp;null==t[n]&amp;&amp;null==t[a]?null:{mainType:i,index:t[e],id:t[n],name:t[a]}}(e);return function(e){return t.filter?Xp(e,t.filter):e}(_e(n?this.queryComponents(n):this._componentsMap.get(i),t))},eachComponent:function(t,e,i){var n=this._componentsMap;if(&quot;function&quot;==typeof t)i=e,e=t,n.each(function(t,n){qp(t,function(t,a){e.call(i,n,t,a)})});else if(rl.isString(t))qp(n.get(t),e,i);else if(Jp(t)){var a=this.findComponents(t);qp(a,e,i)}},getSeriesByName:function(t){var e=this._componentsMap.get(&quot;series&quot;);return Xp(e,function(e){return e.name===t})},getSeriesByIndex:function(t){return this._componentsMap.get(&quot;series&quot;)[t]},getSeriesByType:function(t){var e=this._componentsMap.get(&quot;series&quot;);return Xp(e,function(e){return e.subType===t})},getSeries:function(){return this._componentsMap.get(&quot;series&quot;).slice()},eachSeries:function(t,e){be(),qp(this._seriesIndices,function(i){var n=this._componentsMap.get(&quot;series&quot;)[i];t.call(e,n,i)},this)},eachRawSeries:function(t,e){qp(this._componentsMap.get(&quot;series&quot;),t,e)},eachSeriesByType:function(t,e,i){be(),qp(this._seriesIndices,function(n){var a=this._componentsMap.get(&quot;series&quot;)[n];a.subType===t&amp;&amp;e.call(i,a,n)},this)},eachRawSeriesByType:function(t,e,i){return qp(this.getSeriesByType(t),e,i)},isSeriesFiltered:function(t){return be(),rl.indexOf(this._seriesIndices,t.componentIndex)&lt;0},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(t,e){be();var i=Xp(this._componentsMap.get(&quot;series&quot;),t,e);this._seriesIndices=xe(i)},restoreData:function(){var t=this._componentsMap;this._seriesIndices=xe(t.get(&quot;series&quot;));var e=[];t.each(function(t,i){e.push(i)}),Hp.topologicalTravel(e,Hp.getAllClassMainTypes(),function(e,i){qp(t.get(e),function(t){t.restoreData()})})}});rl.mixin(tf,Up);var ef=tf,nf=[&quot;getDom&quot;,&quot;getZr&quot;,&quot;getWidth&quot;,&quot;getHeight&quot;,&quot;getDevicePixelRatio&quot;,&quot;dispatchAction&quot;,&quot;isDisposed&quot;,&quot;on&quot;,&quot;off&quot;,&quot;getDataURL&quot;,&quot;getConnectedDataURL&quot;,&quot;getModel&quot;,&quot;getOption&quot;,&quot;getViewOfComponentModel&quot;,&quot;getViewOfSeriesModel&quot;],af=function(t){rl.each(nf,function(e){this[e]=rl.bind(t[e],t)},this)},of={};we.prototype={constructor:we,create:function(t,e){var i=[];rl.each(of,function(n,a){var o=n.create(t,e);i=i.concat(o||[])}),this._coordinateSystems=i},update:function(t,e){rl.each(this._coordinateSystems,function(i){i.update&amp;&amp;i.update(t,e)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},we.register=function(t,e){of[t]=e},we.get=function(t){return of[t]};var rf=we,sf=rl.each,lf=rl.clone,hf=rl.map,uf=rl.merge,cf=/^(min|max)?(.+)$/;Se.prototype={constructor:Se,setOption:function(t,e){t=lf(t,!0);var i=this._optionBackup,n=function(t,e,i){var n,a,o=[],r=[],s=t.timeline;if(t.baseOption&amp;&amp;(a=t.baseOption),(s||t.options)&amp;&amp;(a=a||{},o=(t.options||[]).slice()),t.media){a=a||{};var l=t.media;sf(l,function(t){t&amp;&amp;t.option&amp;&amp;(t.query?r.push(t):n||(n=t))})}return a||(a=t),a.timeline||(a.timeline=s),sf([a].concat(o).concat(rl.map(r,function(t){return t.option})),function(t){sf(e,function(e){e(t,i)})}),{baseOption:a,timelineOptions:o,mediaDefault:n,mediaList:r}}.call(this,t,e,!i);this._newBaseOption=n.baseOption,i?(!function(t,e){sf(e=e||{},function(e,i){if(null!=e){var n=t[i];if(Hp.hasClass(i)){e=Ip.normalizeToArray(e),n=Ip.normalizeToArray(n);var a=Ip.mappingToExists(n,e);t[i]=hf(a,function(t){return t.option&amp;&amp;t.exist?uf(t.exist,t.option,!0):t.exist||t.option})}else t[i]=uf(n,e,!0)}})}(i.baseOption,n.baseOption),n.timelineOptions.length&amp;&amp;(i.timelineOptions=n.timelineOptions),n.mediaList.length&amp;&amp;(i.mediaList=n.mediaList),n.mediaDefault&amp;&amp;(i.mediaDefault=n.mediaDefault)):this._optionBackup=n},mountOption:function(t){var e=this._optionBackup;return this._timelineOptions=hf(e.timelineOptions,lf),this._mediaList=hf(e.mediaList,lf),this._mediaDefault=lf(e.mediaDefault),this._currentMediaIndices=[],lf(t?e.baseOption:this._newBaseOption)},getTimelineOption:function(t){var e,i=this._timelineOptions;if(i.length){var n=t.getComponent(&quot;timeline&quot;);n&amp;&amp;(e=lf(i[n.getCurrentIndex()],!0))}return e},getMediaOption:function(t){var e=this._api.getWidth(),i=this._api.getHeight(),n=this._mediaList,a=this._mediaDefault,o=[],r=[];if(!n.length&amp;&amp;!a)return r;for(var s=0,l=n.length;s&lt;l;s++)(function(t,e,i){var n={width:e,height:i,aspectratio:e/i},a=!0;return rl.each(t,function(t,e){var i=e.match(cf);if(i&amp;&amp;i[1]&amp;&amp;i[2]){var o=i[1],r=i[2].toLowerCase();(function(t,e,i){return&quot;min&quot;===i?t&gt;=e:&quot;max&quot;===i?t&lt;=e:t===e})(n[r],t,o)||(a=!1)}}),a})(n[s].query,e,i)&amp;&amp;o.push(s);return!o.length&amp;&amp;a&amp;&amp;(o=[-1]),o.length&amp;&amp;!function(t,e){return t.join(&quot;,&quot;)===e.join(&quot;,&quot;)}(o,this._currentMediaIndices)&amp;&amp;(r=hf(o,function(t){return lf(-1===t?a.option:n[t].option)})),this._currentMediaIndices=o,r}};var df=Se,pf=rl.each,ff=rl.isObject,gf=[&quot;areaStyle&quot;,&quot;lineStyle&quot;,&quot;nodeStyle&quot;,&quot;linkStyle&quot;,&quot;chordStyle&quot;,&quot;label&quot;,&quot;labelLine&quot;],mf=function(t,e){pf(Ae(t.series),function(t){ff(t)&amp;&amp;function(t){if(ff(t)){Me(t),Te(t.label),Te(t.upperLabel),Te(t.edgeLabel),Me(n=t.markPoint),Te(n&amp;&amp;n.label),r=t.markLine,Me(t.markLine),Te(r&amp;&amp;r.label);var e=t.markArea;Te(e&amp;&amp;e.label),Ie(t,&quot;axisLabel&quot;),Ie(t,&quot;title&quot;),Ie(t,&quot;detail&quot;);var i=t.data;if(i)for(o=0;o&lt;i.length;o++)Me(i[o]),Te(i[o]&amp;&amp;i[o].label);var n;if((n=t.markPoint)&amp;&amp;n.data)for(var a=n.data,o=0;o&lt;a.length;o++)Me(a[o]),Te(a[o]&amp;&amp;a[o].label);var r;if((r=t.markLine)&amp;&amp;r.data)for(var s=r.data,o=0;o&lt;s.length;o++)rl.isArray(s[o])?(Me(s[o][0]),Te(s[o][0]&amp;&amp;s[o][0].label),Me(s[o][1]),Te(s[o][1]&amp;&amp;s[o][1].label)):(Me(s[o]),Te(s[o]&amp;&amp;s[o].label))}}(t)});var i=[&quot;xAxis&quot;,&quot;yAxis&quot;,&quot;radiusAxis&quot;,&quot;angleAxis&quot;,&quot;singleAxis&quot;,&quot;parallelAxis&quot;,&quot;radar&quot;];e&amp;&amp;i.push(&quot;valueAxis&quot;,&quot;categoryAxis&quot;,&quot;logAxis&quot;,&quot;timeAxis&quot;),pf(i,function(e){pf(Ae(t[e]),function(t){t&amp;&amp;(Ie(t,&quot;axisLabel&quot;),Ie(t.axisPointer,&quot;label&quot;))})}),pf(Ae(t.parallel),function(t){var e=t&amp;&amp;t.parallelAxisDefault;Ie(e,&quot;axisLabel&quot;),Ie(e&amp;&amp;e.axisPointer,&quot;label&quot;)}),pf(Ae(t.calendar),function(t){Ie(t,&quot;dayLabel&quot;),Ie(t,&quot;monthLabel&quot;),Ie(t,&quot;yearLabel&quot;)}),pf(Ae(t.radar),function(t){Ie(t,&quot;name&quot;)}),pf(Ae(t.geo),function(t){ff(t)&amp;&amp;(Te(t.label),pf(Ae(t.regions),function(t){Te(t.label)}))}),Te(Ce(t.timeline).label),Ie(Ce(t.axisPointer),&quot;label&quot;),Ie(Ce(t.tooltip).axisPointer,&quot;label&quot;)},vf=rl.each,yf=rl.isArray,xf=rl.isObject,_f=Ip.normalizeToArray,bf=[[&quot;x&quot;,&quot;left&quot;],[&quot;y&quot;,&quot;top&quot;],[&quot;x2&quot;,&quot;right&quot;],[&quot;y2&quot;,&quot;bottom&quot;]],wf=[&quot;grid&quot;,&quot;geo&quot;,&quot;parallel&quot;,&quot;legend&quot;,&quot;toolbox&quot;,&quot;title&quot;,&quot;visualMap&quot;,&quot;dataZoom&quot;,&quot;timeline&quot;],Sf=[&quot;bar&quot;,&quot;boxplot&quot;,&quot;candlestick&quot;,&quot;chord&quot;,&quot;effectScatter&quot;,&quot;funnel&quot;,&quot;gauge&quot;,&quot;lines&quot;,&quot;graph&quot;,&quot;heatmap&quot;,&quot;line&quot;,&quot;map&quot;,&quot;parallel&quot;,&quot;pie&quot;,&quot;radar&quot;,&quot;sankey&quot;,&quot;scatter&quot;,&quot;treemap&quot;],Mf=function(t,e){mf(t,e),t.series=_f(t.series),vf(t.series,function(t){if(xf(t)){var e=t.type;if(&quot;pie&quot;!==e&amp;&amp;&quot;gauge&quot;!==e||null!=t.clockWise&amp;&amp;(t.clockwise=t.clockWise),&quot;gauge&quot;===e){var i=function(t,e){e=e.split(&quot;,&quot;);for(var i=t,n=0;n&lt;e.length&amp;&amp;null!=(i=i&amp;&amp;i[e[n]]);n++);return i}(t,&quot;pointer.color&quot;);null!=i&amp;&amp;function(t,e,i,n){e=e.split(&quot;,&quot;);for(var a,o=t,r=0;r&lt;e.length-1;r++)null==o[a=e[r]]&amp;&amp;(o[a]={}),o=o[a];(n||null==o[e[r]])&amp;&amp;(o[e[r]]=i)}(t,&quot;itemStyle.normal.color&quot;,i)}for(var n=0;n&lt;Sf.length;n++)if(Sf[n]===t.type){Le(t);break}}}),t.dataRange&amp;&amp;(t.visualMap=t.dataRange),vf(wf,function(e){var i=t[e];i&amp;&amp;(yf(i)||(i=[i]),vf(i,function(t){Le(t)}))})},If=Eu.formatTime,Tf=Eu.encodeHTML,Af=Eu.addCommas,Cf=Eu.getTooltipMarker,Lf=Bu.set,Df=Bu.get,Pf=Np.getLayoutParams,kf=Np.mergeLayoutParam,Of=Hp.extend({type:&quot;series.__base__&quot;,seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:&quot;itemStyle.normal.color&quot;,layoutMode:null,init:function(t,e,i,n){this.seriesIndex=this.componentIndex,this.mergeDefaultAndTheme(t,i);var a=this.getInitialData(t,i);Lf(this,&quot;dataBeforeProcessed&quot;,a),this.restoreData()},mergeDefaultAndTheme:function(t,e){var i=this.layoutMode,n=i?Pf(t):{},a=this.subType;Hp.hasClass(a)&amp;&amp;(a+=&quot;Series&quot;),rl.merge(t,e.getTheme().get(this.subType)),rl.merge(t,this.getDefaultOption()),Ip.defaultEmphasis(t.label,[&quot;show&quot;]),this.fillDataTextStyle(t.data),i&amp;&amp;kf(t,n,i)},mergeOption:function(t,e){t=rl.merge(this.option,t,!0),this.fillDataTextStyle(t.data);var i=this.layoutMode;i&amp;&amp;kf(this.option,t,i);var n=this.getInitialData(t,e);n&amp;&amp;(Lf(this,&quot;data&quot;,n),Lf(this,&quot;dataBeforeProcessed&quot;,n.cloneShallow()))},fillDataTextStyle:function(t){if(t)for(var e=[&quot;show&quot;],i=0;i&lt;t.length;i++)t[i]&amp;&amp;t[i].label&amp;&amp;Ip.defaultEmphasis(t[i].label,e)},getInitialData:function(){},getData:function(t){var e=Df(this,&quot;data&quot;);return null==t?e:e.getLinkedData(t)},setData:function(t){Lf(this,&quot;data&quot;,t)},getRawData:function(){return Df(this,&quot;dataBeforeProcessed&quot;)},coordDimToDataDim:function(t){return Ip.coordDimToDataDim(this.getData(),t)},dataDimToCoordDim:function(t){return Ip.dataDimToCoordDim(this.getData(),t)},getBaseAxis:function(){var t=this.coordinateSystem;return t&amp;&amp;t.getBaseAxis&amp;&amp;t.getBaseAxis()},formatTooltip:function(t,e,i){var n=Df(this,&quot;data&quot;),a=this.getRawValue(t),o=rl.isArray(a)?function(i){function a(t,i){var a=n.getDimensionInfo(i);if(a&amp;&amp;!1!==a.otherDims.tooltip){var s=a.type,l=(o?&quot;- &quot;+(a.tooltipName||a.name)+&quot;: &quot;:&quot;&quot;)+(&quot;ordinal&quot;===s?t+&quot;&quot;:&quot;time&quot;===s?e?&quot;&quot;:If(&quot;yyyy/MM/dd hh:mm:ss&quot;,t):Af(t));l&amp;&amp;r.push(Tf(l))}}var o=rl.reduce(i,function(t,e,i){var a=n.getDimensionInfo(i);return t|=a&amp;&amp;!1!==a.tooltip&amp;&amp;null!=a.tooltipName},0),r=[],s=Ip.otherDimToDataDim(n,&quot;tooltip&quot;);return s.length?rl.each(s,function(e){a(n.get(e,t),e)}):rl.each(i,a),(o?&quot;&lt;br/&gt;&quot;:&quot;&quot;)+r.join(o?&quot;&lt;br/&gt;&quot;:&quot;, &quot;)}(a):Tf(Af(a)),r=n.getName(t),s=n.getItemVisual(t,&quot;color&quot;);rl.isObject(s)&amp;&amp;s.colorStops&amp;&amp;(s=(s.colorStops[0]||{}).color);var l=Cf(s=s||&quot;transparent&quot;),h=this.name;return&quot;\0-&quot;===h&amp;&amp;(h=&quot;&quot;),h=h?Tf(h)+(e?&quot;: &quot;:&quot;&lt;br/&gt;&quot;):&quot;&quot;,e?l+h+o:h+l+(r?Tf(r)+&quot;: &quot;+o:o)},isAnimationEnabled:function(){if(Us.node)return!1;var t=this.getShallow(&quot;animation&quot;);return t&amp;&amp;this.getData().count()&gt;this.getShallow(&quot;animationThreshold&quot;)&amp;&amp;(t=!1),t},restoreData:function(){Lf(this,&quot;data&quot;,Df(this,&quot;dataBeforeProcessed&quot;).cloneShallow())},getColorFromPalette:function(t,e){var i=this.ecModel,n=Up.getColorFromPalette.call(this,t,e);return n||(n=i.getColorFromPalette(t,e)),n},getAxisTooltipData:null,getTooltipPosition:null});rl.mixin(Of,Ip.dataFormatMixin),rl.mixin(Of,Up);var zf=Of,Ef=function(){this.group=new sh,this.uid=Lp.getUID(&quot;viewComponent&quot;)},Rf=Ef.prototype={constructor:Ef,init:function(t,e){},render:function(t,e,i,n){},dispose:function(){}};Rf.updateView=Rf.updateLayout=Rf.updateVisual=function(t,e,i,n){},Bu.enableClassExtend(Ef),Bu.enableClassManagement(Ef,{registerWhenExtend:!0});var Nf=Ef,Vf=De.prototype={type:&quot;chart&quot;,init:function(t,e){},render:function(t,e,i,n){},highlight:function(t,e,i,n){ke(t.getData(),n,&quot;emphasis&quot;)},downplay:function(t,e,i,n){ke(t.getData(),n,&quot;normal&quot;)},remove:function(t,e){this.group.removeAll()},dispose:function(){}};Vf.updateView=Vf.updateLayout=Vf.updateVisual=function(t,e,i,n){this.render(t,e,i,n)},Bu.enableClassExtend(De,[&quot;dispose&quot;]),Bu.enableClassManagement(De,{registerWhenExtend:!0});var Bf=De,Gf=&quot;\0__throttleOriginMethod&quot;,Hf=&quot;\0__throttleRate&quot;,Wf=&quot;\0__throttleType&quot;,Ff={throttle:Oe,createOrUpdate:function(t,e,i,n){var a=t[e];if(a){var o=a[Gf]||a,r=a[Wf];if(a[Hf]!==i||r!==n){if(null==i||!n)return t[e]=o;(a=t[e]=Oe(o,i,&quot;debounce&quot;===n))[Gf]=o,a[Wf]=n,a[Hf]=i}return a}},clear:function(t,e){var i=t[e];i&amp;&amp;i[Gf]&amp;&amp;(t[e]=i[Gf])}},Zf=function(t){t.eachRawSeries(function(e){var i=(e.visualColorAccessPath||&quot;itemStyle.normal.color&quot;).split(&quot;.&quot;),n=e.getData(),a=e.get(i)||e.getColorFromPalette(e.get(&quot;name&quot;));n.setVisual(&quot;color&quot;,a),t.isSeriesFiltered(e)||(&quot;function&quot;!=typeof a||a instanceof Zd||n.each(function(t){n.setItemVisual(t,&quot;color&quot;,a(e.getDataParams(t)))}),n.each(function(t){var e=n.getItemModel(t).get(i,!0);null!=e&amp;&amp;n.setItemVisual(t,&quot;color&quot;,e)}))})},jf=Math.PI,Uf=function(t,e){e=e||{},rl.defaults(e,{text:&quot;loading&quot;,color:&quot;#c23531&quot;,textColor:&quot;#000&quot;,maskColor:&quot;rgba(255, 255, 255, 0.8)&quot;,zlevel:0});var i=new fp.Rect({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4}),n=new fp.Arc({shape:{startAngle:-jf/2,endAngle:-jf/2+.1,r:10},style:{stroke:e.color,lineCap:&quot;round&quot;,lineWidth:5},zlevel:e.zlevel,z:10001}),a=new fp.Rect({style:{fill:&quot;none&quot;,text:e.text,textPosition:&quot;right&quot;,textDistance:10,textFill:e.textColor},zlevel:e.zlevel,z:10001});n.animateShape(!0).when(1e3,{endAngle:3*jf/2}).start(&quot;circularInOut&quot;),n.animateShape(!0).when(1e3,{startAngle:3*jf/2}).delay(300).start(&quot;circularInOut&quot;);var o=new fp.Group;return o.add(n),o.add(a),o.add(i),o.resize=function(){var e=t.getWidth()/2,o=t.getHeight()/2;n.setShape({cx:e,cy:o});var r=n.shape.r;a.setShape({x:e-r,y:o-r,width:2*r,height:2*r}),i.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},o.resize(),o};Ee.prototype={constructor:Ee,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t=this._old,e=this._new,i={},n=[],a=[];for(Re(t,{},n,&quot;_oldKeyGetter&quot;,this),Re(e,i,a,&quot;_newKeyGetter&quot;,this),o=0;o&lt;t.length;o++){if(null!=(s=i[r=n[o]])){(h=s.length)?(1===h&amp;&amp;(i[r]=null),s=s.unshift()):i[r]=null,this._update&amp;&amp;this._update(s,o)}else this._remove&amp;&amp;this._remove(o)}for(var o=0;o&lt;a.length;o++){var r=a[o];if(i.hasOwnProperty(r)){var s=i[r];if(null==s)continue;if(s.length)for(var l=0,h=s.length;l&lt;h;l++)this._add&amp;&amp;this._add(s[l]);else this._add&amp;&amp;this._add(s)}}}};var qf=Ee,Xf=rl.isObject,Yf=&quot;undefined&quot;==typeof window?Ws:window,$f={float:void 0===Yf.Float64Array?Array:Yf.Float64Array,int:void 0===Yf.Int32Array?Array:Yf.Int32Array,ordinal:Array,number:Array,time:Array},Kf=[&quot;stackedOn&quot;,&quot;hasItemOption&quot;,&quot;_nameList&quot;,&quot;_idList&quot;,&quot;_rawData&quot;];Ve.prototype.pure=!1,Ve.prototype.count=function(){return this._array.length},Ve.prototype.getItem=function(t){return this._array[t]};var Jf=function(t,e){t=t||[&quot;x&quot;,&quot;y&quot;];for(var i={},n=[],a=0;a&lt;t.length;a++){var o,r={};&quot;string&quot;==typeof t[a]?r={name:o=t[a],coordDim:o,coordDimIndex:0,stackable:!1,type:&quot;number&quot;}:(o=(r=t[a]).name,r.type=r.type||&quot;number&quot;,r.coordDim||(r.coordDim=o,r.coordDimIndex=0)),r.otherDims=r.otherDims||{},n.push(o),i[o]=r}this.dimensions=n,this._dimensionInfos=i,this.hostModel=e,this.dataType,this.indices=[],this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this.stackedOn=null,this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._rawData,this._extent},Qf=Jf.prototype;Qf.type=&quot;list&quot;,Qf.hasItemOption=!0,Qf.getDimension=function(t){return isNaN(t)||(t=this.dimensions[t]||t),t},Qf.getDimensionInfo=function(t){return rl.clone(this._dimensionInfos[this.getDimension(t)])},Qf.initData=function(t,e,i){t=t||[];rl.isArray(t)&amp;&amp;(t=new Ve(t)),this._rawData=t;var n,a=this._storage={},o=this.indices=[],r=this.dimensions,s=this._dimensionInfos,l=t.count(),h=[],u={};e=e||[];for(v=0;v&lt;r.length;v++){var c=s[r[v]];0===c.otherDims.itemName&amp;&amp;(n=v);var d=$f[c.type];a[r[v]]=new d(l)}var p=this;i||(p.hasItemOption=!1),i=i||function(t,e,i,n){var a=Ip.getDataItemValue(t);return Ip.isDataItemOption(t)&amp;&amp;(p.hasItemOption=!0),Ip.converDataValue(a instanceof Array?a[n]:a,s[e])};for(v=0;v&lt;l;v++){for(var f=t.getItem(v),g=0;g&lt;r.length;g++){var m=r[g];a[m][v]=i(f,m,v,g)}o.push(v)}for(var v=0;v&lt;l;v++){f=t.getItem(v);!e[v]&amp;&amp;f&amp;&amp;(null!=f.name?e[v]=f.name:null!=n&amp;&amp;(e[v]=a[r[n]][v]));var y=e[v]||&quot;&quot;,x=f&amp;&amp;f.id;!x&amp;&amp;y&amp;&amp;(u[y]=u[y]||0,x=y,u[y]&gt;0&amp;&amp;(x+=&quot;__ec__&quot;+u[y]),u[y]++),x&amp;&amp;(h[v]=x)}this._nameList=e,this._idList=h},Qf.count=function(){return this.indices.length},Qf.get=function(t,e,i){var n=this._storage,a=this.indices[e];if(null==a||!n[t])return NaN;var o=n[t][a];if(i){var r=this._dimensionInfos[t];if(r&amp;&amp;r.stackable)for(var s=this.stackedOn;s;){var l=s.get(t,e);(o&gt;=0&amp;&amp;l&gt;0||o&lt;=0&amp;&amp;l&lt;0)&amp;&amp;(o+=l),s=s.stackedOn}}return o},Qf.getValues=function(t,e,i){var n=[];rl.isArray(t)||(i=e,e=t,t=this.dimensions);for(var a=0,o=t.length;a&lt;o;a++)n.push(this.get(t[a],e,i));return n},Qf.hasValue=function(t){for(var e=this.dimensions,i=this._dimensionInfos,n=0,a=e.length;n&lt;a;n++)if(&quot;ordinal&quot;!==i[e[n]].type&amp;&amp;isNaN(this.get(e[n],t)))return!1;return!0},Qf.getDataExtent=function(t,e,i){t=this.getDimension(t);var n=this._storage[t],a=this.getDimensionInfo(t);e=a&amp;&amp;a.stackable&amp;&amp;e;var o,r=(this._extent||(this._extent={}))[t+!!e];if(r)return r;if(n){for(var s=1/0,l=-1/0,h=0,u=this.count();h&lt;u;h++)o=this.get(t,h,e),i&amp;&amp;!i(o,t,h)||(o&lt;s&amp;&amp;(s=o),o&gt;l&amp;&amp;(l=o));return this._extent[t+!!e]=[s,l]}return[1/0,-1/0]},Qf.getSum=function(t,e){var i=0;if(this._storage[t])for(var n=0,a=this.count();n&lt;a;n++){var o=this.get(t,n,e);isNaN(o)||(i+=o)}return i},Qf.indexOf=function(t,e){var i=this._storage[t],n=this.indices;if(i)for(var a=0,o=n.length;a&lt;o;a++){if(i[n[a]]===e)return a}return-1},Qf.indexOfName=function(t){for(var e=this.indices,i=this._nameList,n=0,a=e.length;n&lt;a;n++){if(i[e[n]]===t)return n}return-1},Qf.indexOfRawIndex=function(t){var e=this.indices,i=e[t];if(null!=i&amp;&amp;i===t)return t;for(var n=0,a=e.length-1;n&lt;=a;){var o=(n+a)/2|0;if(e[o]&lt;t)n=o+1;else{if(!(e[o]&gt;t))return o;a=o-1}}return-1},Qf.indicesOfNearest=function(t,e,i,n){var a=[];if(!this._storage[t])return a;null==n&amp;&amp;(n=1/0);for(var o=Number.MAX_VALUE,r=-1,s=0,l=this.count();s&lt;l;s++){var h=e-this.get(t,s,i),u=Math.abs(h);h&lt;=n&amp;&amp;u&lt;=o&amp;&amp;((u&lt;o||h&gt;=0&amp;&amp;r&lt;0)&amp;&amp;(o=u,r=h,a.length=0),a.push(s))}return a},Qf.getRawIndex=function(t){var e=this.indices[t];return null==e?-1:e},Qf.getRawDataItem=function(t){return this._rawData.getItem(this.getRawIndex(t))},Qf.getName=function(t){return this._nameList[this.indices[t]]||&quot;&quot;},Qf.getId=function(t){return this._idList[this.indices[t]]||this.getRawIndex(t)+&quot;&quot;},Qf.each=function(t,e,i,n){&quot;function&quot;==typeof t&amp;&amp;(n=i,i=e,e=t,t=[]);var a=[],o=(t=rl.map(Be(t),this.getDimension,this)).length,r=this.indices;n=n||this;for(var s=0;s&lt;r.length;s++)switch(o){case 0:e.call(n,s);break;case 1:e.call(n,this.get(t[0],s,i),s);break;case 2:e.call(n,this.get(t[0],s,i),this.get(t[1],s,i),s);break;default:for(var l=0;l&lt;o;l++)a[l]=this.get(t[l],s,i);a[l]=s,e.apply(n,a)}},Qf.filterSelf=function(t,e,i,n){&quot;function&quot;==typeof t&amp;&amp;(n=i,i=e,e=t,t=[]);var a=[],o=[],r=(t=rl.map(Be(t),this.getDimension,this)).length,s=this.indices;n=n||this;for(var l=0;l&lt;s.length;l++){var h;if(r)if(1===r)h=e.call(n,this.get(t[0],l,i),l);else{for(var u=0;u&lt;r;u++)o[u]=this.get(t[u],l,i);o[u]=l,h=e.apply(n,o)}else h=e.call(n,l);h&amp;&amp;a.push(s[l])}return this.indices=a,this._extent={},this},Qf.mapArray=function(t,e,i,n){&quot;function&quot;==typeof t&amp;&amp;(n=i,i=e,e=t,t=[]);var a=[];return this.each(t,function(){a.push(e&amp;&amp;e.apply(this,arguments))},i,n),a},Qf.map=function(t,e,i,n){var a=Ge(this,t=rl.map(Be(t),this.getDimension,this)),o=a.indices=this.indices,r=a._storage,s=[];return this.each(t,function(){var i=arguments[arguments.length-1],n=e&amp;&amp;e.apply(this,arguments);if(null!=n){&quot;number&quot;==typeof n&amp;&amp;(s[0]=n,n=s);for(var a=0;a&lt;n.length;a++){var l=t[a],h=r[l],u=o[i];h&amp;&amp;(h[u]=n[a])}}},i,n),a},Qf.downSample=function(t,e,i,n){for(var a=Ge(this,[t]),o=this._storage,r=a._storage,s=this.indices,l=a.indices=[],h=[],u=[],c=Math.floor(1/e),d=r[t],p=this.count(),f=0;f&lt;o[t].length;f++)r[t][f]=o[t][f];for(f=0;f&lt;p;f+=c){c&gt;p-f&amp;&amp;(c=p-f,h.length=c);for(var g=0;g&lt;c;g++){m=s[f+g];h[g]=d[m],u[g]=m}var m,v=i(h);d[m=u[n(h,v)||0]]=v,l.push(m)}return a},Qf.getItemModel=function(t){var e=this.hostModel;return t=this.indices[t],new _p(this._rawData.getItem(t),e,e&amp;&amp;e.ecModel)},Qf.diff=function(t){var e,i=this._idList,n=t&amp;&amp;t._idList;return new qf(t?t.indices:[],this.indices,function(t){return null!=(e=n[t])?e:&quot;e\0\0&quot;+t},function(t){return null!=(e=i[t])?e:&quot;e\0\0&quot;+t})},Qf.getVisual=function(t){var e=this._visual;return e&amp;&amp;e[t]},Qf.setVisual=function(t,e){if(Xf(t))for(var i in t)t.hasOwnProperty(i)&amp;&amp;this.setVisual(i,t[i]);else this._visual=this._visual||{},this._visual[t]=e},Qf.setLayout=function(t,e){if(Xf(t))for(var i in t)t.hasOwnProperty(i)&amp;&amp;this.setLayout(i,t[i]);else this._layout[t]=e},Qf.getLayout=function(t){return this._layout[t]},Qf.getItemLayout=function(t){return this._itemLayouts[t]},Qf.setItemLayout=function(t,e,i){this._itemLayouts[t]=i?rl.extend(this._itemLayouts[t]||{},e):e},Qf.clearItemLayouts=function(){this._itemLayouts.length=0},Qf.getItemVisual=function(t,e,i){var n=this._itemVisuals[t],a=n&amp;&amp;n[e];return null!=a||i?a:this.getVisual(e)},Qf.setItemVisual=function(t,e,i){var n=this._itemVisuals[t]||{};if(this._itemVisuals[t]=n,Xf(e))for(var a in e)e.hasOwnProperty(a)&amp;&amp;(n[a]=e[a]);else n[e]=i},Qf.clearAllVisual=function(){this._visual={},this._itemVisuals=[]};Qf.setItemGraphicEl=function(t,e){var i=this.hostModel;e&amp;&amp;(e.dataIndex=t,e.dataType=this.dataType,e.seriesIndex=i&amp;&amp;i.seriesIndex,&quot;group&quot;===e.type&amp;&amp;e.traverse(function(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType},e)),this._graphicEls[t]=e},Qf.getItemGraphicEl=function(t){return this._graphicEls[t]},Qf.eachItemGraphicEl=function(t,e){rl.each(this._graphicEls,function(i,n){i&amp;&amp;t&amp;&amp;t.call(e,i,n)})},Qf.cloneShallow=function(){var t=rl.map(this.dimensions,this.getDimensionInfo,this),e=new Jf(t,this.hostModel);return e._storage=this._storage,Ne(e,this),e.indices=this.indices.slice(),this._extent&amp;&amp;(e._extent=rl.extend({},this._extent)),e},Qf.wrapMethod=function(t,e){var i=this[t];&quot;function&quot;==typeof i&amp;&amp;(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=i.apply(this,arguments);return e.apply(this,[t].concat(rl.slice(arguments)))})},Qf.TRANSFERABLE_METHODS=[&quot;cloneShallow&quot;,&quot;downSample&quot;,&quot;map&quot;],Qf.CHANGABLE_METHODS=[&quot;filterSelf&quot;];var tg=Jf,eg=Ip.normalizeToArray,ig=rl.each,ng=rl.isString,ag=rl.defaults,og={tooltip:1,label:1,itemName:1},rg=He.guessOrdinal=function(t,e){for(var i=0,n=t.length;i&lt;n;i++){a=We(t[i]);if(!rl.isArray(a))return!1;var a;if(null!=(a=a[e])&amp;&amp;isFinite(a)&amp;&amp;&quot;&quot;!==a)return!1;if(ng(a)&amp;&amp;&quot;-&quot;!==a)return!0}return!1},sg=He,lg=Ip.getDataItemValue,hg=Ip.converDataValue,ug=Ip.isDataItemOption,cg={cartesian2d:function(t,e,i,n){var a=rl.map([&quot;xAxis&quot;,&quot;yAxis&quot;],function(t){return i.queryComponents({mainType:t,index:e.get(t+&quot;Index&quot;),id:e.get(t+&quot;Id&quot;)})[0]}),o=a[0],r=a[1],s=o.get(&quot;type&quot;),l=r.get(&quot;type&quot;),h=[{name:&quot;x&quot;,type:Ze(s),stackable:Fe(s)},{name:&quot;y&quot;,type:Ze(l),stackable:Fe(l)}],u=&quot;category&quot;===s,c=&quot;category&quot;===l;h=sg(h,t,n);var d={};return u&amp;&amp;(d.x=o),c&amp;&amp;(d.y=r),{dimensions:h,categoryIndex:u?0:c?1:-1,categoryAxesModels:d}},singleAxis:function(t,e,i,n){var a=i.queryComponents({mainType:&quot;singleAxis&quot;,index:e.get(&quot;singleAxisIndex&quot;),id:e.get(&quot;singleAxisId&quot;)})[0],o=a.get(&quot;type&quot;),r=&quot;category&quot;===o,s=[{name:&quot;single&quot;,type:Ze(o),stackable:Fe(o)}];s=sg(s,t,n);var l={};return r&amp;&amp;(l.single=a),{dimensions:s,categoryIndex:r?0:-1,categoryAxesModels:l}},polar:function(t,e,i,n){var a=i.queryComponents({mainType:&quot;polar&quot;,index:e.get(&quot;polarIndex&quot;),id:e.get(&quot;polarId&quot;)})[0],o=a.findAxisModel(&quot;angleAxis&quot;),r=a.findAxisModel(&quot;radiusAxis&quot;),s=r.get(&quot;type&quot;),l=o.get(&quot;type&quot;),h=[{name:&quot;radius&quot;,type:Ze(s),stackable:Fe(s)},{name:&quot;angle&quot;,type:Ze(l),stackable:Fe(l)}],u=&quot;category&quot;===l,c=&quot;category&quot;===s;h=sg(h,t,n);var d={};return c&amp;&amp;(d.radius=r),u&amp;&amp;(d.angle=o),{dimensions:h,categoryIndex:u?1:c?0:-1,categoryAxesModels:d}},geo:function(t,e,i,n){return{dimensions:sg([{name:&quot;lng&quot;},{name:&quot;lat&quot;}],t,n)}}},dg=function(t,e,i){t=t||[];var n=e.get(&quot;coordinateSystem&quot;),a=cg[n],o=rf.get(n),r={encodeDef:e.get(&quot;encode&quot;),dimsDef:e.get(&quot;dimensions&quot;)},s=a&amp;&amp;a(t,e,i,r),l=s&amp;&amp;s.dimensions;l||(l=o&amp;&amp;(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||[&quot;x&quot;,&quot;y&quot;],l=sg(l,t,r));var h=s?s.categoryIndex:-1,u=new tg(l,e),c=function(t,e){var i,n=[],a=t&amp;&amp;t.dimensions[t.categoryIndex];if(a&amp;&amp;(i=t.categoryAxesModels[a.name]),i){var o=i.getCategories();if(o){var r=e.length;if(rl.isArray(e[0])&amp;&amp;e[0].length&gt;1){n=[];for(var s=0;s&lt;r;s++)n[s]=o[e[s][t.categoryIndex||0]]}else n=o.slice(0)}}return n}(s,t),d={},p=h&gt;=0&amp;&amp;function(t){var e=function(t){for(var e=0;e&lt;t.length&amp;&amp;null==t[e];)e++;return t[e]}(t);return null!=e&amp;&amp;!rl.isArray(lg(e))}(t)?function(t,e,i,n){return ug(t)&amp;&amp;(u.hasItemOption=!0),n===h?i:hg(lg(t),l[n])}:function(t,e,i,n){var a=lg(t),o=hg(a&amp;&amp;a[n],l[n]);ug(t)&amp;&amp;(u.hasItemOption=!0);var r=s&amp;&amp;s.categoryAxesModels;return r&amp;&amp;r[e]&amp;&amp;&quot;string&quot;==typeof o&amp;&amp;(d[e]=d[e]||r[e].getCategories(),(o=rl.indexOf(d[e],o))&lt;0&amp;&amp;!isNaN(o)&amp;&amp;(o=+o)),o};return u.hasItemOption=!1,u.initData(t,c,p),u};je.prototype.parse=function(t){return t},je.prototype.getSetting=function(t){return this._setting[t]},je.prototype.contain=function(t){var e=this._extent;return t&gt;=e[0]&amp;&amp;t&lt;=e[1]},je.prototype.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},je.prototype.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},je.prototype.unionExtent=function(t){var e=this._extent;t[0]&lt;e[0]&amp;&amp;(e[0]=t[0]),t[1]&gt;e[1]&amp;&amp;(e[1]=t[1])},je.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getDataExtent(e,!0))},je.prototype.getExtent=function(){return this._extent.slice()},je.prototype.setExtent=function(t,e){var i=this._extent;isNaN(t)||(i[0]=t),isNaN(e)||(i[1]=e)},je.prototype.getTicksLabels=function(){for(var t=[],e=this.getTicks(),i=0;i&lt;e.length;i++)t.push(this.getLabel(e[i]));return t},je.prototype.isBlank=function(){return this._isBlank},je.prototype.setBlank=function(t){this._isBlank=t},Bu.enableClassExtend(je),Bu.enableClassManagement(je,{registerWhenExtend:!0});var pg=je,fg=pg.prototype,gg=pg.extend({type:&quot;ordinal&quot;,init:function(t,e){this._data=t,this._extent=e||[0,t.length-1]},parse:function(t){return&quot;string&quot;==typeof t?rl.indexOf(this._data,t):Math.round(t)},contain:function(t){return t=this.parse(t),fg.contain.call(this,t)&amp;&amp;null!=this._data[t]},normalize:function(t){return fg.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(fg.scale.call(this,t))},getTicks:function(){for(var t=[],e=this._extent,i=e[0];i&lt;=e[1];)t.push(i),i++;return t},getLabel:function(t){return this._data[t]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(t,e){this.unionExtent(t.getDataExtent(e,!1))},niceTicks:rl.noop,niceExtent:rl.noop});gg.create=function(){return new gg};var mg=gg,vg=Pu.round,yg={intervalScaleNiceTicks:function(t,e,i,n){var a={},o=t[1]-t[0],r=a.interval=Pu.nice(o/e,!0);null!=i&amp;&amp;r&lt;i&amp;&amp;(r=a.interval=i),null!=n&amp;&amp;r&gt;n&amp;&amp;(r=a.interval=n);var s=a.intervalPrecision=Ue(r);return Xe(a.niceTickExtent=[vg(Math.ceil(t[0]/r)*r,s),vg(Math.floor(t[1]/r)*r,s)],t),a},getIntervalPrecision:Ue,fixExtent:Xe,intervalScaleGetTicks:function(t,e,i,n){var a=[];if(!t)return a;e[0]&lt;i[0]&amp;&amp;a.push(e[0]);for(var o=i[0];o&lt;=i[1]&amp;&amp;(a.push(o),(o=vg(o+t,n))!==a[a.length-1]);)if(a.length&gt;1e4)return[];return e[1]&gt;(a.length?a[a.length-1]:i[1])&amp;&amp;a.push(e[1]),a}},xg=Pu.round,_g=pg.extend({type:&quot;interval&quot;,_interval:0,_intervalPrecision:2,setExtent:function(t,e){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(e)||(i[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]&lt;e[0]&amp;&amp;(e[0]=t[0]),t[1]&gt;e[1]&amp;&amp;(e[1]=t[1]),_g.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=yg.getIntervalPrecision(t)},getTicks:function(){return yg.intervalScaleGetTicks(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getTicksLabels:function(){for(var t=[],e=this.getTicks(),i=0;i&lt;e.length;i++)t.push(this.getLabel(e[i]));return t},getLabel:function(t,e){if(null==t)return&quot;&quot;;var i=e&amp;&amp;e.precision;return null==i?i=Pu.getPrecisionSafe(t)||0:&quot;auto&quot;===i&amp;&amp;(i=this._intervalPrecision),t=xg(t,i,!0),Eu.addCommas(t)},niceTicks:function(t,e,i){t=t||5;var n=this._extent,a=n[1]-n[0];if(isFinite(a)){a&lt;0&amp;&amp;(a=-a,n.reverse());var o=yg.intervalScaleNiceTicks(n,t,e,i);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},niceExtent:function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var i=e[0];t.fixMax?e[0]-=i/2:(e[1]+=i/2,e[0]-=i/2)}else e[1]=1;var n=e[1]-e[0];isFinite(n)||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var a=this._interval;t.fixMin||(e[0]=xg(Math.floor(e[0]/a)*a)),t.fixMax||(e[1]=xg(Math.ceil(e[1]/a)*a))}});_g.create=function(){return new _g};var bg=_g,wg=bg.prototype,Sg=Math.ceil,Mg=Math.floor,Ig=bg.extend({type:&quot;time&quot;,getLabel:function(t){var e=this._stepLvl,i=new Date(t);return Eu.formatTime(e[0],i,this.getSetting(&quot;useUTC&quot;))},niceExtent:function(t){var e=this._extent;if(e[0]===e[1]&amp;&amp;(e[0]-=864e5,e[1]+=864e5),e[1]===-1/0&amp;&amp;e[0]===1/0){var i=new Date;e[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),e[0]=e[1]-864e5}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var n=this._interval;t.fixMin||(e[0]=Pu.round(Mg(e[0]/n)*n)),t.fixMax||(e[1]=Pu.round(Sg(e[1]/n)*n))},niceTicks:function(t,e,i){t=t||10;var n=this._extent,a=n[1]-n[0],o=a/t;null!=e&amp;&amp;o&lt;e&amp;&amp;(o=e),null!=i&amp;&amp;o&gt;i&amp;&amp;(o=i);var r=Tg.length,s=function(t,e,i,n){for(;i&lt;n;){var a=i+n&gt;&gt;&gt;1;t[a][1]&lt;e?i=a+1:n=a}return i}(Tg,o,0,r),l=Tg[Math.min(s,r-1)],h=l[1];if(&quot;year&quot;===l[0]){var u=a/h;h*=Pu.nice(u/t,!0)}var c=this.getSetting(&quot;useUTC&quot;)?0:60*new Date(+n[0]||+n[1]).getTimezoneOffset()*1e3,d=[Math.round(Sg((n[0]-c)/h)*h+c),Math.round(Mg((n[1]-c)/h)*h+c)];yg.fixExtent(d,n),this._stepLvl=l,this._interval=h,this._niceExtent=d},parse:function(t){return+Pu.parseDate(t)}});rl.each([&quot;contain&quot;,&quot;normalize&quot;],function(t){Ig.prototype[t]=function(e){return wg[t].call(this,this.parse(e))}});var Tg=[[&quot;hh:mm:ss&quot;,1e3],[&quot;hh:mm:ss&quot;,5e3],[&quot;hh:mm:ss&quot;,1e4],[&quot;hh:mm:ss&quot;,15e3],[&quot;hh:mm:ss&quot;,3e4],[&quot;hh:mm\nMM-dd&quot;,6e4],[&quot;hh:mm\nMM-dd&quot;,3e5],[&quot;hh:mm\nMM-dd&quot;,6e5],[&quot;hh:mm\nMM-dd&quot;,9e5],[&quot;hh:mm\nMM-dd&quot;,18e5],[&quot;hh:mm\nMM-dd&quot;,36e5],[&quot;hh:mm\nMM-dd&quot;,72e5],[&quot;hh:mm\nMM-dd&quot;,216e5],[&quot;hh:mm\nMM-dd&quot;,432e5],[&quot;MM-dd\nyyyy&quot;,864e5],[&quot;MM-dd\nyyyy&quot;,1728e5],[&quot;MM-dd\nyyyy&quot;,2592e5],[&quot;MM-dd\nyyyy&quot;,3456e5],[&quot;MM-dd\nyyyy&quot;,432e6],[&quot;MM-dd\nyyyy&quot;,5184e5],[&quot;week&quot;,6048e5],[&quot;MM-dd\nyyyy&quot;,864e6],[&quot;week&quot;,12096e5],[&quot;week&quot;,18144e5],[&quot;month&quot;,26784e5],[&quot;week&quot;,36288e5],[&quot;month&quot;,53568e5],[&quot;week&quot;,36288e5],[&quot;quarter&quot;,8208e6],[&quot;month&quot;,107136e5],[&quot;month&quot;,13392e6],[&quot;half-year&quot;,16416e6],[&quot;month&quot;,214272e5],[&quot;month&quot;,26784e6],[&quot;year&quot;,32832e6]];Ig.create=function(t){return new Ig({useUTC:t.ecModel.get(&quot;useUTC&quot;)})};var Ag=pg.prototype,Cg=bg.prototype,Lg=Pu.getPrecisionSafe,Dg=Pu.round,Pg=Math.floor,kg=Math.ceil,Og=Math.pow,zg=Math.log,Eg=pg.extend({type:&quot;log&quot;,base:10,$constructor:function(){pg.apply(this,arguments),this._originalScale=new bg},getTicks:function(){var t=this._originalScale,e=this._extent,i=t.getExtent();return rl.map(Cg.getTicks.call(this),function(n){var a=Pu.round(Og(this.base,n));return a=n===e[0]&amp;&amp;t.__fixMin?Ye(a,i[0]):a,a=n===e[1]&amp;&amp;t.__fixMax?Ye(a,i[1]):a},this)},getLabel:Cg.getLabel,scale:function(t){return t=Ag.scale.call(this,t),Og(this.base,t)},setExtent:function(t,e){var i=this.base;t=zg(t)/zg(i),e=zg(e)/zg(i),Cg.setExtent.call(this,t,e)},getExtent:function(){var t=this.base,e=Ag.getExtent.call(this);e[0]=Og(t,e[0]),e[1]=Og(t,e[1]);var i=this._originalScale,n=i.getExtent();return i.__fixMin&amp;&amp;(e[0]=Ye(e[0],n[0])),i.__fixMax&amp;&amp;(e[1]=Ye(e[1],n[1])),e},unionExtent:function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=zg(t[0])/zg(e),t[1]=zg(t[1])/zg(e),Ag.unionExtent.call(this,t)},unionExtentFromData:function(t,e){this.unionExtent(t.getDataExtent(e,!0,function(t){return t&gt;0}))},niceTicks:function(t){t=t||10;var e=this._extent,i=e[1]-e[0];if(!(i===1/0||i&lt;=0)){var n=Pu.quantity(i);for(t/i*n&lt;=.5&amp;&amp;(n*=10);!isNaN(n)&amp;&amp;Math.abs(n)&lt;1&amp;&amp;Math.abs(n)&gt;0;)n*=10;var a=[Pu.round(kg(e[0]/n)*n),Pu.round(Pg(e[1]/n)*n)];this._interval=n,this._niceExtent=a}},niceExtent:function(t){Cg.niceExtent.call(this,t);var e=this._originalScale;e.__fixMin=t.fixMin,e.__fixMax=t.fixMax}});rl.each([&quot;contain&quot;,&quot;normalize&quot;],function(t){Eg.prototype[t]=function(e){return e=zg(e)/zg(this.base),Ag[t].call(this,e)}}),Eg.create=function(){return new Eg};var Rg={getScaleExtent:$e,niceScaleExtent:function(t,e){var i=$e(t,e),n=null!=e.getMin(),a=null!=e.getMax(),o=e.get(&quot;splitNumber&quot;);&quot;log&quot;===t.type&amp;&amp;(t.base=e.get(&quot;logBase&quot;));var r=t.type;t.setExtent(i[0],i[1]),t.niceExtent({splitNumber:o,fixMin:n,fixMax:a,minInterval:&quot;interval&quot;===r||&quot;time&quot;===r?e.get(&quot;minInterval&quot;):null,maxInterval:&quot;interval&quot;===r||&quot;time&quot;===r?e.get(&quot;maxInterval&quot;):null});var s=e.get(&quot;interval&quot;);null!=s&amp;&amp;t.setInterval&amp;&amp;t.setInterval(s)},createScaleByModel:function(t,e){if(e=e||t.get(&quot;type&quot;))switch(e){case&quot;category&quot;:return new mg(t.getCategories(),[1/0,-1/0]);case&quot;value&quot;:return new bg;default:return(pg.getClass(e)||bg).create(t)}},ifAxisCrossZero:function(t){var e=t.scale.getExtent(),i=e[0],n=e[1];return!(i&gt;0&amp;&amp;n&gt;0||i&lt;0&amp;&amp;n&lt;0)},getAxisLabelInterval:function(t,e,i,n,a){var o,r=0,s=0,l=(n-a)/180*Math.PI,h=1;e.length&gt;40&amp;&amp;(h=Math.floor(e.length/40));for(var u=0;u&lt;t.length;u+=h){var c=t[u],d=Nh.getBoundingRect(e[u],i,&quot;center&quot;,&quot;top&quot;);d.x+=c*Math.cos(l),d.y+=c*Math.sin(l),d.width*=1.3,d.height*=1.3,o?o.intersect(d)?(s++,r=Math.max(r,s)):(o.union(d),s=0):o=d.clone()}return 0===r&amp;&amp;h&gt;1?h:(r+1)*h-1},getFormattedLabels:function(t,e){var i=t.scale,n=i.getTicksLabels(),a=i.getTicks();return&quot;string&quot;==typeof e?(e=function(t){return function(e){return t.replace(&quot;{value}&quot;,null!=e?e:&quot;&quot;)}}(e),rl.map(n,e)):&quot;function&quot;==typeof e?rl.map(a,function(i,n){return e(Ke(t,i),n)},this):n},getAxisRawValue:Ke},Ng={getFormattedLabels:function(){return Rg.getFormattedLabels(this.axis,this.get(&quot;axisLabel.formatter&quot;))},getCategories:function(){return&quot;category&quot;===this.get(&quot;type&quot;)&amp;&amp;rl.map(this.get(&quot;data&quot;),function(t){return rl.isObject(t)&amp;&amp;null!=t.value?t.value:t+&quot;&quot;})},getMin:function(t){var e=this.option,i=t||null==e.rangeStart?e.min:e.rangeStart;return this.axis&amp;&amp;null!=i&amp;&amp;&quot;dataMin&quot;!==i&amp;&amp;&quot;function&quot;!=typeof i&amp;&amp;!rl.eqNaN(i)&amp;&amp;(i=this.axis.scale.parse(i)),i},getMax:function(t){var e=this.option,i=t||null==e.rangeEnd?e.max:e.rangeEnd;return this.axis&amp;&amp;null!=i&amp;&amp;&quot;dataMax&quot;!==i&amp;&amp;&quot;function&quot;!=typeof i&amp;&amp;!rl.eqNaN(i)&amp;&amp;(i=this.axis.scale.parse(i)),i},getNeedCrossZero:function(){var t=this.option;return null==t.rangeStart&amp;&amp;null==t.rangeEnd&amp;&amp;!t.scale},getCoordSysModel:rl.noop,setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},Vg=fp.extendShape({type:&quot;triangle&quot;,shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,a=e.width/2,o=e.height/2;t.moveTo(i,n-o),t.lineTo(i+a,n+o),t.lineTo(i-a,n+o),t.closePath()}}),Bg=fp.extendShape({type:&quot;diamond&quot;,shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,a=e.width/2,o=e.height/2;t.moveTo(i,n-o),t.lineTo(i+a,n),t.lineTo(i,n+o),t.lineTo(i-a,n),t.closePath()}}),Gg=fp.extendShape({type:&quot;pin&quot;,shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.x,n=e.y,a=e.width/5*3,o=Math.max(a,e.height),r=a/2,s=r*r/(o-r),l=n-o+r+s,h=Math.asin(s/r),u=Math.cos(h)*r,c=Math.sin(h),d=Math.cos(h),p=.6*r,f=.7*r;t.moveTo(i-u,l+s),t.arc(i,l,r,Math.PI-h,2*Math.PI+h),t.bezierCurveTo(i+u-c*p,l+s+d*p,i,n-f,i,n),t.bezierCurveTo(i,n-f,i-u+c*p,l+s+d*p,i-u,l+s),t.closePath()}}),Hg=fp.extendShape({type:&quot;arrow&quot;,shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.height,n=e.width,a=e.x,o=e.y,r=n/3*2;t.moveTo(a,o),t.lineTo(a+r,o+i),t.lineTo(a,o+i/4*3),t.lineTo(a-r,o+i),t.lineTo(a,o),t.closePath()}}),Wg={line:fp.Line,rect:fp.Rect,roundRect:fp.Rect,square:fp.Rect,circle:fp.Circle,diamond:Bg,pin:Gg,arrow:Hg,triangle:Vg},Fg={line:function(t,e,i,n,a){a.x1=t,a.y1=e+n/2,a.x2=t+i,a.y2=e+n/2},rect:function(t,e,i,n,a){a.x=t,a.y=e,a.width=i,a.height=n},roundRect:function(t,e,i,n,a){a.x=t,a.y=e,a.width=i,a.height=n,a.r=Math.min(i,n)/4},square:function(t,e,i,n,a){var o=Math.min(i,n);a.x=t,a.y=e,a.width=o,a.height=o},circle:function(t,e,i,n,a){a.cx=t+i/2,a.cy=e+n/2,a.r=Math.min(i,n)/2},diamond:function(t,e,i,n,a){a.cx=t+i/2,a.cy=e+n/2,a.width=i,a.height=n},pin:function(t,e,i,n,a){a.x=t+i/2,a.y=e+n/2,a.width=i,a.height=n},arrow:function(t,e,i,n,a){a.x=t+i/2,a.y=e+n/2,a.width=i,a.height=n},triangle:function(t,e,i,n,a){a.cx=t+i/2,a.cy=e+n/2,a.width=i,a.height=n}},Zg={};rl.each(Wg,function(t,e){Zg[e]=new t});var jg=fp.extendShape({type:&quot;symbol&quot;,shape:{symbolType:&quot;&quot;,x:0,y:0,width:0,height:0},beforeBrush:function(){var t=this.style;&quot;pin&quot;===this.shape.symbolType&amp;&amp;&quot;inside&quot;===t.textPosition&amp;&amp;(t.textPosition=[&quot;50%&quot;,&quot;40%&quot;],t.textAlign=&quot;center&quot;,t.textVerticalAlign=&quot;middle&quot;)},buildPath:function(t,e,i){var n=e.symbolType,a=Zg[n];&quot;none&quot;!==e.symbolType&amp;&amp;(a||(a=Zg[n=&quot;rect&quot;]),Fg[n](e.x,e.y,e.width,e.height,a.shape),a.buildPath(t,a.shape,i))}}),Ug={createSymbol:function(t,e,i,n,a,o,r){var s=0===t.indexOf(&quot;empty&quot;);s&amp;&amp;(t=t.substr(5,1).toLowerCase()+t.substr(6));var l;return l=0===t.indexOf(&quot;image://&quot;)?fp.makeImage(t.slice(8),new oh(e,i,n,a),r?&quot;center&quot;:&quot;cover&quot;):0===t.indexOf(&quot;path://&quot;)?fp.makePath(t.slice(7),{},new oh(e,i,n,a),r?&quot;center&quot;:&quot;cover&quot;):new jg({shape:{symbolType:t,x:e,y:i,width:n,height:a}}),l.__isEmptyBrush=s,l.setColor=function(t,e){if(&quot;image&quot;!==this.type){var i=this.style,n=this.shape;n&amp;&amp;&quot;line&quot;===n.symbolType?i.stroke=t:this.__isEmptyBrush?(i.stroke=t,i.fill=e||&quot;#fff&quot;):(i.fill&amp;&amp;(i.fill=t),i.stroke&amp;&amp;(i.stroke=t)),this.dirty(!1)}},l.setColor(o),l}},qg={completeDimensions:sg,createSymbol:Ug.createSymbol,createList:function(t){var e=t.get(&quot;data&quot;);return dg(e,t,t.ecModel)},createScale:function(t,e){var i=e;e instanceof _p||(i=new _p(e),rl.mixin(i,Ng));var n=Rg.createScaleByModel(i);return n.setExtent(t[0],t[1]),Rg.niceScaleExtent(n,i),n},mixinAxisModelCommonMethods:function(t){rl.mixin(t,Ng)}},Xg=Pu.linearMap,Yg=[0,1],$g=function(t,e,i){this.dim=t,this.scale=e,this._extent=i||[0,0],this.inverse=!1,this.onBand=!1,this._labelInterval};$g.prototype={constructor:$g,contain:function(t){var e=this._extent,i=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]);return t&gt;=i&amp;&amp;t&lt;=n},containData:function(t){return this.contain(this.dataToCoord(t))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(t){return Pu.getPixelPrecision(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var i=this._extent;i[0]=t,i[1]=e},dataToCoord:function(t,e){var i=this._extent,n=this.scale;return t=n.normalize(t),this.onBand&amp;&amp;&quot;ordinal&quot;===n.type&amp;&amp;Je(i=i.slice(),n.count()),Xg(t,Yg,i,e)},coordToData:function(t,e){var i=this._extent,n=this.scale;this.onBand&amp;&amp;&quot;ordinal&quot;===n.type&amp;&amp;Je(i=i.slice(),n.count());var a=Xg(t,i,Yg,e);return this.scale.scale(a)},pointToData:function(t,e){},getTicksCoords:function(t){if(this.onBand&amp;&amp;!t){for(var e=this.getBands(),i=[],n=0;n&lt;e.length;n++)i.push(e[n][0]);return e[n-1]&amp;&amp;i.push(e[n-1][1]),i}return rl.map(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){return rl.map(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var t=this.getExtent(),e=[],i=this.scale.count(),n=t[0],a=t[1]-n,o=0;o&lt;i;o++)e.push([a*o/i+n,a*(o+1)/i+n]);return e},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),i=e[1]-e[0]+(this.onBand?1:0);0===i&amp;&amp;(i=1);var n=Math.abs(t[1]-t[0]);return Math.abs(n)/i},isHorizontal:null,getRotate:null,getLabelInterval:function(){var t=this._labelInterval;if(!t){var e=this.model,i=e.getModel(&quot;axisLabel&quot;);t=i.get(&quot;interval&quot;),&quot;category&quot;!==this.type||null!=t&amp;&amp;&quot;auto&quot;!==t||(t=Rg.getAxisLabelInterval(rl.map(this.scale.getTicks(),this.dataToCoord,this),e.getFormattedLabels(),i.getFont(),this.getRotate?this.getRotate():this.isHorizontal&amp;&amp;!this.isHorizontal()?90:0,i.get(&quot;rotate&quot;))),this._labelInterval=t}return t}};var Kg=$g,Jg=1e-8,Qg={contain:function(t,e,i){var n=0,a=t[0];if(!a)return!1;for(var o=1;o&lt;t.length;o++){var r=t[o];n+=Vc(a[0],a[1],r[0],r[1],e,i),a=r}var s=t[0];return Qe(a[0],s[0])&amp;&amp;Qe(a[1],s[1])||(n+=Vc(a[0],a[1],s[0],s[1],e,i)),0!==n}};ti.prototype={constructor:ti,properties:null,getBoundingRect:function(){var t=this._rect;if(t)return t;for(var e=Number.MAX_VALUE,i=[e,e],n=[-e,-e],a=[],o=[],r=this.geometries,s=0;s&lt;r.length;s++)if(&quot;polygon&quot;===r[s].type){var l=r[s].exterior;pc.fromPoints(l,a,o),ll.min(i,i,a),ll.max(n,n,o)}return 0===s&amp;&amp;(i[0]=i[1]=n[0]=n[1]=0),this._rect=new oh(i[0],i[1],n[0]-i[0],n[1]-i[1])},contain:function(t){var e=this.getBoundingRect(),i=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var n=0,a=i.length;n&lt;a;n++)if(&quot;polygon&quot;===i[n].type){var o=i[n].exterior,r=i[n].interiors;if(Qg.contain(o,t[0],t[1])){for(var s=0;s&lt;(r?r.length:0);s++)if(Qg.contain(r[s]))continue t;return!0}}return!1},transformTo:function(t,e,i,n){var a=this.getBoundingRect(),o=a.width/a.height;i?n||(n=i/o):i=o*n;for(var r=new oh(t,e,i,n),s=a.calculateTransform(r),l=this.geometries,h=0;h&lt;l.length;h++)if(&quot;polygon&quot;===l[h].type){for(var u=l[h].exterior,c=l[h].interiors,d=0;d&lt;u.length;d++)ll.applyTransform(u[d],u[d],s);for(var p=0;p&lt;(c?c.length:0);p++)for(d=0;d&lt;c[p].length;d++)ll.applyTransform(c[p][d],c[p][d],s)}(a=this._rect).copy(r),this.center=[a.x+a.width/2,a.y+a.height/2]}};var tm=ti,em=function(t){return function(t){if(!t.UTF8Encoding)return t;var e=t.UTF8Scale;null==e&amp;&amp;(e=1024);for(var i=t.features,n=0;n&lt;i.length;n++)for(var a=i[n].geometry,o=a.coordinates,r=a.encodeOffsets,s=0;s&lt;o.length;s++){var l=o[s];if(&quot;Polygon&quot;===a.type)o[s]=ei(l,r[s],e);else if(&quot;MultiPolygon&quot;===a.type)for(var h=0;h&lt;l.length;h++){var u=l[h];l[h]=ei(u,r[s][h],e)}}t.UTF8Encoding=!1}(t),rl.map(rl.filter(t.features,function(t){return t.geometry&amp;&amp;t.properties&amp;&amp;t.geometry.coordinates.length&gt;0}),function(t){var e=t.properties,i=t.geometry,n=i.coordinates,a=[];&quot;Polygon&quot;===i.type&amp;&amp;a.push({type:&quot;polygon&quot;,exterior:n[0],interiors:n.slice(1)}),&quot;MultiPolygon&quot;===i.type&amp;&amp;rl.each(n,function(t){t[0]&amp;&amp;a.push({type:&quot;polygon&quot;,exterior:t[0],interiors:t.slice(1)})});var o=new tm(e.name,a,e.cp);return o.properties=e,o})},im=Cu,nm=yl,am=ll,om=Nl,rm=fp,sm=Pu,lm=Eu,hm=(Ff.throttle,Ff.throttle),um=qg,cm=tg,dm=_p,pm=Kg,fm=Us,gm=em,mm={};rl.each([&quot;map&quot;,&quot;each&quot;,&quot;filter&quot;,&quot;indexOf&quot;,&quot;inherits&quot;,&quot;reduce&quot;,&quot;filter&quot;,&quot;bind&quot;,&quot;curry&quot;,&quot;isArray&quot;,&quot;isString&quot;,&quot;isObject&quot;,&quot;isFunction&quot;,&quot;extend&quot;,&quot;defaults&quot;,&quot;clone&quot;,&quot;merge&quot;],function(t){mm[t]=rl[t]});var vm={zrender:im,matrix:nm,vector:am,color:om,graphic:rm,number:sm,format:lm,throttle:hm,helper:um,List:cm,Model:dm,Axis:pm,env:fm,parseGeoJson:gm,util:mm},ym=e(function(t,e){function i(t){return function(e,i,n){e=e&amp;&amp;e.toLowerCase(),dl.prototype[t].call(this,e,i,n)}}function n(){dl.call(this)}function a(t,e,i){function a(t,e){return t.prio-e.prio}i=i||{},&quot;string&quot;==typeof e&amp;&amp;(e=H[e]),this.id,this.group,this._dom=t;var o=this._zr=Cu.init(t,{renderer:i.renderer||&quot;canvas&quot;,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height});this._throttledZrFlush=w(rl.bind(o.flush,o),17);(e=rl.clone(e))&amp;&amp;Mf(e,!0),this._theme=e,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new rf,this._api=function(t){var e=t._coordSysMgr;return rl.extend(new af(t),{getCoordinateSystems:rl.bind(e.getCoordinateSystems,e),getComponentByElement:function(e){for(;e;){var i=e.__ecComponentInfo;if(null!=i)return t._model.getComponent(i.mainType,i.index);e=e.parent}}})}(this),dl.call(this),this._messageCenter=new n,this._initEvents(),this.resize=rl.bind(this.resize,this),this._pendingActions=[],uh(G,a),uh(N,a),o.animation.on(&quot;frame&quot;,this._onframe,this),rl.setAsPrimitive(this)}function o(t,e,i){var n,a=this._model,o=this._coordSysMgr.getCoordinateSystems();e=Ip.parseFinder(a,e);for(var r=0;r&lt;o.length;r++){var s=o[r];if(s[t]&amp;&amp;null!=(n=s[t](a,e,i)))return n}}function r(t,e,i,n,a){function o(n){n&amp;&amp;n.__alive&amp;&amp;n[e]&amp;&amp;n[e](n.__model,r,t._api,i)}var r=t._model;if(n){var s={};s[n+&quot;Id&quot;]=i[n+&quot;Id&quot;],s[n+&quot;Index&quot;]=i[n+&quot;Index&quot;],s[n+&quot;Name&quot;]=i[n+&quot;Name&quot;];var l={mainType:n,query:s};a&amp;&amp;(l.subType=a),r&amp;&amp;r.eachComponent(l,function(e,i){o(t[&quot;series&quot;===n?&quot;_chartsMap&quot;:&quot;_componentsMap&quot;][e.__viewId])},t)}else S(t._componentsViews.concat(t._chartsViews),o)}function s(t,e){var i=t.type,n=t.escapeConnect,a=E[i],o=a.actionInfo,s=(o.update||&quot;update&quot;).split(&quot;:&quot;),l=s.pop();s=null!=s[0]&amp;&amp;M(s[0]),this[L]=!0;var h=[t],u=!1;t.batch&amp;&amp;(u=!0,h=rl.map(t.batch,function(e){return e=rl.defaults(rl.extend({},e),t),e.batch=null,e}));var c,d=[],p=&quot;highlight&quot;===i||&quot;downplay&quot;===i;S(h,function(t){c=a.action(t,this._model,this._api),(c=c||rl.extend({},t)).type=o.event||c.type,d.push(c),p?r(this,l,t,&quot;series&quot;):s&amp;&amp;r(this,l,t,s.main,s.sub)},this),&quot;none&quot;===l||p||s||(this[D]?(O.prepareAndUpdate.call(this,t),this[D]=!1):O[l].call(this,t)),c=u?{type:o.event||i,escapeConnect:n,batch:d}:d[0],this[L]=!1,!e&amp;&amp;this._messageCenter.trigger(c.type,c)}function l(t){for(var e=this._pendingActions;e.length;){var i=e.shift();s.call(this,i,t)}}function h(t){!t&amp;&amp;this.trigger(&quot;updated&quot;)}function u(t,e,i){var n=this._api;S(this._componentsViews,function(a){var o=a.__model;a[t](o,e,n,i),g(o,a)},this),e.eachSeries(function(a,o){var r=this._chartsMap[a.__viewId];r[t](a,e,n,i),g(a,r),f(a,r)},this),p(this._zr,e),S(B,function(t){t(e,n)})}function c(t,e){for(var i=&quot;component&quot;===t,n=i?this._componentsViews:this._chartsViews,a=i?this._componentsMap:this._chartsMap,o=this._zr,r=0;r&lt;n.length;r++)n[r].__alive=!1;e[i?&quot;eachComponent&quot;:&quot;eachSeries&quot;](function(t,r){if(i){if(&quot;series&quot;===t)return}else r=t;var s=&quot;_ec_&quot;+r.id+&quot;_&quot;+r.type,l=a[s];if(!l){var h=M(r.type),u=i?Nf.getClass(h.main,h.sub):Bf.getClass(h.sub);if(!u)return;(l=new u).init(e,this._api),a[s]=l,n.push(l),o.add(l.group)}r.__viewId=l.__id=s,l.__alive=!0,l.__model=r,l.group.__ecComponentInfo={mainType:r.mainType,index:r.componentIndex}},this);for(r=0;r&lt;n.length;){var s=n[r];s.__alive?r++:(o.remove(s.group),s.dispose(e,this._api),n.splice(r,1),delete a[s.__id],s.__id=s.group.__ecComponentInfo=null)}}function d(t,e,i){var n=this._api;t.clearColorPalette(),t.eachSeries(function(t){t.clearColorPalette()}),S(G,function(a){(!i||!a.isLayout)&amp;&amp;a.func(t,n,e)})}function p(t,e){var i=t.storage,n=0;i.traverse(function(t){t.isGroup||n++}),n&gt;e.get(&quot;hoverLayerThreshold&quot;)&amp;&amp;!Us.node&amp;&amp;i.traverse(function(t){t.isGroup||(t.useHoverLayer=!0)})}function f(t,e){var i=0;e.group.traverse(function(t){&quot;group&quot;===t.type||t.ignore||i++});var n=+t.get(&quot;progressive&quot;),a=i&gt;t.get(&quot;progressiveThreshold&quot;)&amp;&amp;n&amp;&amp;!Us.node;a&amp;&amp;e.group.traverse(function(t){t.isGroup||(t.progressive=a?Math.floor(i++/n):-1,a&amp;&amp;t.stopAnimation(!0))});var o=t.get(&quot;blendMode&quot;)||null;e.group.traverse(function(t){t.isGroup||t.setStyle(&quot;blend&quot;,o)})}function g(t,e){var i=t.get(&quot;z&quot;),n=t.get(&quot;zlevel&quot;);e.group.traverse(function(t){&quot;group&quot;!==t.type&amp;&amp;(null!=i&amp;&amp;(t.z=i),null!=n&amp;&amp;(t.zlevel=n))})}function m(t){Z[t]=!1}function v(t){var e;return e=t.getAttribute?t.getAttribute(q):t[q],F[e]}function y(t){V.push(t)}function x(t,e,i){&quot;function&quot;==typeof e&amp;&amp;(i=e,e=&quot;&quot;);var n=rl.isObject(t)?t.type:[t,t={event:e}][0];t.event=(t.event||n).toLowerCase(),e=t.event,rl.assert(P.test(n)&amp;&amp;P.test(e)),E[n]||(E[n]={action:i,actionInfo:t}),R[e]=n}function _(t,e){&quot;function&quot;==typeof t&amp;&amp;(e=t,t=A),G.push({prio:t,func:e})}function b(t,e){W[t]=e}var w=Ff.throttle,S=rl.each,M=Hp.parseClassType,I=1e3,T=1e3,A=3e3,C={PROCESSOR:{FILTER:I,STATISTIC:5e3},VISUAL:{LAYOUT:T,GLOBAL:2e3,CHART:A,COMPONENT:4e3,BRUSH:5e3}},L=&quot;__flagInMainProcess&quot;,D=&quot;__optionUpdated&quot;,P=/^[a-zA-Z0-9_]+$/;n.prototype.on=i(&quot;on&quot;),n.prototype.off=i(&quot;off&quot;),n.prototype.one=i(&quot;one&quot;),rl.mixin(n,dl);var k=a.prototype;k._onframe=function(){if(this[D]){var t=this[D].silent;this[L]=!0,O.prepareAndUpdate.call(this),this[L]=!1,this[D]=!1,l.call(this,t),h.call(this,t)}},k.getDom=function(){return this._dom},k.getZr=function(){return this._zr},k.setOption=function(t,e,i){var n;if(rl.isObject(e)&amp;&amp;(i=e.lazyUpdate,n=e.silent,e=e.notMerge),this[L]=!0,!this._model||e){var a=new df(this._api),o=this._theme;(this._model=new ef(null,null,o,a)).init(null,null,o,a)}this._model.setOption(t,V),i?(this[D]={silent:n},this[L]=!1):(O.prepareAndUpdate.call(this),this._zr.flush(),this[D]=!1,this[L]=!1,l.call(this,n),h.call(this,n))},k.setTheme=function(){console.log(&quot;ECharts#setTheme() is DEPRECATED in ECharts 3.0&quot;)},k.getModel=function(){return this._model},k.getOption=function(){return this._model&amp;&amp;this._model.getOption()},k.getWidth=function(){return this._zr.getWidth()},k.getHeight=function(){return this._zr.getHeight()},k.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},k.getRenderedCanvas=function(t){if(Us.canvasSupported){(t=t||{}).pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get(&quot;backgroundColor&quot;);var e=this._zr,i=e.storage.getDisplayList();return rl.each(i,function(t){t.stopAnimation(!0)}),e.painter.getRenderedCanvas(t)}},k.getSvgDataUrl=function(){if(Us.svgSupported){var t=this._zr,e=t.storage.getDisplayList();return rl.each(e,function(t){t.stopAnimation(!0)}),t.painter.pathToSvg()}},k.getDataURL=function(t){var e=(t=t||{}).excludeComponents,i=this._model,n=[],a=this;S(e,function(t){i.eachComponent({mainType:t},function(t){var e=a._componentsMap[t.__viewId];e.group.ignore||(n.push(e),e.group.ignore=!0)})});var o=&quot;svg&quot;===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(t).toDataURL(&quot;image/&quot;+(t&amp;&amp;t.type||&quot;png&quot;));return S(n,function(t){t.group.ignore=!1}),o},k.getConnectedDataURL=function(t){if(Us.canvasSupported){var e=this.group,i=Math.min,n=Math.max;if(Z[e]){var a=1/0,o=1/0,r=-1/0,s=-1/0,l=[],h=t&amp;&amp;t.pixelRatio||1;rl.each(F,function(h,u){if(h.group===e){var c=h.getRenderedCanvas(rl.clone(t)),d=h.getDom().getBoundingClientRect();a=i(d.left,a),o=i(d.top,o),r=n(d.right,r),s=n(d.bottom,s),l.push({dom:c,left:d.left,top:d.top})}});var u=(r*=h)-(a*=h),c=(s*=h)-(o*=h),d=rl.createCanvas();d.width=u,d.height=c;var p=Cu.init(d);return S(l,function(t){var e=new fp.Image({style:{x:t.left*h-a,y:t.top*h-o,image:t.dom}});p.add(e)}),p.refreshImmediately(),d.toDataURL(&quot;image/&quot;+(t&amp;&amp;t.type||&quot;png&quot;))}return this.getDataURL(t)}},k.convertToPixel=rl.curry(o,&quot;convertToPixel&quot;),k.convertFromPixel=rl.curry(o,&quot;convertFromPixel&quot;),k.containPixel=function(t,e){var i,n=this._model;return t=Ip.parseFinder(n,t),rl.each(t,function(t,n){n.indexOf(&quot;Models&quot;)&gt;=0&amp;&amp;rl.each(t,function(t){var a=t.coordinateSystem;if(a&amp;&amp;a.containPoint)i|=!!a.containPoint(e);else if(&quot;seriesModels&quot;===n){var o=this._chartsMap[t.__viewId];o&amp;&amp;o.containPoint&amp;&amp;(i|=o.containPoint(e,t))}},this)},this),!!i},k.getVisual=function(t,e){var i=this._model,n=(t=Ip.parseFinder(i,t,{defaultMainType:&quot;series&quot;})).seriesModel.getData(),a=t.hasOwnProperty(&quot;dataIndexInside&quot;)?t.dataIndexInside:t.hasOwnProperty(&quot;dataIndex&quot;)?n.indexOfRawIndex(t.dataIndex):null;return null!=a?n.getItemVisual(a,e):n.getVisual(e)},k.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},k.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]};var O={update:function(t){var e=this._model,i=this._api,n=this._coordSysMgr,a=this._zr;if(e){e.restoreData(),n.create(this._model,this._api),function(t,e){S(N,function(i){i.func(t,e)})}.call(this,e,i),function(t){var e={};t.eachSeries(function(t){var i=t.get(&quot;stack&quot;),n=t.getData();if(i&amp;&amp;&quot;list&quot;===n.type){var a=e[i];e.hasOwnProperty(i)&amp;&amp;a&amp;&amp;(n.stackedOn=a),e[i]=n}})}.call(this,e),n.update(e,i),d.call(this,e,t),function(t,e){var i=this._api;S(this._componentsViews,function(n){var a=n.__model;n.render(a,t,i,e),g(a,n)},this),S(this._chartsViews,function(t){t.__alive=!1},this),t.eachSeries(function(n,a){var o=this._chartsMap[n.__viewId];o.__alive=!0,o.render(n,t,i,e),o.group.silent=!!n.get(&quot;silent&quot;),g(n,o),f(n,o)},this),p(this._zr,t),S(this._chartsViews,function(e){e.__alive||e.remove(t,i)},this)}.call(this,e,t);var o=e.get(&quot;backgroundColor&quot;)||&quot;transparent&quot;,r=a.painter;if(r.isSingleCanvas&amp;&amp;r.isSingleCanvas())a.configLayer(0,{clearColor:o});else{if(!Us.canvasSupported){var s=Nl.parse(o);o=Nl.stringify(s,&quot;rgb&quot;),0===s[3]&amp;&amp;(o=&quot;transparent&quot;)}o.colorStops||o.image?(a.configLayer(0,{clearColor:o}),this.__hasGradientOrPatternBg=!0,this._dom.style.background=&quot;transparent&quot;):(this.__hasGradientOrPatternBg&amp;&amp;a.configLayer(0,{clearColor:null}),this.__hasGradientOrPatternBg=!1,this._dom.style.background=o)}S(B,function(t){t(e,i)})}},updateView:function(t){var e=this._model;e&amp;&amp;(e.eachSeries(function(t){t.getData().clearAllVisual()}),d.call(this,e,t),u.call(this,&quot;updateView&quot;,e,t))},updateVisual:function(t){var e=this._model;e&amp;&amp;(e.eachSeries(function(t){t.getData().clearAllVisual()}),d.call(this,e,t,!0),u.call(this,&quot;updateVisual&quot;,e,t))},updateLayout:function(t){var e=this._model;e&amp;&amp;(function(t,e){var i=this._api;S(G,function(n){n.isLayout&amp;&amp;n.func(t,i,e)})}.call(this,e,t),u.call(this,&quot;updateLayout&quot;,e,t))},prepareAndUpdate:function(t){var e=this._model;c.call(this,&quot;component&quot;,e),c.call(this,&quot;chart&quot;,e),O.update.call(this,t)}};k.resize=function(t){this[L]=!0,this._zr.resize(t);var e=this._model&amp;&amp;this._model.resetOption(&quot;media&quot;);O[e?&quot;prepareAndUpdate&quot;:&quot;update&quot;].call(this),this._loadingFX&amp;&amp;this._loadingFX.resize(),this[L]=!1;var i=t&amp;&amp;t.silent;l.call(this,i),h.call(this,i)},k.showLoading=function(t,e){if(rl.isObject(t)&amp;&amp;(e=t,t=&quot;&quot;),t=t||&quot;default&quot;,this.hideLoading(),W[t]){var i=W[t](this._api,e),n=this._zr;this._loadingFX=i,n.add(i)}},k.hideLoading=function(){this._loadingFX&amp;&amp;this._zr.remove(this._loadingFX),this._loadingFX=null},k.makeActionFromEvent=function(t){var e=rl.extend({},t);return e.type=R[t.type],e},k.dispatchAction=function(t,e){rl.isObject(e)||(e={silent:!!e}),E[t.type]&amp;&amp;this._model&amp;&amp;(this[L]?this._pendingActions.push(t):(s.call(this,t,e.silent),e.flush?this._zr.flush(!0):!1!==e.flush&amp;&amp;Us.browser.weChat&amp;&amp;this._throttledZrFlush(),l.call(this,e.silent),h.call(this,e.silent)))},k.on=i(&quot;on&quot;),k.off=i(&quot;off&quot;),k.one=i(&quot;one&quot;);var z=[&quot;click&quot;,&quot;dblclick&quot;,&quot;mouseover&quot;,&quot;mouseout&quot;,&quot;mousemove&quot;,&quot;mousedown&quot;,&quot;mouseup&quot;,&quot;globalout&quot;,&quot;contextmenu&quot;];k._initEvents=function(){S(z,function(t){this._zr.on(t,function(e){var i,n=this.getModel(),a=e.target;if(&quot;globalout&quot;===t)i={};else if(a&amp;&amp;null!=a.dataIndex){var o=a.dataModel||n.getSeriesByIndex(a.seriesIndex);i=o&amp;&amp;o.getDataParams(a.dataIndex,a.dataType)||{}}else a&amp;&amp;a.eventData&amp;&amp;(i=rl.extend({},a.eventData));i&amp;&amp;(i.event=e,i.type=t,this.trigger(t,i))},this)},this),S(R,function(t,e){this._messageCenter.on(e,function(t){this.trigger(e,t)},this)},this)},k.isDisposed=function(){return this._disposed},k.clear=function(){this.setOption({series:[]},!0)},k.dispose=function(){if(!this._disposed){this._disposed=!0;var t=this._api,e=this._model;S(this._componentsViews,function(i){i.dispose(e,t)}),S(this._chartsViews,function(i){i.dispose(e,t)}),this._zr.dispose(),delete F[this.id]}},rl.mixin(a,dl);var E={},R={},N=[],V=[],B=[],G=[],H={},W={},F={},Z={},j=new Date-0,U=new Date-0,q=&quot;_echarts_instance_&quot;,X={},Y=m;_(2e3,Zf),y(Mf),b(&quot;default&quot;,Uf),x({type:&quot;highlight&quot;,event:&quot;highlight&quot;,update:&quot;highlight&quot;},rl.noop),x({type:&quot;downplay&quot;,event:&quot;downplay&quot;,update:&quot;downplay&quot;},rl.noop);e.version=&quot;3.8.5&quot;,e.dependencies={zrender:&quot;3.7.4&quot;},e.PRIORITY=C,e.init=function(t,e,i){var n=v(t);if(n)return n;var o=new a(t,e,i);return o.id=&quot;ec_&quot;+j++,F[o.id]=o,t.setAttribute?t.setAttribute(q,o.id):t[q]=o.id,function(t){function e(t,e){for(var n=0;n&lt;t.length;n++)t[n][i]=e}var i=&quot;__connectUpdateStatus&quot;;rl.each(R,function(n,a){t._messageCenter.on(a,function(n){if(Z[t.group]&amp;&amp;0!==t[i]){if(n&amp;&amp;n.escapeConnect)return;var a=t.makeActionFromEvent(n),o=[];rl.each(F,function(e){e!==t&amp;&amp;e.group===t.group&amp;&amp;o.push(e)}),e(o,0),S(o,function(t){1!==t[i]&amp;&amp;t.dispatchAction(a)}),e(o,2)}})})}(o),o},e.connect=function(t){if(rl.isArray(t)){var e=t;t=null,rl.each(e,function(e){null!=e.group&amp;&amp;(t=e.group)}),t=t||&quot;g_&quot;+U++,rl.each(e,function(e){e.group=t})}return Z[t]=!0,t},e.disConnect=m,e.disconnect=Y,e.dispose=function(t){&quot;string&quot;==typeof t?t=F[t]:t instanceof a||(t=v(t)),t instanceof a&amp;&amp;!t.isDisposed()&amp;&amp;t.dispose()},e.getInstanceByDom=v,e.getInstanceById=function(t){return F[t]},e.registerTheme=function(t,e){H[t]=e},e.registerPreprocessor=y,e.registerProcessor=function(t,e){&quot;function&quot;==typeof t&amp;&amp;(e=t,t=I),N.push({prio:t,func:e})},e.registerPostUpdate=function(t){B.push(t)},e.registerAction=x,e.registerCoordinateSystem=function(t,e){rf.register(t,e)},e.getCoordinateSystemDimensions=function(t){var e=rf.get(t);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()},e.registerLayout=function(t,e){&quot;function&quot;==typeof t&amp;&amp;(e=t,t=T),G.push({prio:t,func:e,isLayout:!0})},e.registerVisual=_,e.registerLoading=b,e.extendComponentModel=function(t){return Hp.extend(t)},e.extendComponentView=function(t){return Nf.extend(t)},e.extendSeriesModel=function(t){return zf.extend(t)},e.extendChartView=function(t){return Bf.extend(t)},e.setCanvasCreator=function(t){rl.$override(&quot;createCanvas&quot;,t)},e.registerMap=function(t,e,i){e.geoJson&amp;&amp;!e.features&amp;&amp;(i=e.specialAreas,e=e.geoJson),&quot;string&quot;==typeof e&amp;&amp;(e=&quot;undefined&quot;!=typeof JSON&amp;&amp;JSON.parse?JSON.parse(e):new Function(&quot;return (&quot;+e+&quot;);&quot;)()),X[t]={geoJson:e,specialAreas:i}},e.getMap=function(t){return X[t]},e.dataTool={},function(){for(var t in vm)vm.hasOwnProperty(t)&amp;&amp;(e[t]=vm[t])}()}),xm=(ym.version,ym.dependencies,ym.PRIORITY,ym.init,ym.connect,ym.disConnect,ym.disconnect,ym.dispose,ym.getInstanceByDom,ym.getInstanceById,ym.registerTheme,ym.registerPreprocessor,ym.registerProcessor,ym.registerPostUpdate,ym.registerAction,ym.registerCoordinateSystem,ym.getCoordinateSystemDimensions,ym.registerLayout,ym.registerVisual,ym.registerLoading,ym.extendComponentModel,ym.extendComponentView,ym.extendSeriesModel,ym.extendChartView,ym.setCanvasCreator,ym.registerMap,ym.getMap,ym.dataTool,zf.extend({type:&quot;series.line&quot;,dependencies:[&quot;grid&quot;,&quot;polar&quot;],getInitialData:function(t,e){return dg(t.data,this,e)},defaultOption:{zlevel:0,z:2,coordinateSystem:&quot;cartesian2d&quot;,legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{normal:{position:&quot;top&quot;}},lineStyle:{normal:{width:2,type:&quot;solid&quot;}},step:!1,smooth:!1,smoothMonotone:null,symbol:&quot;emptyCircle&quot;,symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:&quot;none&quot;,animationEasing:&quot;linear&quot;,progressive:0,hoverLayerThreshold:1/0}}),Ip.otherDimToDataDim),_m={findLabelValueDim:function(t){var e,i=xm(t,&quot;label&quot;);if(i.length)e=i[0];else for(var n,a=t.dimensions.slice();a.length&amp;&amp;(e=a.pop(),&quot;ordinal&quot;===(n=t.getDimensionInfo(e).type)||&quot;time&quot;===n););return e}},bm=Ug.createSymbol,wm=Pu.parsePercent,Sm=_m.findLabelValueDim,Mm=ni.prototype;Mm._createSymbol=function(t,e,i,n){this.removeAll();var a=e.getItemVisual(i,&quot;color&quot;),o=bm(t,-1,-1,2,2,a);o.attr({z2:100,culling:!0,scale:ii(n)}),o.drift=function(t,e){this.parent.drift(t,e)},this._symbolType=t,this.add(o)},Mm.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},Mm.getSymbolPath=function(){return this.childAt(0)},Mm.getScale=function(){return this.childAt(0).scale},Mm.highlight=function(){this.childAt(0).trigger(&quot;emphasis&quot;)},Mm.downplay=function(){this.childAt(0).trigger(&quot;normal&quot;)},Mm.setZ=function(t,e){var i=this.childAt(0);i.zlevel=t,i.z=e},Mm.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?&quot;move&quot;:&quot;pointer&quot;},Mm.updateData=function(t,e,i){this.silent=!1;var n=t.getItemVisual(e,&quot;symbol&quot;)||&quot;circle&quot;,a=t.hostModel,o=function(t,e){var i=t.getItemVisual(e,&quot;symbolSize&quot;);return i instanceof Array?i.slice():[+i,+i]}(t,e),r=n!==this._symbolType;if(r)this._createSymbol(n,t,e,o);else{(s=this.childAt(0)).silent=!1,fp.updateProps(s,{scale:ii(o)},a,e)}if(this._updateCommon(t,e,o,i),r){var s=this.childAt(0),l=i&amp;&amp;i.fadeIn,h={scale:s.scale.slice()};l&amp;&amp;(h.style={opacity:s.style.opacity}),s.scale=[0,0],l&amp;&amp;(s.style.opacity=0),fp.initProps(s,h,a,e)}this._seriesModel=a};var Im=[&quot;itemStyle&quot;,&quot;normal&quot;],Tm=[&quot;itemStyle&quot;,&quot;emphasis&quot;],Am=[&quot;label&quot;,&quot;normal&quot;],Cm=[&quot;label&quot;,&quot;emphasis&quot;];Mm._updateCommon=function(t,e,i,n){var a=this.childAt(0),o=t.hostModel,r=t.getItemVisual(e,&quot;color&quot;);&quot;image&quot;!==a.type&amp;&amp;a.useStyle({strokeNoScale:!0});var s=n&amp;&amp;n.itemStyle,l=n&amp;&amp;n.hoverItemStyle,h=n&amp;&amp;n.symbolRotate,u=n&amp;&amp;n.symbolOffset,c=n&amp;&amp;n.labelModel,d=n&amp;&amp;n.hoverLabelModel,p=n&amp;&amp;n.hoverAnimation,f=n&amp;&amp;n.cursorStyle;if(!n||t.hasItemOption){var g=n&amp;&amp;n.itemModel?n.itemModel:t.getItemModel(e);s=g.getModel(Im).getItemStyle([&quot;color&quot;]),l=g.getModel(Tm).getItemStyle(),h=g.getShallow(&quot;symbolRotate&quot;),u=g.getShallow(&quot;symbolOffset&quot;),c=g.getModel(Am),d=g.getModel(Cm),p=g.getShallow(&quot;hoverAnimation&quot;),f=g.getShallow(&quot;cursor&quot;)}else l=rl.extend({},l);var m=a.style;a.attr(&quot;rotation&quot;,(h||0)*Math.PI/180||0),u&amp;&amp;a.attr(&quot;position&quot;,[wm(u[0],i[0]),wm(u[1],i[1])]),f&amp;&amp;a.attr(&quot;cursor&quot;,f),a.setColor(r,n&amp;&amp;n.symbolInnerColor),a.setStyle(s);var v=t.getItemVisual(e,&quot;opacity&quot;);null!=v&amp;&amp;(m.opacity=v);var y=n&amp;&amp;n.useNameLabel,x=!y&amp;&amp;Sm(t);(y||null!=x)&amp;&amp;fp.setLabelStyle(m,l,c,d,{labelFetcher:o,labelDataIndex:e,defaultText:y?t.getName(e):t.get(x,e),isRectText:!0,autoColor:r}),a.off(&quot;mouseover&quot;).off(&quot;mouseout&quot;).off(&quot;emphasis&quot;).off(&quot;normal&quot;),a.hoverStyle=l,fp.setHoverStyle(a);var _=ii(i);if(p&amp;&amp;o.isAnimationEnabled()){var b=function(){var t=_[1]/_[0];this.animateTo({scale:[Math.max(1.1*_[0],_[0]+3),Math.max(1.1*_[1],_[1]+3*t)]},400,&quot;elasticOut&quot;)},w=function(){this.animateTo({scale:_},400,&quot;elasticOut&quot;)};a.on(&quot;mouseover&quot;,b).on(&quot;mouseout&quot;,w).on(&quot;emphasis&quot;,b).on(&quot;normal&quot;,w)}},Mm.fadeOut=function(t,e){var i=this.childAt(0);this.silent=i.silent=!0,!(e&amp;&amp;e.keepLabel)&amp;&amp;(i.style.text=null),fp.updateProps(i,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,t)},rl.inherits(ni,fp.Group);var Lm=ni,Dm=ai.prototype;Dm.updateData=function(t,e){var i=this.group,n=t.hostModel,a=this._data,o=this._symbolCtor,r={itemStyle:n.getModel(&quot;itemStyle.normal&quot;).getItemStyle([&quot;color&quot;]),hoverItemStyle:n.getModel(&quot;itemStyle.emphasis&quot;).getItemStyle(),symbolRotate:n.get(&quot;symbolRotate&quot;),symbolOffset:n.get(&quot;symbolOffset&quot;),hoverAnimation:n.get(&quot;hoverAnimation&quot;),labelModel:n.getModel(&quot;label.normal&quot;),hoverLabelModel:n.getModel(&quot;label.emphasis&quot;),cursorStyle:n.get(&quot;cursor&quot;)};t.diff(a).add(function(n){var a=t.getItemLayout(n);if(oi(t,n,e)){var s=new o(t,n,r);s.attr(&quot;position&quot;,a),t.setItemGraphicEl(n,s),i.add(s)}}).update(function(s,l){var h=a.getItemGraphicEl(l),u=t.getItemLayout(s);oi(t,s,e)?(h?(h.updateData(t,s,r),fp.updateProps(h,{position:u},n)):(h=new o(t,s)).attr(&quot;position&quot;,u),i.add(h),t.setItemGraphicEl(s,h)):i.remove(h)}).remove(function(t){var e=a.getItemGraphicEl(t);e&amp;&amp;e.fadeOut(function(){i.remove(e)})}).execute(),this._data=t},Dm.updateLayout=function(){var t=this._data;t&amp;&amp;t.eachItemGraphicEl(function(e,i){var n=t.getItemLayout(i);e.attr(&quot;position&quot;,n)})},Dm.remove=function(t){var e=this.group,i=this._data;i&amp;&amp;(t?i.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)})}):e.removeAll())};var Pm=ai,km=function(t,e,i,n,a,o){for(var r=function(t,e){var i=[];return e.diff(t).add(function(t){i.push({cmd:&quot;+&quot;,idx:t})}).update(function(t,e){i.push({cmd:&quot;=&quot;,idx:e,idx1:t})}).remove(function(t){i.push({cmd:&quot;-&quot;,idx:t})}).execute(),i}(t,e),s=[],l=[],h=[],u=[],c=[],d=[],p=[],f=o.dimensions,g=0;g&lt;r.length;g++){var m=r[g],v=!0;switch(m.cmd){case&quot;=&quot;:var y=t.getItemLayout(m.idx),x=e.getItemLayout(m.idx1);(isNaN(y[0])||isNaN(y[1]))&amp;&amp;(y=x.slice()),s.push(y),l.push(x),h.push(i[m.idx]),u.push(n[m.idx1]),p.push(e.getRawIndex(m.idx1));break;case&quot;+&quot;:_=m.idx,s.push(a.dataToPoint([e.get(f[0],_,!0),e.get(f[1],_,!0)])),l.push(e.getItemLayout(_).slice()),h.push(si(a,e,_)),u.push(n[_]),p.push(e.getRawIndex(_));break;case&quot;-&quot;:var _=m.idx,b=t.getRawIndex(_);b!==_?(s.push(t.getItemLayout(_)),l.push(o.dataToPoint([t.get(f[0],_,!0),t.get(f[1],_,!0)])),h.push(i[_]),u.push(si(o,t,_)),p.push(b)):v=!1}v&amp;&amp;(c.push(m),d.push(d.length))}d.sort(function(t,e){return p[t]-p[e]});for(var w=[],S=[],M=[],I=[],T=[],g=0;g&lt;d.length;g++)_=d[g],w[g]=s[_],S[g]=l[_],M[g]=h[_],I[g]=u[_],T[g]=c[_];return{current:w,next:S,stackedOnCurrent:M,stackedOnNext:I,status:T}},Om=ll.min,zm=ll.max,Em=ll.scaleAndAdd,Rm=ll.copy,Nm=[],Vm=[],Bm=[],Gm={Polyline:Yc.extend({type:&quot;ec-polyline&quot;,shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:&quot;#000&quot;},brush:gd(Yc.prototype.brush),buildPath:function(t,e){var i=e.points,n=0,a=i.length,o=ui(i,e.smoothConstraint);if(e.connectNulls){for(;a&gt;0&amp;&amp;li(i[a-1]);a--);for(;n&lt;a&amp;&amp;li(i[n]);n++);}for(;n&lt;a;)n+=hi(t,i,n,a,a,1,o.min,o.max,e.smooth,e.smoothMonotone,e.connectNulls)+1}}),Polygon:Yc.extend({type:&quot;ec-polygon&quot;,shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:gd(Yc.prototype.brush),buildPath:function(t,e){var i=e.points,n=e.stackedOnPoints,a=0,o=i.length,r=e.smoothMonotone,s=ui(i,e.smoothConstraint),l=ui(n,e.smoothConstraint);if(e.connectNulls){for(;o&gt;0&amp;&amp;li(i[o-1]);o--);for(;a&lt;o&amp;&amp;li(i[a]);a++);}for(;a&lt;o;){var h=hi(t,i,a,o,o,1,s.min,s.max,e.smooth,r,e.connectNulls);hi(t,n,a+h-1,h,o,-1,l.min,l.max,e.stackedOnSmooth,r,e.connectNulls),a+=h+1,t.closePath()}}})},Hm=Gm.Polyline,Wm=Gm.Polygon,Fm=(Bf.extend({type:&quot;line&quot;,init:function(){var t=new fp.Group,e=new Pm;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},render:function(t,e,i){var n=t.coordinateSystem,a=this.group,o=t.getData(),r=t.getModel(&quot;lineStyle.normal&quot;),s=t.getModel(&quot;areaStyle.normal&quot;),l=o.mapArray(o.getItemLayout,!0),h=&quot;polar&quot;===n.type,u=this._coordSys,c=this._symbolDraw,d=this._polyline,p=this._polygon,f=this._lineGroup,g=t.get(&quot;animation&quot;),m=!s.isEmpty(),v=function(t,e){var i=t.getBaseAxis(),n=t.getOtherAxis(i),a=0;if(!i.onZero){var o=n.scale.getExtent();o[0]&gt;0?a=o[0]:o[1]&lt;0&amp;&amp;(a=o[1])}var r=n.dim,s=&quot;x&quot;===r||&quot;radius&quot;===r?1:0;return e.mapArray([r],function(n,o){for(var l,h=e.stackedOn;h&amp;&amp;fi(h.get(r,o))===fi(n);){l=h;break}var u=[];return u[s]=e.get(i.dim,o),u[1-s]=l?l.get(r,o,!0):a,t.dataToPoint(u)},!0)}(n,o),y=t.get(&quot;showSymbol&quot;),x=y&amp;&amp;!h&amp;&amp;!t.get(&quot;showAllSymbol&quot;)&amp;&amp;this._getSymbolIgnoreFunc(o,n),_=this._data;_&amp;&amp;_.eachItemGraphicEl(function(t,e){t.__temp&amp;&amp;(a.remove(t),_.setItemGraphicEl(e,null))}),y||c.remove(),a.add(f);var b=!h&amp;&amp;t.get(&quot;step&quot;);d&amp;&amp;u.type===n.type&amp;&amp;b===this._step?(m&amp;&amp;!p?p=this._newPolygon(l,v,n,g):p&amp;&amp;!m&amp;&amp;(f.remove(p),p=this._polygon=null),f.setClipPath(gi(n,!1,t)),y&amp;&amp;c.updateData(o,x),o.eachItemGraphicEl(function(t){t.stopAnimation(!0)}),ci(this._stackedOnPoints,v)&amp;&amp;ci(this._points,l)||(g?this._updateAnimation(o,v,n,i,b):(b&amp;&amp;(l=mi(l,n,b),v=mi(v,n,b)),d.setShape({points:l}),p&amp;&amp;p.setShape({points:l,stackedOnPoints:v})))):(y&amp;&amp;c.updateData(o,x),b&amp;&amp;(l=mi(l,n,b),v=mi(v,n,b)),d=this._newPolyline(l,n,g),m&amp;&amp;(p=this._newPolygon(l,v,n,g)),f.setClipPath(gi(n,!0,t)));var w=function(t,e){var i=t.getVisual(&quot;visualMeta&quot;);if(i&amp;&amp;i.length&amp;&amp;t.count()){for(var n,a=i.length-1;a&gt;=0;a--)if(i[a].dimension&lt;2){n=i[a];break}if(n&amp;&amp;&quot;cartesian2d&quot;===e.type){var o=n.dimension,r=t.dimensions[o],s=e.getAxis(r),l=rl.map(n.stops,function(t){return{coord:s.toGlobalCoord(s.dataToCoord(t.value)),color:t.color}}),h=l.length,u=n.outerColors.slice();h&amp;&amp;l[0].coord&gt;l[h-1].coord&amp;&amp;(l.reverse(),u.reverse());var c=l[0].coord-10,d=l[h-1].coord+10,p=d-c;if(p&lt;.001)return&quot;transparent&quot;;rl.each(l,function(t){t.offset=(t.coord-c)/p}),l.push({offset:h?l[h-1].offset:.5,color:u[1]||&quot;transparent&quot;}),l.unshift({offset:h?l[0].offset:.5,color:u[0]||&quot;transparent&quot;});var f=new fp.LinearGradient(0,0,0,0,l,!0);return f[r]=c,f[r+&quot;2&quot;]=d,f}}}(o,n)||o.getVisual(&quot;color&quot;);d.useStyle(rl.defaults(r.getLineStyle(),{fill:&quot;none&quot;,stroke:w,lineJoin:&quot;bevel&quot;}));var S=t.get(&quot;smooth&quot;);if(S=di(t.get(&quot;smooth&quot;)),d.setShape({smooth:S,smoothMonotone:t.get(&quot;smoothMonotone&quot;),connectNulls:t.get(&quot;connectNulls&quot;)}),p){var M=o.stackedOn,I=0;if(p.useStyle(rl.defaults(s.getAreaStyle(),{fill:w,opacity:.7,lineJoin:&quot;bevel&quot;})),M){I=di(M.hostModel.get(&quot;smooth&quot;))}p.setShape({smooth:S,stackedOnSmooth:I,smoothMonotone:t.get(&quot;smoothMonotone&quot;),connectNulls:t.get(&quot;connectNulls&quot;)})}this._data=o,this._coordSys=n,this._stackedOnPoints=v,this._points=l,this._step=b},dispose:function(){},highlight:function(t,e,i,n){var a=t.getData(),o=Ip.queryDataIndex(a,n);if(!(o instanceof Array)&amp;&amp;null!=o&amp;&amp;o&gt;=0){var r=a.getItemGraphicEl(o);if(!r){var s=a.getItemLayout(o);if(!s)return;(r=new Lm(a,o)).position=s,r.setZ(t.get(&quot;zlevel&quot;),t.get(&quot;z&quot;)),r.ignore=isNaN(s[0])||isNaN(s[1]),r.__temp=!0,a.setItemGraphicEl(o,r),r.stopSymbolAnimation(!0),this.group.add(r)}r.highlight()}else Bf.prototype.highlight.call(this,t,e,i,n)},downplay:function(t,e,i,n){var a=t.getData(),o=Ip.queryDataIndex(a,n);if(null!=o&amp;&amp;o&gt;=0){var r=a.getItemGraphicEl(o);r&amp;&amp;(r.__temp?(a.setItemGraphicEl(o,null),this.group.remove(r)):r.downplay())}else Bf.prototype.downplay.call(this,t,e,i,n)},_newPolyline:function(t){var e=this._polyline;return e&amp;&amp;this._lineGroup.remove(e),e=new Hm({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(e),this._polyline=e,e},_newPolygon:function(t,e){var i=this._polygon;return i&amp;&amp;this._lineGroup.remove(i),i=new Wm({shape:{points:t,stackedOnPoints:e},silent:!0}),this._lineGroup.add(i),this._polygon=i,i},_getSymbolIgnoreFunc:function(t,e){var i=e.getAxesByScale(&quot;ordinal&quot;)[0];if(i&amp;&amp;i.isLabelIgnored)return rl.bind(i.isLabelIgnored,i)},_updateAnimation:function(t,e,i,n,a){var o=this._polyline,r=this._polygon,s=t.hostModel,l=km(this._data,t,this._stackedOnPoints,e,this._coordSys,i),h=l.current,u=l.stackedOnCurrent,c=l.next,d=l.stackedOnNext;a&amp;&amp;(h=mi(l.current,i,a),u=mi(l.stackedOnCurrent,i,a),c=mi(l.next,i,a),d=mi(l.stackedOnNext,i,a)),o.shape.__points=l.current,o.shape.points=h,fp.updateProps(o,{shape:{points:c}},s),r&amp;&amp;(r.setShape({points:h,stackedOnPoints:u}),fp.updateProps(r,{shape:{points:c,stackedOnPoints:d}},s));for(var p=[],f=l.status,g=0;g&lt;f.length;g++){if(&quot;=&quot;===f[g].cmd){var m=t.getItemGraphicEl(f[g].idx1);m&amp;&amp;p.push({el:m,ptIdx:g})}}o.animators&amp;&amp;o.animators.length&amp;&amp;o.animators[0].during(function(){for(var t=0;t&lt;p.length;t++){p[t].el.attr(&quot;position&quot;,o.shape.__points[p[t].ptIdx])}})},remove:function(t){var e=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&amp;&amp;i.eachItemGraphicEl(function(t,n){t.__temp&amp;&amp;(e.remove(t),i.setItemGraphicEl(n,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}}),function(t,e,i,n,a){n.eachRawSeriesByType(t,function(t){var a=t.getData(),o=t.get(&quot;symbol&quot;)||e,r=t.get(&quot;symbolSize&quot;);a.setVisual({legendSymbol:i||o,symbol:o,symbolSize:r}),n.isSeriesFiltered(t)||(&quot;function&quot;==typeof r&amp;&amp;a.each(function(e){var i=t.getRawValue(e),n=t.getDataParams(e);a.setItemVisual(e,&quot;symbolSize&quot;,r(i,n))}),a.each(function(t){var e=a.getItemModel(t),i=e.getShallow(&quot;symbol&quot;,!0),n=e.getShallow(&quot;symbolSize&quot;,!0);null!=i&amp;&amp;a.setItemVisual(t,&quot;symbol&quot;,i),null!=n&amp;&amp;a.setItemVisual(t,&quot;symbolSize&quot;,n)}))})}),Zm=function(t,e){e.eachSeriesByType(t,function(t){var e=t.getData(),i=t.coordinateSystem;if(i){for(var n=[],a=i.dimensions,o=0;o&lt;a.length;o++)n.push(t.coordDimToDataDim(i.dimensions[o])[0]);1===n.length?e.each(n[0],function(t,n){e.setItemLayout(n,isNaN(t)?[NaN,NaN]:i.dataToPoint(t))}):2===n.length&amp;&amp;e.each(n,function(t,n,a){e.setItemLayout(a,isNaN(t)||isNaN(n)?[NaN,NaN]:i.dataToPoint([t,n]))},!0)}})},jm={average:function(t){for(var e=0,i=0,n=0;n&lt;t.length;n++)isNaN(t[n])||(e+=t[n],i++);return 0===i?NaN:e/i},sum:function(t){for(var e=0,i=0;i&lt;t.length;i++)e+=t[i]||0;return e},max:function(t){for(var e=-1/0,i=0;i&lt;t.length;i++)t[i]&gt;e&amp;&amp;(e=t[i]);return e},min:function(t){for(var e=1/0,i=0;i&lt;t.length;i++)t[i]&lt;e&amp;&amp;(e=t[i]);return e},nearest:function(t){return t[0]}},Um=function(t,e){return Math.round(t.length/2)},qm=function(t,e,i){e.eachSeriesByType(t,function(t){var e=t.getData(),i=t.get(&quot;sampling&quot;),n=t.coordinateSystem;if(&quot;cartesian2d&quot;===n.type&amp;&amp;i){var a=n.getBaseAxis(),o=n.getOtherAxis(a),r=a.getExtent(),s=r[1]-r[0],l=Math.round(e.count()/s);if(l&gt;1){var h;&quot;string&quot;==typeof i?h=jm[i]:&quot;function&quot;==typeof i&amp;&amp;(h=i),h&amp;&amp;(e=e.downSample(o.dim,1/l,h,Um),t.setData(e))}}},this)},Xm=function(t){this._axes={},this._dimList=[],this.name=t||&quot;&quot;};Xm.prototype={constructor:Xm,type:&quot;cartesian&quot;,getAxis:function(t){return this._axes[t]},getAxes:function(){return rl.map(this._dimList,function(t){return this._axes[t]},this)},getAxesByScale:function(t){return t=t.toLowerCase(),rl.filter(this.getAxes(),function(e){return e.scale.type===t})},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,&quot;dataToCoord&quot;)},coordToData:function(t){return this._dataCoordConvert(t,&quot;coordToData&quot;)},_dataCoordConvert:function(t,e){for(var i=this._dimList,n=t instanceof Array?[]:{},a=0;a&lt;i.length;a++){var o=i[a],r=this._axes[o];n[o]=r[e](t[o])}return n}};var Ym=Xm;vi.prototype={constructor:vi,type:&quot;cartesian2d&quot;,dimensions:[&quot;x&quot;,&quot;y&quot;],getBaseAxis:function(){return this.getAxesByScale(&quot;ordinal&quot;)[0]||this.getAxesByScale(&quot;time&quot;)[0]||this.getAxis(&quot;x&quot;)},containPoint:function(t){var e=this.getAxis(&quot;x&quot;),i=this.getAxis(&quot;y&quot;);return e.contain(e.toLocalCoord(t[0]))&amp;&amp;i.contain(i.toLocalCoord(t[1]))},containData:function(t){return this.getAxis(&quot;x&quot;).containData(t[0])&amp;&amp;this.getAxis(&quot;y&quot;).containData(t[1])},dataToPoint:function(t,e){var i=this.getAxis(&quot;x&quot;),n=this.getAxis(&quot;y&quot;);return[i.toGlobalCoord(i.dataToCoord(t[0],e)),n.toGlobalCoord(n.dataToCoord(t[1],e))]},pointToData:function(t,e){var i=this.getAxis(&quot;x&quot;),n=this.getAxis(&quot;y&quot;);return[i.coordToData(i.toLocalCoord(t[0]),e),n.coordToData(n.toLocalCoord(t[1]),e)]},getOtherAxis:function(t){return this.getAxis(&quot;x&quot;===t.dim?&quot;y&quot;:&quot;x&quot;)}},rl.inherits(vi,Ym);var $m=vi,Km=function(t,e,i,n,a){Kg.call(this,t,e,i),this.type=n||&quot;value&quot;,this.position=a||&quot;bottom&quot;};Km.prototype={constructor:Km,index:0,onZero:!1,model:null,isHorizontal:function(){var t=this.position;return&quot;top&quot;===t||&quot;bottom&quot;===t},getGlobalExtent:function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&amp;&amp;e[0]&gt;e[1]&amp;&amp;e.reverse(),e},getOtherAxis:function(){this.grid.getOtherAxis()},isLabelIgnored:function(t){if(&quot;category&quot;===this.type){var e=this.getLabelInterval();return&quot;function&quot;==typeof e&amp;&amp;!e(t,this.scale.getLabel(t))||t%(e+1)}},pointToData:function(t,e){return this.coordToData(this.toLocalCoord(t[&quot;x&quot;===this.dim?0:1]),e)},toLocalCoord:null,toGlobalCoord:null},rl.inherits(Km,Kg);var Jm=Km,Qm={show:!0,zlevel:0,z:0,inverse:!1,name:&quot;&quot;,nameLocation:&quot;end&quot;,nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:&quot;...&quot;,placeholder:&quot;.&quot;},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:&quot;#333&quot;,width:1,type:&quot;solid&quot;},symbol:[&quot;none&quot;,&quot;none&quot;],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:[&quot;#ccc&quot;],width:1,type:&quot;solid&quot;}},splitArea:{show:!1,areaStyle:{color:[&quot;rgba(250,250,250,0.3)&quot;,&quot;rgba(200,200,200,0.3)&quot;]}}},tv={};tv.categoryAxis=rl.merge({boundaryGap:!0,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:&quot;auto&quot;},axisLabel:{interval:&quot;auto&quot;}},Qm),tv.valueAxis=rl.merge({boundaryGap:[0,0],splitNumber:5},Qm),tv.timeAxis=rl.defaults({scale:!0,min:&quot;dataMin&quot;,max:&quot;dataMax&quot;},tv.valueAxis),tv.logAxis=rl.defaults({scale:!0,logBase:10},tv.valueAxis);var ev=tv,iv=Np.getLayoutParams,nv=Np.mergeLayoutParam,av=[&quot;value&quot;,&quot;category&quot;,&quot;time&quot;,&quot;log&quot;],ov=function(t,e,i,n){rl.each(av,function(a){e.extend({type:t+&quot;Axis.&quot;+a,mergeDefaultAndTheme:function(e,n){var o=this.layoutMode,r=o?iv(e):{},s=n.getTheme();rl.merge(e,s.get(a+&quot;Axis&quot;)),rl.merge(e,this.getDefaultOption()),e.type=i(t,e),o&amp;&amp;nv(e,r,o)},defaultOption:rl.mergeAll([{},ev[a+&quot;Axis&quot;],n],!0)})}),Hp.registerSubTypeDefaulter(t+&quot;Axis&quot;,rl.curry(i,t))},rv=Hp.extend({type:&quot;cartesian2dAxis&quot;,axis:null,init:function(){rv.superApply(this,&quot;init&quot;,arguments),this.resetRange()},mergeOption:function(){rv.superApply(this,&quot;mergeOption&quot;,arguments),this.resetRange()},restoreData:function(){rv.superApply(this,&quot;restoreData&quot;,arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:&quot;grid&quot;,index:this.option.gridIndex,id:this.option.gridId})[0]}});rl.merge(rv.prototype,Ng);var sv={offset:0};ov(&quot;x&quot;,rv,yi,sv),ov(&quot;y&quot;,rv,yi,sv);Hp.extend({type:&quot;grid&quot;,dependencies:[&quot;xAxis&quot;,&quot;yAxis&quot;],layoutMode:&quot;box&quot;,coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:&quot;10%&quot;,top:60,right:&quot;10%&quot;,bottom:60,containLabel:!1,backgroundColor:&quot;rgba(0,0,0,0)&quot;,borderWidth:1,borderColor:&quot;#ccc&quot;}});var lv=Np.getLayoutRect,hv=rl.each,uv=Rg.ifAxisCrossZero,cv=Rg.niceScaleExtent,dv=_i.prototype;dv.type=&quot;grid&quot;,dv.axisPointerEnabled=!0,dv.getRect=function(){return this._rect},dv.update=function(t,e){var i=this._axesMap;this._updateScale(t,this.model),hv(i.x,function(t){cv(t.scale,t.model)}),hv(i.y,function(t){cv(t.scale,t.model)}),hv(i.x,function(t){bi(i,&quot;y&quot;,t)}),hv(i.y,function(t){bi(i,&quot;x&quot;,t)}),this.resize(this.model,e)},dv.resize=function(t,e,i){function n(){hv(o,function(t){var e=t.isHorizontal(),i=e?[0,a.width]:[0,a.height],n=t.inverse?1:0;t.setExtent(i[n],i[1-n]),function(t,e){var i=t.getExtent(),n=i[0]+i[1];t.toGlobalCoord=&quot;x&quot;===t.dim?function(t){return t+e}:function(t){return n-t+e},t.toLocalCoord=&quot;x&quot;===t.dim?function(t){return t-e}:function(t){return n-t+e}}(t,e?a.x:a.y)})}var a=lv(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=a;var o=this._axesList;n(),!i&amp;&amp;t.get(&quot;containLabel&quot;)&amp;&amp;(hv(o,function(t){if(!t.model.get(&quot;axisLabel.inside&quot;)){var e=function(t){var e,i=t.model,n=i.getFormattedLabels(),a=i.getModel(&quot;axisLabel&quot;),o=1,r=n.length;r&gt;40&amp;&amp;(o=Math.ceil(r/40));for(var s=0;s&lt;r;s+=o)if(!t.isLabelIgnored(s)){var l=function(t,e){var i=(a.get(&quot;rotate&quot;)||0)*Math.PI/180,n=t.plain(),o=n.width,r=n.height,s=o*Math.cos(i)+r*Math.sin(i),l=o*Math.sin(i)+r*Math.cos(i);return new oh(n.x,n.y,s,l)}(a.getTextRect(n[s]));e?e.union(l):e=l}return e}(t);if(e){var i=t.isHorizontal()?&quot;height&quot;:&quot;width&quot;,n=t.model.get(&quot;axisLabel.margin&quot;);a[i]-=e[i]+n,&quot;top&quot;===t.position?a.y+=e.height+n:&quot;left&quot;===t.position&amp;&amp;(a.x+=e.width+n)}}}),n())},dv.getAxis=function(t,e){var i=this._axesMap[t];if(null!=i){if(null==e)for(var n in i)if(i.hasOwnProperty(n))return i[n];return i[e]}},dv.getAxes=function(){return this._axesList.slice()},dv.getCartesian=function(t,e){if(null!=t&amp;&amp;null!=e){var i=&quot;x&quot;+t+&quot;y&quot;+e;return this._coordsMap[i]}rl.isObject(t)&amp;&amp;(e=t.yAxisIndex,t=t.xAxisIndex);for(var n=0,a=this._coordsList;n&lt;a.length;n++)if(a[n].getAxis(&quot;x&quot;).index===t||a[n].getAxis(&quot;y&quot;).index===e)return a[n]},dv.getCartesians=function(){return this._coordsList.slice()},dv.convertToPixel=function(t,e,i){var n=this._findConvertTarget(t,e);return n.cartesian?n.cartesian.dataToPoint(i):n.axis?n.axis.toGlobalCoord(n.axis.dataToCoord(i)):null},dv.convertFromPixel=function(t,e,i){var n=this._findConvertTarget(t,e);return n.cartesian?n.cartesian.pointToData(i):n.axis?n.axis.coordToData(n.axis.toLocalCoord(i)):null},dv._findConvertTarget=function(t,e){var i,n,a=e.seriesModel,o=e.xAxisModel||a&amp;&amp;a.getReferringComponents(&quot;xAxis&quot;)[0],r=e.yAxisModel||a&amp;&amp;a.getReferringComponents(&quot;yAxis&quot;)[0],s=e.gridModel,l=this._coordsList;if(a)i=a.coordinateSystem,rl.indexOf(l,i)&lt;0&amp;&amp;(i=null);else if(o&amp;&amp;r)i=this.getCartesian(o.componentIndex,r.componentIndex);else if(o)n=this.getAxis(&quot;x&quot;,o.componentIndex);else if(r)n=this.getAxis(&quot;y&quot;,r.componentIndex);else if(s){s.coordinateSystem===this&amp;&amp;(i=this._coordsList[0])}return{cartesian:i,axis:n}},dv.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},dv._initCartesian=function(t,e,i){function n(e){return function(i,n){if(xi(i,t)){var s=i.get(&quot;position&quot;);&quot;x&quot;===e?&quot;top&quot;!==s&amp;&amp;&quot;bottom&quot;!==s&amp;&amp;a[s=&quot;bottom&quot;]&amp;&amp;(s=&quot;top&quot;===s?&quot;bottom&quot;:&quot;top&quot;):&quot;left&quot;!==s&amp;&amp;&quot;right&quot;!==s&amp;&amp;a[s=&quot;left&quot;]&amp;&amp;(s=&quot;left&quot;===s?&quot;right&quot;:&quot;left&quot;),a[s]=!0;var l=new Jm(e,Rg.createScaleByModel(i),[0,0],i.get(&quot;type&quot;),s),h=&quot;category&quot;===l.type;l.onBand=h&amp;&amp;i.get(&quot;boundaryGap&quot;),l.inverse=i.get(&quot;inverse&quot;),l.onZero=i.get(&quot;axisLine.onZero&quot;),l.onZeroAxisIndex=i.get(&quot;axisLine.onZeroAxisIndex&quot;),i.axis=l,l.model=i,l.grid=this,l.index=n,this._axesList.push(l),o[e][n]=l,r[e]++}}}var a={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},r={x:0,y:0};if(e.eachComponent(&quot;xAxis&quot;,n(&quot;x&quot;),this),e.eachComponent(&quot;yAxis&quot;,n(&quot;y&quot;),this),!r.x||!r.y)return this._axesMap={},void(this._axesList=[]);this._axesMap=o,hv(o.x,function(e,i){hv(o.y,function(n,a){var o=&quot;x&quot;+i+&quot;y&quot;+a,r=new $m(o);r.grid=this,r.model=t,this._coordsMap[o]=r,this._coordsList.push(r),r.addAxis(e),r.addAxis(n)},this)},this)},dv._updateScale=function(t,e){function i(t,e,i){hv(i.coordDimToDataDim(e.dim),function(i){e.scale.unionExtentFromData(t,i)})}rl.each(this._axesList,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeries(function(t){if(Mi(t)){var n=Si(t),a=n[0],o=n[1];if(!xi(a,e)||!xi(o,e))return;var r=this.getCartesian(a.componentIndex,o.componentIndex),s=t.getData(),l=r.getAxis(&quot;x&quot;),h=r.getAxis(&quot;y&quot;);&quot;list&quot;===s.type&amp;&amp;(i(s,l,t),i(s,h,t))}},this)},dv.getTooltipAxes=function(t){var e=[],i=[];return hv(this.getCartesians(),function(n){var a=null!=t&amp;&amp;&quot;auto&quot;!==t?n.getAxis(t):n.getBaseAxis(),o=n.getOtherAxis(a);rl.indexOf(e,a)&lt;0&amp;&amp;e.push(a),rl.indexOf(i,o)&lt;0&amp;&amp;i.push(o)}),{baseAxes:e,otherAxes:i}};var pv=[&quot;xAxis&quot;,&quot;yAxis&quot;];_i.create=function(t,e){var i=[];return t.eachComponent(&quot;grid&quot;,function(n,a){var o=new _i(n,t,e);o.name=&quot;grid_&quot;+a,o.resize(n,e,!0),n.coordinateSystem=o,i.push(o)}),t.eachSeries(function(t){if(Mi(t)){var e=Si(t),i=e[0],n=e[1],a=i.getCoordSysModel().coordinateSystem;t.coordinateSystem=a.getCartesian(i.componentIndex,n.componentIndex)}}),i},_i.dimensions=_i.prototype.dimensions=$m.prototype.dimensions,rf.register(&quot;cartesian2d&quot;,_i);var fv=rl.retrieve,gv=rl.defaults,mv=rl.extend,vv=rl.each,yv=Pu.isRadianAroundZero,xv=Pu.remRadian,_v=Ug.createSymbol,bv=ll.applyTransform,wv=Math.PI,Sv=function(t,e){this.opt=e,this.axisModel=t,gv(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new fp.Group;var i=new fp.Group({position:e.position.slice(),rotation:e.rotation});i.updateTransform(),this._transform=i.transform,this._dumbGroup=i};Sv.prototype={constructor:Sv,hasBuilder:function(t){return!!Mv[t]},add:function(t){Mv[t].call(this)},getGroup:function(){return this.group}};var Mv={axisLine:function(){var t=this.opt,e=this.axisModel;if(e.get(&quot;axisLine.show&quot;)){var i=this.axisModel.axis.getExtent(),n=this._transform,a=[i[0],0],o=[i[1],0];n&amp;&amp;(bv(a,a,n),bv(o,o,n));var r=mv({lineCap:&quot;round&quot;},e.getModel(&quot;axisLine.lineStyle&quot;).getLineStyle());this.group.add(new fp.Line(fp.subPixelOptimizeLine({anid:&quot;line&quot;,shape:{x1:a[0],y1:a[1],x2:o[0],y2:o[1]},style:r,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1})));var s=e.get(&quot;axisLine.symbol&quot;),l=e.get(&quot;axisLine.symbolSize&quot;);if(null!=s){&quot;string&quot;==typeof s&amp;&amp;(s=[s,s]),&quot;string&quot;!=typeof l&amp;&amp;&quot;number&quot;!=typeof l||(l=[l,l]);var h=l[0],u=l[1];vv([[t.rotation+Math.PI/2,a],[t.rotation-Math.PI/2,o]],function(t,e){if(&quot;none&quot;!==s[e]&amp;&amp;null!=s[e]){var i=_v(s[e],-h/2,-u/2,h,u,r.stroke,!0);i.attr({rotation:t[0],position:t[1],silent:!0}),this.group.add(i)}},this)}}},axisTickLabel:function(){var t=this.axisModel,e=this.opt,i=function(t,e,i){var n=e.axis;if(e.get(&quot;axisTick.show&quot;)&amp;&amp;!n.scale.isBlank()){for(var a=e.getModel(&quot;axisTick&quot;),o=a.getModel(&quot;lineStyle&quot;),r=a.get(&quot;length&quot;),s=Av(a,i.labelInterval),l=n.getTicksCoords(a.get(&quot;alignWithLabel&quot;)),h=n.scale.getTicks(),u=e.get(&quot;axisLabel.showMinLabel&quot;),c=e.get(&quot;axisLabel.showMaxLabel&quot;),d=[],p=[],f=t._transform,g=[],m=l.length,v=0;v&lt;m;v++)if(!Tv(n,v,s,m,u,c)){var y=l[v];d[0]=y,d[1]=0,p[0]=y,p[1]=i.tickDirection*r,f&amp;&amp;(bv(d,d,f),bv(p,p,f));var x=new fp.Line(fp.subPixelOptimizeLine({anid:&quot;tick_&quot;+h[v],shape:{x1:d[0],y1:d[1],x2:p[0],y2:p[1]},style:gv(o.getLineStyle(),{stroke:e.get(&quot;axisLine.lineStyle.color&quot;)}),z2:2,silent:!0}));t.group.add(x),g.push(x)}return g}}(this,t,e);!function(t,e,i){var n=t.get(&quot;axisLabel.showMinLabel&quot;),a=t.get(&quot;axisLabel.showMaxLabel&quot;);e=e||[],i=i||[];var o=e[0],r=e[1],s=e[e.length-1],l=e[e.length-2],h=i[0],u=i[1],c=i[i.length-1],d=i[i.length-2];!1===n?(Ai(o),Ai(h)):Ci(o,r)&amp;&amp;(n?(Ai(r),Ai(u)):(Ai(o),Ai(h))),!1===a?(Ai(s),Ai(c)):Ci(l,s)&amp;&amp;(a?(Ai(l),Ai(d)):(Ai(s),Ai(c)))}(t,function(t,e,i){var n=e.axis;if(fv(i.axisLabelShow,e.get(&quot;axisLabel.show&quot;))&amp;&amp;!n.scale.isBlank()){var a=e.getModel(&quot;axisLabel&quot;),o=a.get(&quot;margin&quot;),r=n.scale.getTicks(),s=e.getFormattedLabels(),l=(fv(i.labelRotate,a.get(&quot;rotate&quot;))||0)*wv/180,h=Iv(i.rotation,l,i.labelDirection),u=e.get(&quot;data&quot;),c=[],d=Ti(e),p=e.get(&quot;triggerEvent&quot;),f=e.get(&quot;axisLabel.showMinLabel&quot;),g=e.get(&quot;axisLabel.showMaxLabel&quot;);return vv(r,function(l,m){if(!Tv(n,m,i.labelInterval,r.length,f,g)){var v=a;u&amp;&amp;u[l]&amp;&amp;u[l].textStyle&amp;&amp;(v=new _p(u[l].textStyle,a,e.ecModel));var y=v.getTextColor()||e.get(&quot;axisLine.lineStyle.color&quot;),x=[n.dataToCoord(l),i.labelOffset+i.labelDirection*o],_=n.scale.getLabel(l),b=new fp.Text({anid:&quot;label_&quot;+l,position:x,rotation:h.rotation,silent:d,z2:10});fp.setTextStyle(b.style,v,{text:s[m],textAlign:v.getShallow(&quot;align&quot;,!0)||h.textAlign,textVerticalAlign:v.getShallow(&quot;verticalAlign&quot;,!0)||v.getShallow(&quot;baseline&quot;,!0)||h.textVerticalAlign,textFill:&quot;function&quot;==typeof y?y(&quot;category&quot;===n.type?_:&quot;value&quot;===n.type?l+&quot;&quot;:l,m):y}),p&amp;&amp;(b.eventData=Ii(e),b.eventData.targetType=&quot;axisLabel&quot;,b.eventData.value=_),t._dumbGroup.add(b),b.updateTransform(),c.push(b),t.group.add(b),b.decomposeTransform()}}),c}}(this,t,e),i)},axisName:function(){var t=this.opt,e=this.axisModel,i=fv(t.axisName,e.get(&quot;name&quot;));if(i){var n,a=e.get(&quot;nameLocation&quot;),o=t.nameDirection,r=e.getModel(&quot;nameTextStyle&quot;),s=e.get(&quot;nameGap&quot;)||0,l=this.axisModel.axis.getExtent(),h=l[0]&gt;l[1]?-1:1,u=[&quot;start&quot;===a?l[0]-h*s:&quot;end&quot;===a?l[1]+h*s:(l[0]+l[1])/2,Li(a)?t.labelOffset+o*s:0],c=e.get(&quot;nameRotate&quot;);null!=c&amp;&amp;(c=c*wv/180);var d;Li(a)?n=Iv(t.rotation,null!=c?c:t.rotation,o):(n=function(t,e,i,n){var a,o,r=xv(i-t.rotation),s=n[0]&gt;n[1],l=&quot;start&quot;===e&amp;&amp;!s||&quot;start&quot;!==e&amp;&amp;s;return yv(r-wv/2)?(o=l?&quot;bottom&quot;:&quot;top&quot;,a=&quot;center&quot;):yv(r-1.5*wv)?(o=l?&quot;top&quot;:&quot;bottom&quot;,a=&quot;center&quot;):(o=&quot;middle&quot;,a=r&lt;1.5*wv&amp;&amp;r&gt;wv/2?l?&quot;left&quot;:&quot;right&quot;:l?&quot;right&quot;:&quot;left&quot;),{rotation:r,textAlign:a,textVerticalAlign:o}}(t,a,c||0,l),null!=(d=t.axisNameAvailableWidth)&amp;&amp;(d=Math.abs(d/Math.sin(n.rotation)),!isFinite(d)&amp;&amp;(d=null)));var p=r.getFont(),f=e.get(&quot;nameTruncate&quot;,!0)||{},g=f.ellipsis,m=fv(t.nameTruncateMaxWidth,f.maxWidth,d),v=null!=g&amp;&amp;null!=m?Eu.truncateText(i,m,p,g,{minChar:2,placeholder:f.placeholder}):i,y=e.get(&quot;tooltip&quot;,!0),x=e.mainType,_={componentType:x,name:i,$vars:[&quot;name&quot;]};_[x+&quot;Index&quot;]=e.componentIndex;var b=new fp.Text({anid:&quot;name&quot;,__fullText:i,__truncatedText:v,position:u,rotation:n.rotation,silent:Ti(e),z2:1,tooltip:y&amp;&amp;y.show?mv({content:i,formatter:function(){return i},formatterParams:_},y):null});fp.setTextStyle(b.style,r,{text:v,textFont:p,textFill:r.getTextColor()||e.get(&quot;axisLine.lineStyle.color&quot;),textAlign:n.textAlign,textVerticalAlign:n.textVerticalAlign}),e.get(&quot;triggerEvent&quot;)&amp;&amp;(b.eventData=Ii(e),b.eventData.targetType=&quot;axisName&quot;,b.eventData.name=i),this._dumbGroup.add(b),b.updateTransform(),this.group.add(b),b.decomposeTransform()}}},Iv=Sv.innerTextLayout=function(t,e,i){var n,a,o=xv(e-t);return yv(o)?(a=i&gt;0?&quot;top&quot;:&quot;bottom&quot;,n=&quot;center&quot;):yv(o-wv)?(a=i&gt;0?&quot;bottom&quot;:&quot;top&quot;,n=&quot;center&quot;):(a=&quot;middle&quot;,n=o&gt;0&amp;&amp;o&lt;wv?i&gt;0?&quot;right&quot;:&quot;left&quot;:i&gt;0?&quot;left&quot;:&quot;right&quot;),{rotation:o,textAlign:n,textVerticalAlign:a}},Tv=Sv.ifIgnoreOnTick=function(t,e,i,n,a,o){if(0===e&amp;&amp;a||e===n-1&amp;&amp;o)return!1;var r,s=t.scale;return&quot;ordinal&quot;===s.type&amp;&amp;(&quot;function&quot;==typeof i?(r=s.getTicks()[e],!i(r,s.getLabel(r))):e%(i+1))},Av=Sv.getInterval=function(t,e){var i=t.get(&quot;interval&quot;);return null!=i&amp;&amp;&quot;auto&quot;!=i||(i=e),i},Cv=Sv,Lv=rl.each,Dv=rl.curry,Pv={collect:function(t,e){var i={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(t,e,i){var n=e.getComponent(&quot;tooltip&quot;),a=e.getComponent(&quot;axisPointer&quot;),o=a.get(&quot;link&quot;,!0)||[],r=[];Lv(i.getCoordinateSystems(),function(i){function s(n,s,l){var c=l.model.getModel(&quot;axisPointer&quot;,a),d=c.get(&quot;show&quot;);if(d&amp;&amp;(&quot;auto&quot;!==d||n||ki(c))){null==s&amp;&amp;(s=c.get(&quot;triggerTooltip&quot;));var p=(c=n?function(t,e,i,n,a,o){var r=e.getModel(&quot;axisPointer&quot;),s={};Lv([&quot;type&quot;,&quot;snap&quot;,&quot;lineStyle&quot;,&quot;shadowStyle&quot;,&quot;label&quot;,&quot;animation&quot;,&quot;animationDurationUpdate&quot;,&quot;animationEasingUpdate&quot;,&quot;z&quot;],function(t){s[t]=rl.clone(r.get(t))}),s.snap=&quot;category&quot;!==t.type&amp;&amp;!!o,&quot;cross&quot;===r.get(&quot;type&quot;)&amp;&amp;(s.type=&quot;line&quot;);var l=s.label||(s.label={});if(null==l.show&amp;&amp;(l.show=!1),&quot;cross&quot;===a&amp;&amp;(l.show=!0,!o)){var h=s.lineStyle=r.get(&quot;crossStyle&quot;);h&amp;&amp;rl.defaults(l,h.textStyle)}return t.model.getModel(&quot;axisPointer&quot;,new _p(s,i,n))}(l,u,a,e,n,s):c).get(&quot;snap&quot;),f=Oi(l.model),g=s||p||&quot;category&quot;===l.type,m=t.axesInfo[f]={key:f,axis:l,coordSys:i,axisPointerModel:c,triggerTooltip:s,involveSeries:g,snap:p,useHandle:ki(c),seriesModels:[]};h[f]=m,t.seriesInvolved|=g;var v=function(t,e){for(var i=e.model,n=e.dim,a=0;a&lt;t.length;a++){var o=t[a]||{};if(Di(o[n+&quot;AxisId&quot;],i.id)||Di(o[n+&quot;AxisIndex&quot;],i.componentIndex)||Di(o[n+&quot;AxisName&quot;],i.name))return a}}(o,l);if(null!=v){var y=r[v]||(r[v]={axesInfo:{}});y.axesInfo[f]=m,y.mapper=o[v].mapper,m.linkGroup=y}}}if(i.axisPointerEnabled){var l=Oi(i.model),h=t.coordSysAxesInfo[l]={};t.coordSysMap[l]=i;var u=i.model.getModel(&quot;tooltip&quot;,n);if(Lv(i.getAxes(),Dv(s,!1,null)),i.getTooltipAxes&amp;&amp;n&amp;&amp;u.get(&quot;show&quot;)){var c=&quot;axis&quot;===u.get(&quot;trigger&quot;),d=&quot;cross&quot;===u.get(&quot;axisPointer.type&quot;),p=i.getTooltipAxes(u.get(&quot;axisPointer.axis&quot;));(c||d)&amp;&amp;Lv(p.baseAxes,Dv(s,!d||&quot;cross&quot;,c)),d&amp;&amp;Lv(p.otherAxes,Dv(s,&quot;cross&quot;,!1))}}})}(i,t,e),i.seriesInvolved&amp;&amp;function(t,e){e.eachSeries(function(e){var i=e.coordinateSystem,n=e.get(&quot;tooltip.trigger&quot;,!0),a=e.get(&quot;tooltip.show&quot;,!0);i&amp;&amp;&quot;none&quot;!==n&amp;&amp;!1!==n&amp;&amp;&quot;item&quot;!==n&amp;&amp;!1!==a&amp;&amp;!1!==e.get(&quot;axisPointer.show&quot;,!0)&amp;&amp;Lv(t.coordSysAxesInfo[Oi(i.model)],function(t){var n=t.axis;i.getAxis(n.dim)===n&amp;&amp;(t.seriesModels.push(e),null==t.seriesDataCount&amp;&amp;(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())})},this)}(i,t),i},fixValue:function(t){var e=Pi(t);if(e){var i=e.axisPointerModel,n=e.axis.scale,a=i.option,o=i.get(&quot;status&quot;),r=i.get(&quot;value&quot;);null!=r&amp;&amp;(r=n.parse(r));var s=ki(i);null==o&amp;&amp;(a.status=s?&quot;show&quot;:&quot;hide&quot;);var l=n.getExtent().slice();l[0]&gt;l[1]&amp;&amp;l.reverse(),(null==r||r&gt;l[1])&amp;&amp;(r=l[1]),r&lt;l[0]&amp;&amp;(r=l[0]),a.value=r,s&amp;&amp;(a.status=e.axis.scale.isBlank()?&quot;hide&quot;:&quot;show&quot;)}},getAxisInfo:Pi,getAxisPointerModel:function(t){var e=Pi(t);return e&amp;&amp;e.axisPointerModel},makeKey:Oi},kv=ym.extendComponentView({type:&quot;axis&quot;,_axisPointer:null,axisPointerClass:null,render:function(t,e,i,n){this.axisPointerClass&amp;&amp;Pv.fixValue(t),kv.superApply(this,&quot;render&quot;,arguments),zi(this,t,0,i,0,!0)},updateAxisPointer:function(t,e,i,n,a){zi(this,t,0,i,0,!1)},remove:function(t,e){var i=this._axisPointer;i&amp;&amp;i.remove(e),kv.superApply(this,&quot;remove&quot;,arguments)},dispose:function(t,e){Ei(this,e),kv.superApply(this,&quot;dispose&quot;,arguments)}}),Ov=[];kv.registerAxisPointerClass=function(t,e){Ov[t]=e},kv.getAxisPointerClass=function(t){return t&amp;&amp;Ov[t]};var zv=kv,Ev={layout:function(t,e,i){i=i||{};var n=t.coordinateSystem,a=e.axis,o={},r=a.position,s=a.onZero?&quot;onZero&quot;:r,l=a.dim,h=n.getRect(),u=[h.x,h.x+h.width,h.y,h.y+h.height],c={left:0,right:1,top:0,bottom:1,onZero:2},d=e.get(&quot;offset&quot;)||0,p=&quot;x&quot;===l?[u[2]-d,u[3]+d]:[u[0]-d,u[1]+d];if(a.onZero){var f=n.getAxis(&quot;x&quot;===l?&quot;y&quot;:&quot;x&quot;,a.onZeroAxisIndex),g=f.toGlobalCoord(f.dataToCoord(0));p[c.onZero]=Math.max(Math.min(g,p[1]),p[0])}o.position=[&quot;y&quot;===l?p[c[s]]:u[0],&quot;x&quot;===l?p[c[s]]:u[3]],o.rotation=Math.PI/2*(&quot;x&quot;===l?0:1),o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[r],o.labelOffset=a.onZero?p[c[r]]-p[c.onZero]:0,e.get(&quot;axisTick.inside&quot;)&amp;&amp;(o.tickDirection=-o.tickDirection),rl.retrieve(i.labelInside,e.get(&quot;axisLabel.inside&quot;))&amp;&amp;(o.labelDirection=-o.labelDirection);var m=e.get(&quot;axisLabel.rotate&quot;);return o.labelRotate=&quot;top&quot;===s?-m:m,o.labelInterval=a.getLabelInterval(),o.z2=1,o}},Rv=Cv.ifIgnoreOnTick,Nv=Cv.getInterval,Vv=[&quot;axisLine&quot;,&quot;axisTickLabel&quot;,&quot;axisName&quot;],Bv=[&quot;splitArea&quot;,&quot;splitLine&quot;],Gv=zv.extend({type:&quot;cartesianAxis&quot;,axisPointerClass:&quot;CartesianAxisPointer&quot;,render:function(t,e,i,n){this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new fp.Group,this.group.add(this._axisGroup),t.get(&quot;show&quot;)){var o=t.getCoordSysModel(),r=Ev.layout(o,t),s=new Cv(t,r);rl.each(Vv,s.add,s),this._axisGroup.add(s.getGroup()),rl.each(Bv,function(e){t.get(e+&quot;.show&quot;)&amp;&amp;this[&quot;_&quot;+e](t,o,r.labelInterval)},this),fp.groupTransition(a,this._axisGroup,t),Gv.superCall(this,&quot;render&quot;,t,e,i,n)}},_splitLine:function(t,e,i){var n=t.axis;if(!n.scale.isBlank()){var a=t.getModel(&quot;splitLine&quot;),o=a.getModel(&quot;lineStyle&quot;),r=o.get(&quot;color&quot;),s=Nv(a,i);r=rl.isArray(r)?r:[r];for(var l=e.coordinateSystem.getRect(),h=n.isHorizontal(),u=0,c=n.getTicksCoords(),d=n.scale.getTicks(),p=t.get(&quot;axisLabel.showMinLabel&quot;),f=t.get(&quot;axisLabel.showMaxLabel&quot;),g=[],m=[],v=o.getLineStyle(),y=0;y&lt;c.length;y++)if(!Rv(n,y,s,c.length,p,f)){var x=n.toGlobalCoord(c[y]);h?(g[0]=x,g[1]=l.y,m[0]=x,m[1]=l.y+l.height):(g[0]=l.x,g[1]=x,m[0]=l.x+l.width,m[1]=x);var _=u++%r.length;this._axisGroup.add(new fp.Line(fp.subPixelOptimizeLine({anid:&quot;line_&quot;+d[y],shape:{x1:g[0],y1:g[1],x2:m[0],y2:m[1]},style:rl.defaults({stroke:r[_]},v),silent:!0})))}}},_splitArea:function(t,e,i){var n=t.axis;if(!n.scale.isBlank()){var a=t.getModel(&quot;splitArea&quot;),o=a.getModel(&quot;areaStyle&quot;),r=o.get(&quot;color&quot;),s=e.coordinateSystem.getRect(),l=n.getTicksCoords(),h=n.scale.getTicks(),u=n.toGlobalCoord(l[0]),c=n.toGlobalCoord(l[0]),d=0,p=Nv(a,i),f=o.getAreaStyle();r=rl.isArray(r)?r:[r];for(var g=t.get(&quot;axisLabel.showMinLabel&quot;),m=t.get(&quot;axisLabel.showMaxLabel&quot;),v=1;v&lt;l.length;v++)if(!Rv(n,v,p,l.length,g,m)){var y,x,_,b,w=n.toGlobalCoord(l[v]);n.isHorizontal()?(y=u,x=s.y,_=w-y,b=s.height):(y=s.x,x=c,_=s.width,b=w-x);var S=d++%r.length;this._axisGroup.add(new fp.Rect({anid:&quot;area_&quot;+h[v],shape:{x:y,y:x,width:_,height:b},style:rl.defaults({fill:r[S]},f),silent:!0})),u=y+_,c=x+b}}}});Gv.extend({type:&quot;xAxis&quot;}),Gv.extend({type:&quot;yAxis&quot;}),ym.extendComponentView({type:&quot;grid&quot;,render:function(t,e){this.group.removeAll(),t.get(&quot;show&quot;)&amp;&amp;this.group.add(new fp.Rect({shape:t.coordinateSystem.getRect(),style:rl.defaults({fill:t.get(&quot;backgroundColor&quot;)},t.getItemStyle()),silent:!0,z2:-1}))}}),ym.registerPreprocessor(function(t){t.xAxis&amp;&amp;t.yAxis&amp;&amp;!t.grid&amp;&amp;(t.grid={})}),ym.registerVisual(rl.curry(Fm,&quot;line&quot;,&quot;circle&quot;,&quot;line&quot;)),ym.registerLayout(rl.curry(Zm,&quot;line&quot;)),ym.registerProcessor(ym.PRIORITY.PROCESSOR.STATISTIC,rl.curry(qm,&quot;line&quot;));var Hv=Pu.parsePercent,Wv=&quot;__ec_stack_&quot;;Bi.getLayoutOnAxis=function(t,e){var i=[],n=t.axis;if(&quot;category&quot;===n.type){for(var a=n.getBandWidth(),o=0;o&lt;t.count;o++)i.push(rl.defaults({bandWidth:a,axisKey:&quot;axis0&quot;,stackId:Wv+o},t));for(var r=Vi(i),s=[],o=0;o&lt;t.count;o++){var l=r.axis0[Wv+o];l.offsetCenter=l.offset+l.width/2,s.push(l)}return s}};var Fv=Bi,Zv=zf.extend({type:&quot;series.__base_bar__&quot;,getInitialData:function(t,e){return dg(t.data,this,e)},getMarkerPosition:function(t){var e=this.coordinateSystem;if(e){var i=e.dataToPoint(t,!0),n=this.getData(),a=n.getLayout(&quot;offset&quot;),o=n.getLayout(&quot;size&quot;);return i[e.getBaseAxis().isHorizontal()?0:1]+=a+o/2,i}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:&quot;cartesian2d&quot;,legendHoverLink:!0,barMinHeight:0,barMinAngle:0,itemStyle:{}}}),jv=(Zv.extend({type:&quot;series.bar&quot;,dependencies:[&quot;grid&quot;,&quot;polar&quot;],brushSelector:&quot;rect&quot;}),{setLabel:function(t,e,i,n,a,o,r){var s=i.getModel(&quot;label.normal&quot;),l=i.getModel(&quot;label.emphasis&quot;);fp.setLabelStyle(t,e,s,l,{labelFetcher:a,labelDataIndex:o,defaultText:a.getRawValue(o),isRectText:!0,autoColor:n}),Gi(t),Gi(e)}}),Uv=Gu([[&quot;fill&quot;,&quot;color&quot;],[&quot;stroke&quot;,&quot;borderColor&quot;],[&quot;lineWidth&quot;,&quot;borderWidth&quot;],[&quot;stroke&quot;,&quot;barBorderColor&quot;],[&quot;lineWidth&quot;,&quot;barBorderWidth&quot;],[&quot;opacity&quot;],[&quot;shadowBlur&quot;],[&quot;shadowOffsetX&quot;],[&quot;shadowOffsetY&quot;],[&quot;shadowColor&quot;]]),qv={getBarItemStyle:function(t){var e=Uv(this,t);if(this.getBorderLineDash){var i=this.getBorderLineDash();i&amp;&amp;(e.lineDash=i)}return e}},Xv=jv.setLabel,Yv=[&quot;itemStyle&quot;,&quot;normal&quot;,&quot;barBorderWidth&quot;];rl.extend(_p.prototype,qv);ym.extendChartView({type:&quot;bar&quot;,render:function(t,e,i){var n=t.get(&quot;coordinateSystem&quot;);return&quot;cartesian2d&quot;!==n&amp;&amp;&quot;polar&quot;!==n||this._render(t,e,i),this.group},dispose:rl.noop,_render:function(t,e,i){var n,a=this.group,o=t.getData(),r=this._data,s=t.coordinateSystem,l=s.getBaseAxis();&quot;cartesian2d&quot;===s.type?n=l.isHorizontal():&quot;polar&quot;===s.type&amp;&amp;(n=&quot;angle&quot;===l.dim);var h=t.isAnimationEnabled()?t:null;o.diff(r).add(function(e){if(o.hasValue(e)){var i=o.getItemModel(e),r=Kv[s.type](o,e,i),l=$v[s.type](o,e,i,r,n,h);o.setItemGraphicEl(e,l),a.add(l),Fi(l,o,e,i,r,t,n,&quot;polar&quot;===s.type)}}).update(function(e,i){var l=r.getItemGraphicEl(i);if(o.hasValue(e)){var u=o.getItemModel(e),c=Kv[s.type](o,e,u);l?fp.updateProps(l,{shape:c},h,e):l=$v[s.type](o,e,u,c,n,h,!0),o.setItemGraphicEl(e,l),a.add(l),Fi(l,o,e,u,c,t,n,&quot;polar&quot;===s.type)}else a.remove(l)}).remove(function(t){var e=r.getItemGraphicEl(t);&quot;cartesian2d&quot;===s.type?e&amp;&amp;Hi(t,h,e):e&amp;&amp;Wi(t,h,e)}).execute(),this._data=o},remove:function(t,e){var i=this.group,n=this._data;t.get(&quot;animation&quot;)?n&amp;&amp;n.eachItemGraphicEl(function(e){&quot;sector&quot;===e.type?Wi(e.dataIndex,t,e):Hi(e.dataIndex,t,e)}):i.removeAll()}});var $v={cartesian2d:function(t,e,i,n,a,o,r){var s=new fp.Rect({shape:rl.extend({},n)});if(o){var l=s.shape,h=a?&quot;height&quot;:&quot;width&quot;,u={};l[h]=0,u[h]=n[h],fp[r?&quot;updateProps&quot;:&quot;initProps&quot;](s,{shape:u},o,e)}return s},polar:function(t,e,i,n,a,o,r){var s=new fp.Sector({shape:rl.extend({},n)});if(o){var l=s.shape,h=a?&quot;r&quot;:&quot;endAngle&quot;,u={};l[h]=a?0:n.startAngle,u[h]=n[h],fp[r?&quot;updateProps&quot;:&quot;initProps&quot;](s,{shape:u},o,e)}return s}},Kv={cartesian2d:function(t,e,i){var n=t.getItemLayout(e),a=function(t,e){var i=t.get(Yv)||0;return Math.min(i,Math.abs(e.width),Math.abs(e.height))}(i,n),o=n.width&gt;0?1:-1,r=n.height&gt;0?1:-1;return{x:n.x+o*a/2,y:n.y+r*a/2,width:n.width-o*a,height:n.height-r*a}},polar:function(t,e,i){var n=t.getItemLayout(e);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle}}};ym.registerLayout(rl.curry(Fv,&quot;bar&quot;)),ym.registerVisual(function(t){t.eachSeriesByType(&quot;bar&quot;,function(t){t.getData().setVisual(&quot;legendSymbol&quot;,&quot;roundRect&quot;)})});var Jv={updateSelectedMap:function(t){this._targetList=t.slice(),this._selectTargetMap=rl.reduce(t||[],function(t,e){return t.set(e.name,e),t},rl.createHashMap())},select:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);&quot;single&quot;===this.get(&quot;selectedMode&quot;)&amp;&amp;this._selectTargetMap.each(function(t){t.selected=!1}),i&amp;&amp;(i.selected=!0)},unSelect:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);i&amp;&amp;(i.selected=!1)},toggleSelected:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);if(null!=i)return this[i.selected?&quot;unSelect&quot;:&quot;select&quot;](t,e),i.selected},isSelected:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);return i&amp;&amp;i.selected}},Qv=Pu.getPercentWithPrecision,ty=ym.extendSeriesModel({type:&quot;series.pie&quot;,init:function(t){ty.superApply(this,&quot;init&quot;,arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(t.data),this._defaultLabelLine(t)},mergeOption:function(t){ty.superCall(this,&quot;mergeOption&quot;,t),this.updateSelectedMap(this.option.data)},getInitialData:function(t,e){var i=sg([&quot;value&quot;],t.data),n=new tg(i,this);return n.initData(t.data),n},getDataParams:function(t){var e=this.getData(),i=ty.superCall(this,&quot;getDataParams&quot;,t),n=[];return e.each(&quot;value&quot;,function(t){n.push(t)}),i.percent=Qv(n,t,e.hostModel.get(&quot;percentPrecision&quot;)),i.$vars.push(&quot;percent&quot;),i},_defaultLabelLine:function(t){Ip.defaultEmphasis(t.labelLine,[&quot;show&quot;]);var e=t.labelLine.normal,i=t.labelLine.emphasis;e.show=e.show&amp;&amp;t.label.normal.show,i.show=i.show&amp;&amp;t.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:[&quot;50%&quot;,&quot;50%&quot;],radius:[0,&quot;75%&quot;],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{normal:{rotate:!1,show:!0,position:&quot;outer&quot;},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:&quot;solid&quot;}}},itemStyle:{normal:{borderWidth:1},emphasis:{}},animationType:&quot;expansion&quot;,animationEasing:&quot;cubicOut&quot;,data:[]}});rl.mixin(ty,Jv);var ey=ji.prototype;ey.updateData=function(t,e,i){function n(){o.stopAnimation(!0),o.animateTo({shape:{r:l.r+r.get(&quot;hoverOffset&quot;)}},300,&quot;elasticOut&quot;)}function a(){o.stopAnimation(!0),o.animateTo({shape:{r:l.r}},300,&quot;elasticOut&quot;)}var o=this.childAt(0),r=t.hostModel,s=t.getItemModel(e),l=t.getItemLayout(e),h=rl.extend({},l);if(h.label=null,i){o.setShape(h);&quot;scale&quot;===r.getShallow(&quot;animationType&quot;)?(o.shape.r=l.r0,fp.initProps(o,{shape:{r:l.r}},r,e)):(o.shape.endAngle=l.startAngle,fp.updateProps(o,{shape:{endAngle:l.endAngle}},r,e))}else fp.updateProps(o,{shape:h},r,e);var u=s.getModel(&quot;itemStyle&quot;),c=t.getItemVisual(e,&quot;color&quot;);o.useStyle(rl.defaults({lineJoin:&quot;bevel&quot;,fill:c},u.getModel(&quot;normal&quot;).getItemStyle())),o.hoverStyle=u.getModel(&quot;emphasis&quot;).getItemStyle();var d=s.getShallow(&quot;cursor&quot;);d&amp;&amp;o.attr(&quot;cursor&quot;,d),Zi(this,t.getItemLayout(e),s.get(&quot;selected&quot;),r.get(&quot;selectedOffset&quot;),r.get(&quot;animation&quot;)),o.off(&quot;mouseover&quot;).off(&quot;mouseout&quot;).off(&quot;emphasis&quot;).off(&quot;normal&quot;),s.get(&quot;hoverAnimation&quot;)&amp;&amp;r.isAnimationEnabled()&amp;&amp;o.on(&quot;mouseover&quot;,n).on(&quot;mouseout&quot;,a).on(&quot;emphasis&quot;,n).on(&quot;normal&quot;,a),this._updateLabel(t,e),fp.setHoverStyle(this)},ey._updateLabel=function(t,e){var i=this.childAt(1),n=this.childAt(2),a=t.hostModel,o=t.getItemModel(e),r=t.getItemLayout(e).label,s=t.getItemVisual(e,&quot;color&quot;);fp.updateProps(i,{shape:{points:r.linePoints||[[r.x,r.y],[r.x,r.y],[r.x,r.y]]}},a,e),fp.updateProps(n,{style:{x:r.x,y:r.y}},a,e),n.attr({rotation:r.rotation,origin:[r.x,r.y],z2:10});var l=o.getModel(&quot;label.normal&quot;),h=o.getModel(&quot;label.emphasis&quot;),u=o.getModel(&quot;labelLine.normal&quot;),c=o.getModel(&quot;labelLine.emphasis&quot;),s=t.getItemVisual(e,&quot;color&quot;);fp.setLabelStyle(n.style,n.hoverStyle={},l,h,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:t.getName(e),autoColor:s,useInsideStyle:!!r.inside},{textAlign:r.textAlign,textVerticalAlign:r.verticalAlign,opacity:t.getItemVisual(e,&quot;opacity&quot;)}),n.ignore=n.normalIgnore=!l.get(&quot;show&quot;),n.hoverIgnore=!h.get(&quot;show&quot;),i.ignore=i.normalIgnore=!u.get(&quot;show&quot;),i.hoverIgnore=!c.get(&quot;show&quot;),i.setStyle({stroke:s,opacity:t.getItemVisual(e,&quot;opacity&quot;)}),i.setStyle(u.getModel(&quot;lineStyle&quot;).getLineStyle()),i.hoverStyle=c.getModel(&quot;lineStyle&quot;).getLineStyle();var d=u.get(&quot;smooth&quot;);d&amp;&amp;!0===d&amp;&amp;(d=.4),i.setShape({smooth:d})},rl.inherits(ji,fp.Group);Bf.extend({type:&quot;pie&quot;,init:function(){var t=new fp.Group;this._sectorGroup=t},render:function(t,e,i,n){if(!n||n.from!==this.uid){var a=t.getData(),o=this._data,r=this.group,s=e.get(&quot;animation&quot;),l=!o,h=t.get(&quot;animationType&quot;),u=rl.curry(function(t,e,i,n){var a=e.getData(),o=this.dataIndex,r=a.getName(o),s=e.get(&quot;selectedOffset&quot;);n.dispatchAction({type:&quot;pieToggleSelect&quot;,from:t,name:r,seriesId:e.id}),a.each(function(t){Zi(a.getItemGraphicEl(t),a.getItemLayout(t),e.isSelected(a.getName(t)),s,i)})},this.uid,t,s,i),c=t.get(&quot;selectedMode&quot;);if(a.diff(o).add(function(t){var e=new ji(a,t);l&amp;&amp;&quot;scale&quot;!==h&amp;&amp;e.eachChild(function(t){t.stopAnimation(!0)}),c&amp;&amp;e.on(&quot;click&quot;,u),a.setItemGraphicEl(t,e),r.add(e)}).update(function(t,e){var i=o.getItemGraphicEl(e);i.updateData(a,t),i.off(&quot;click&quot;),c&amp;&amp;i.on(&quot;click&quot;,u),r.add(i),a.setItemGraphicEl(t,i)}).remove(function(t){var e=o.getItemGraphicEl(t);r.remove(e)}).execute(),s&amp;&amp;l&amp;&amp;a.count()&gt;0&amp;&amp;&quot;scale&quot;!==h){var d=a.getItemLayout(0),p=Math.max(i.getWidth(),i.getHeight())/2,f=rl.bind(r.removeClipPath,r);r.setClipPath(this._createClipPath(d.cx,d.cy,p,d.startAngle,d.clockwise,f,t))}this._data=a}},dispose:function(){},_createClipPath:function(t,e,i,n,a,o,r){var s=new fp.Sector({shape:{cx:t,cy:e,r0:0,r:i,startAngle:n,endAngle:n,clockwise:a}});return fp.initProps(s,{shape:{endAngle:n+(a?1:-1)*Math.PI*2}},r,o),s},containPoint:function(t,e){var i=e.getData().getItemLayout(0);if(i){var n=t[0]-i.cx,a=t[1]-i.cy,o=Math.sqrt(n*n+a*a);return o&lt;=i.r&amp;&amp;o&gt;=i.r0}}});var iy=function(t,e){rl.each(e,function(e){e.update=&quot;updateView&quot;,ym.registerAction(e,function(i,n){var a={};return n.eachComponent({mainType:&quot;series&quot;,subType:t,query:i},function(t){t[e.method]&amp;&amp;t[e.method](i.name,i.dataIndex);var n=t.getData();n.each(function(e){var i=n.getName(e);a[i]=t.isSelected(i)||!1})}),{name:i.name,selected:a}})})},ny=function(t,e){var i={};e.eachRawSeriesByType(t,function(t){var n=t.getRawData(),a={};if(!e.isSeriesFiltered(t)){var o=t.getData();o.each(function(t){var e=o.getRawIndex(t);a[e]=t}),n.each(function(e){var r=a[e],s=null!=r&amp;&amp;o.getItemVisual(r,&quot;color&quot;,!0);if(s)n.setItemVisual(e,&quot;color&quot;,s);else{var l=n.getItemModel(e).get(&quot;itemStyle.normal.color&quot;)||t.getColorFromPalette(n.getName(e),i);n.setItemVisual(e,&quot;color&quot;,l),null!=r&amp;&amp;o.setItemVisual(r,&quot;color&quot;,l)}})}})},ay=function(t,e,i,n){var a,o,r=t.getData(),s=[],l=!1;r.each(function(i){var n,h,u,c,d=r.getItemLayout(i),p=r.getItemModel(i),f=p.getModel(&quot;label.normal&quot;),g=f.get(&quot;position&quot;)||p.get(&quot;label.emphasis.position&quot;),m=p.getModel(&quot;labelLine.normal&quot;),v=m.get(&quot;length&quot;),y=m.get(&quot;length2&quot;),x=(d.startAngle+d.endAngle)/2,_=Math.cos(x),b=Math.sin(x);a=d.cx,o=d.cy;var w=&quot;inside&quot;===g||&quot;inner&quot;===g;if(&quot;center&quot;===g)n=d.cx,h=d.cy,c=&quot;center&quot;;else{var S=(w?(d.r+d.r0)/2*_:d.r*_)+a,M=(w?(d.r+d.r0)/2*b:d.r*b)+o;if(n=S+3*_,h=M+3*b,!w){var I=S+_*(v+e-d.r),T=M+b*(v+e-d.r),A=I+(_&lt;0?-1:1)*y,C=T;n=A+(_&lt;0?-5:5),h=C,u=[[S,M],[I,T],[A,C]]}c=w?&quot;center&quot;:_&gt;0?&quot;left&quot;:&quot;right&quot;}var L=f.getFont(),D=f.get(&quot;rotate&quot;)?_&lt;0?-x+Math.PI:-x:0,P=t.getFormattedLabel(i,&quot;normal&quot;)||r.getName(i),k=Nh.getBoundingRect(P,L,c,&quot;top&quot;);l=!!D,d.label={x:n,y:h,position:g,height:k.height,len:v,len2:y,linePoints:u,textAlign:c,verticalAlign:&quot;middle&quot;,rotation:D,inside:w},w||s.push(d.label)}),!l&amp;&amp;t.get(&quot;avoidLabelOverlap&quot;)&amp;&amp;function(t,e,i,n,a,o){for(var r=[],s=[],l=0;l&lt;t.length;l++)t[l].x&lt;e?r.push(t[l]):s.push(t[l]);for(Ui(s,e,i,n,1,0,o),Ui(r,e,i,n,-1,0,o),l=0;l&lt;t.length;l++){var h=t[l].linePoints;if(h){var u=h[1][0]-h[2][0];t[l].x&lt;e?h[2][0]=t[l].x+3:h[2][0]=t[l].x-3,h[1][1]=h[2][1]=t[l].y,h[1][0]=h[2][0]+u}}}(s,a,o,e,0,n)},oy=Pu.parsePercent,ry=Pu.linearMap,sy=2*Math.PI,ly=Math.PI/180,hy=function(t,e,i,n){e.eachSeriesByType(t,function(t){var e=t.get(&quot;center&quot;),n=t.get(&quot;radius&quot;);rl.isArray(n)||(n=[0,n]),rl.isArray(e)||(e=[e,e]);var a=i.getWidth(),o=i.getHeight(),r=Math.min(a,o),s=oy(e[0],a),l=oy(e[1],o),h=oy(n[0],r/2),u=oy(n[1],r/2),c=t.getData(),d=-t.get(&quot;startAngle&quot;)*ly,p=t.get(&quot;minAngle&quot;)*ly,f=0;c.each(&quot;value&quot;,function(t){!isNaN(t)&amp;&amp;f++});var g=c.getSum(&quot;value&quot;),m=Math.PI/(g||f)*2,v=t.get(&quot;clockwise&quot;),y=t.get(&quot;roseType&quot;),x=t.get(&quot;stillShowZeroSum&quot;),_=c.getDataExtent(&quot;value&quot;);_[0]=0;var b=sy,w=0,S=d,M=v?1:-1;if(c.each(&quot;value&quot;,function(t,e){var i;if(isNaN(t))c.setItemLayout(e,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:v,cx:s,cy:l,r0:h,r:y?NaN:u});else{(i=&quot;area&quot;!==y?0===g&amp;&amp;x?m:t*m:sy/f)&lt;p?(i=p,b-=p):w+=t;var n=S+M*i;c.setItemLayout(e,{angle:i,startAngle:S,endAngle:n,clockwise:v,cx:s,cy:l,r0:h,r:y?ry(t,_,[h,u]):u}),S=n}},!0),b&lt;sy&amp;&amp;f)if(b&lt;=.001){var I=sy/f;c.each(&quot;value&quot;,function(t,e){if(!isNaN(t)){var i=c.getItemLayout(e);i.angle=I,i.startAngle=d+M*e*I,i.endAngle=d+M*(e+1)*I}})}else m=b/w,S=d,c.each(&quot;value&quot;,function(t,e){if(!isNaN(t)){var i=c.getItemLayout(e),n=i.angle===p?p:t*m;i.startAngle=S,i.endAngle=S+M*n,S+=M*n}});ay(t,u,a,o)})},uy=function(t,e){var i=e.findComponents({mainType:&quot;legend&quot;});i&amp;&amp;i.length&amp;&amp;e.eachSeriesByType(t,function(t){var e=t.getData();e.filterSelf(function(t){for(var n=e.getName(t),a=0;a&lt;i.length;a++)if(!i[a].isSelected(n))return!1;return!0},this)},this)};iy(&quot;pie&quot;,[{type:&quot;pieToggleSelect&quot;,event:&quot;pieselectchanged&quot;,method:&quot;toggleSelected&quot;},{type:&quot;pieSelect&quot;,event:&quot;pieselected&quot;,method:&quot;select&quot;},{type:&quot;pieUnSelect&quot;,event:&quot;pieunselected&quot;,method:&quot;unSelect&quot;}]),ym.registerVisual(rl.curry(ny,&quot;pie&quot;)),ym.registerLayout(rl.curry(hy,&quot;pie&quot;)),ym.registerProcessor(rl.curry(uy,&quot;pie&quot;));zf.extend({type:&quot;series.scatter&quot;,dependencies:[&quot;grid&quot;,&quot;polar&quot;,&quot;geo&quot;,&quot;singleAxis&quot;,&quot;calendar&quot;],getInitialData:function(t,e){return dg(t.data,this,e)},brushSelector:&quot;point&quot;,defaultOption:{coordinateSystem:&quot;cartesian2d&quot;,zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{normal:{opacity:.8}}}});var cy=Ug.createSymbol,dy=fp.extendShape({shape:{points:null,sizes:null},symbolProxy:null,buildPath:function(t,e){for(var i=e.points,n=e.sizes,a=this.symbolProxy,o=a.shape,r=0;r&lt;i.length;r++){var s=i[r];if(!isNaN(s[0])&amp;&amp;!isNaN(s[1])){var l=n[r];l[0]&lt;4?t.rect(s[0]-l[0]/2,s[1]-l[1]/2,l[0],l[1]):(o.x=s[0]-l[0]/2,o.y=s[1]-l[1]/2,o.width=l[0],o.height=l[1],a.buildPath(t,o,!0))}}},findDataIndex:function(t,e){for(var i=this.shape,n=i.points,a=i.sizes,o=n.length-1;o&gt;=0;o--){var r=n[o],s=a[o],l=r[0]-s[0]/2,h=r[1]-s[1]/2;if(t&gt;=l&amp;&amp;e&gt;=h&amp;&amp;t&lt;=l+s[0]&amp;&amp;e&lt;=h+s[1])return o}return-1}}),py=qi.prototype;py.updateData=function(t){this.group.removeAll();var e=this._symbolEl,i=t.hostModel;e.setShape({points:t.mapArray(t.getItemLayout),sizes:t.mapArray(function(e){var i=t.getItemVisual(e,&quot;symbolSize&quot;);return i instanceof Array||(i=[i,i]),i})}),e.symbolProxy=cy(t.getVisual(&quot;symbol&quot;),0,0,0,0),e.setColor=e.symbolProxy.setColor,e.useStyle(i.getModel(&quot;itemStyle.normal&quot;).getItemStyle([&quot;color&quot;]));var n=t.getVisual(&quot;color&quot;);n&amp;&amp;e.setColor(n),e.seriesIndex=i.seriesIndex,e.on(&quot;mousemove&quot;,function(t){e.dataIndex=null;var i=e.findDataIndex(t.offsetX,t.offsetY);i&gt;=0&amp;&amp;(e.dataIndex=i)}),this.group.add(e)},py.updateLayout=function(t){var e=t.getData();this._symbolEl.setShape({points:e.mapArray(e.getItemLayout)})},py.remove=function(){this.group.removeAll()};var fy=qi;ym.extendChartView({type:&quot;scatter&quot;,init:function(){this._normalSymbolDraw=new Pm,this._largeSymbolDraw=new fy},render:function(t,e,i){var n=t.getData(),a=this._largeSymbolDraw,o=this._normalSymbolDraw,r=this.group,s=t.get(&quot;large&quot;)&amp;&amp;n.count()&gt;t.get(&quot;largeThreshold&quot;)?a:o;this._symbolDraw=s,s.updateData(n),r.add(s.group),r.remove(s===a?o.group:a.group)},updateLayout:function(t){this._symbolDraw.updateLayout(t)},remove:function(t,e){this._symbolDraw&amp;&amp;this._symbolDraw.remove(e,!0)},dispose:function(){}}),ym.registerVisual(rl.curry(Fm,&quot;scatter&quot;,&quot;circle&quot;,null)),ym.registerLayout(rl.curry(Zm,&quot;scatter&quot;)),rl.inherits(Xi,Kg);var gy=Xi,my=Rg.getScaleExtent,vy=Rg.niceScaleExtent;Yi.prototype.getIndicatorAxes=function(){return this._indicatorAxes},Yi.prototype.dataToPoint=function(t,e){var i=this._indicatorAxes[e];return this.coordToPoint(i.dataToCoord(t),e)},Yi.prototype.coordToPoint=function(t,e){var i=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(i),this.cy-t*Math.sin(i)]},Yi.prototype.pointToData=function(t){var e=t[0]-this.cx,i=t[1]-this.cy,n=Math.sqrt(e*e+i*i);e/=n,i/=n;for(var a,o=Math.atan2(-i,e),r=1/0,s=-1,l=0;l&lt;this._indicatorAxes.length;l++){var h=this._indicatorAxes[l],u=Math.abs(o-h.angle);u&lt;r&amp;&amp;(a=h,s=l,r=u)}return[s,+(a&amp;&amp;a.coodToData(n))]},Yi.prototype.resize=function(t,e){var i=t.get(&quot;center&quot;),n=e.getWidth(),a=e.getHeight(),o=Math.min(n,a)/2;this.cx=Pu.parsePercent(i[0],n),this.cy=Pu.parsePercent(i[1],a),this.startAngle=t.get(&quot;startAngle&quot;)*Math.PI/180,this.r=Pu.parsePercent(t.get(&quot;radius&quot;),o),rl.each(this._indicatorAxes,function(t,e){t.setExtent(0,this.r);var i=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;i=Math.atan2(Math.sin(i),Math.cos(i)),t.angle=i},this)},Yi.prototype.update=function(t,e){function i(t){var e=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),i=t/e;return 2===i?i=5:i*=2,i*e}var n=this._indicatorAxes,a=this._model;rl.each(n,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType(&quot;radar&quot;,function(e,i){if(&quot;radar&quot;===e.get(&quot;coordinateSystem&quot;)&amp;&amp;t.getComponent(&quot;radar&quot;,e.get(&quot;radarIndex&quot;))===a){var o=e.getData();rl.each(n,function(t){t.scale.unionExtentFromData(o,t.dim)})}},this);var o=a.get(&quot;splitNumber&quot;);rl.each(n,function(t,e){var n=my(t.scale,t.model);vy(t.scale,t.model);var a=t.model,r=t.scale,s=a.getMin(),l=a.getMax(),h=r.getInterval();if(null!=s&amp;&amp;null!=l)r.setExtent(+s,+l),r.setInterval((l-s)/o);else if(null!=s){var u;do{u=s+h*o,r.setExtent(+s,u),r.setInterval(h),h=i(h)}while(u&lt;n[1]&amp;&amp;isFinite(u)&amp;&amp;isFinite(n[1]))}else if(null!=l){var c;do{c=l-h*o,r.setExtent(c,+l),r.setInterval(h),h=i(h)}while(c&gt;n[0]&amp;&amp;isFinite(c)&amp;&amp;isFinite(n[0]))}else{r.getTicks().length-1&gt;o&amp;&amp;(h=i(h));var d=Math.round((n[0]+n[1])/2/h)*h,p=Math.round(o/2);r.setExtent(Pu.round(d-p*h),Pu.round(d+(o-p)*h)),r.setInterval(h)}})},Yi.dimensions=[],Yi.create=function(t,e){var i=[];return t.eachComponent(&quot;radar&quot;,function(n){var a=new Yi(n,t,e);i.push(a),n.coordinateSystem=a}),t.eachSeriesByType(&quot;radar&quot;,function(t){&quot;radar&quot;===t.get(&quot;coordinateSystem&quot;)&amp;&amp;(t.coordinateSystem=i[t.get(&quot;radarIndex&quot;)||0])}),i},rf.register(&quot;radar&quot;,Yi);var yy=ev.valueAxis,xy=(ym.extendComponentModel({type:&quot;radar&quot;,optionUpdated:function(){var t=this.get(&quot;boundaryGap&quot;),e=this.get(&quot;splitNumber&quot;),i=this.get(&quot;scale&quot;),n=this.get(&quot;axisLine&quot;),a=this.get(&quot;axisTick&quot;),o=this.get(&quot;axisLabel&quot;),r=this.get(&quot;name&quot;),s=this.get(&quot;name.show&quot;),l=this.get(&quot;name.formatter&quot;),h=this.get(&quot;nameGap&quot;),u=this.get(&quot;triggerEvent&quot;),c=rl.map(this.get(&quot;indicator&quot;)||[],function(c){null!=c.max&amp;&amp;c.max&gt;0&amp;&amp;!c.min?c.min=0:null!=c.min&amp;&amp;c.min&lt;0&amp;&amp;!c.max&amp;&amp;(c.max=0);var d=r;if(null!=c.color&amp;&amp;(d=rl.defaults({color:c.color},r)),c=rl.merge(rl.clone(c),{boundaryGap:t,splitNumber:e,scale:i,axisLine:n,axisTick:a,axisLabel:o,name:c.text,nameLocation:&quot;end&quot;,nameGap:h,nameTextStyle:d,triggerEvent:u},!1),s||(c.name=&quot;&quot;),&quot;string&quot;==typeof l){var p=c.name;c.name=l.replace(&quot;{value}&quot;,null!=p?p:&quot;&quot;)}else&quot;function&quot;==typeof l&amp;&amp;(c.name=l(c.name,c));var f=rl.extend(new _p(c,null,this.ecModel),Ng);return f.mainType=&quot;radar&quot;,f.componentIndex=this.componentIndex,f},this);this.getIndicatorModels=function(){return c}},defaultOption:{zlevel:0,z:0,center:[&quot;50%&quot;,&quot;50%&quot;],radius:&quot;75%&quot;,startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:&quot;polygon&quot;,axisLine:rl.merge({lineStyle:{color:&quot;#bbb&quot;}},yy.axisLine),axisLabel:$i(yy.axisLabel,!1),axisTick:$i(yy.axisTick,!1),splitLine:$i(yy.splitLine,!0),splitArea:$i(yy.splitArea,!0),indicator:[]}}),[&quot;axisLine&quot;,&quot;axisTickLabel&quot;,&quot;axisName&quot;]),_y=(ym.extendComponentView({type:&quot;radar&quot;,render:function(t,e,i){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},_buildAxes:function(t){var e=t.coordinateSystem,i=e.getIndicatorAxes(),n=rl.map(i,function(t){return new Cv(t.model,{position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})});rl.each(n,function(t){rl.each(xy,t.add,t),this.group.add(t.getGroup())},this)},_buildSplitLineAndArea:function(t){function e(t,e,i){var n=i%e.length;return t[n]=t[n]||[],n}var i=t.coordinateSystem,n=i.getIndicatorAxes();if(n.length){var a=t.get(&quot;shape&quot;),o=t.getModel(&quot;splitLine&quot;),r=t.getModel(&quot;splitArea&quot;),s=o.getModel(&quot;lineStyle&quot;),l=r.getModel(&quot;areaStyle&quot;),h=o.get(&quot;show&quot;),u=r.get(&quot;show&quot;),c=s.get(&quot;color&quot;),d=l.get(&quot;color&quot;);c=rl.isArray(c)?c:[c],d=rl.isArray(d)?d:[d];var p=[],f=[];if(&quot;circle&quot;===a)for(var g=n[0].getTicksCoords(),m=i.cx,v=i.cy,y=0;y&lt;g.length;y++){if(h){p[M=e(p,c,y)].push(new fp.Circle({shape:{cx:m,cy:v,r:g[y]}}))}if(u&amp;&amp;y&lt;g.length-1){f[M=e(f,d,y)].push(new fp.Ring({shape:{cx:m,cy:v,r0:g[y],r:g[y+1]}}))}}else for(var x,_=rl.map(n,function(t,e){var n=t.getTicksCoords();return x=null==x?n.length-1:Math.min(n.length-1,x),rl.map(n,function(t){return i.coordToPoint(t,e)})}),b=[],y=0;y&lt;=x;y++){for(var w=[],S=0;S&lt;n.length;S++)w.push(_[S][y]);if(w[0]&amp;&amp;w.push(w[0].slice()),h){p[M=e(p,c,y)].push(new fp.Polyline({shape:{points:w}}))}if(u&amp;&amp;b){var M=e(f,d,y-1);f[M].push(new fp.Polygon({shape:{points:w.concat(b)}}))}b=w.slice().reverse()}var I=s.getLineStyle(),T=l.getAreaStyle();rl.each(f,function(t,e){this.group.add(fp.mergePath(t,{style:rl.defaults({stroke:&quot;none&quot;,fill:d[e%d.length]},T),silent:!0}))},this),rl.each(p,function(t,e){this.group.add(fp.mergePath(t,{style:rl.defaults({fill:&quot;none&quot;,stroke:c[e%c.length]},I),silent:!0}))},this)}}}),Eu.encodeHTML),by=zf.extend({type:&quot;series.radar&quot;,dependencies:[&quot;radar&quot;],init:function(t){by.superApply(this,&quot;init&quot;,arguments),this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(t,e){var i=t.data||[],n=sg([],i,{extraPrefix:&quot;indicator_&quot;,extraFromZero:!0}),a=new tg(n,this);return a.initData(i),a},formatTooltip:function(t){var e=this.getRawValue(t),i=this.coordinateSystem.getIndicatorAxes(),n=this.getData().getName(t);return _y(&quot;&quot;===n?this.name:n)+&quot;&lt;br/&gt;&quot;+rl.map(i,function(t,i){return _y(t.name+&quot; : &quot;+e[i])}).join(&quot;&lt;br /&gt;&quot;)},defaultOption:{zlevel:0,z:2,coordinateSystem:&quot;radar&quot;,legendHoverLink:!0,radarIndex:0,lineStyle:{normal:{width:2,type:&quot;solid&quot;}},label:{normal:{position:&quot;top&quot;}},symbol:&quot;emptyCircle&quot;,symbolSize:4}}),wy=(ym.extendChartView({type:&quot;radar&quot;,render:function(t,e,i){function n(e,i,n,a,o,r){n.removeAll();for(var s=0;s&lt;i.length-1;s++){var l=function(t,e){var i=t.getItemVisual(e,&quot;symbol&quot;)||&quot;circle&quot;,n=t.getItemVisual(e,&quot;color&quot;);if(&quot;none&quot;!==i){var a=function(t){return rl.isArray(t)||(t=[+t,+t]),t}(t.getItemVisual(e,&quot;symbolSize&quot;)),o=Ug.createSymbol(i,-1,-1,2,2,n);return o.attr({style:{strokeNoScale:!0},z2:100,scale:[a[0]/2,a[1]/2]}),o}}(a,o);l&amp;&amp;(l.__dimIdx=s,e[s]?(l.attr(&quot;position&quot;,e[s]),fp[r?&quot;initProps&quot;:&quot;updateProps&quot;](l,{position:i[s]},t,o)):l.attr(&quot;position&quot;,i[s]),n.add(l))}}function a(t){return rl.map(t,function(t){return[o.cx,o.cy]})}var o=t.coordinateSystem,r=this.group,s=t.getData(),l=this._data;s.diff(l).add(function(e){var i=s.getItemLayout(e);if(i){var o=new fp.Polygon,r=new fp.Polyline,l={shape:{points:i}};o.shape.points=a(i),r.shape.points=a(i),fp.initProps(o,l,t,e),fp.initProps(r,l,t,e);var h=new fp.Group,u=new fp.Group;h.add(r),h.add(o),h.add(u),n(r.shape.points,i,u,s,e,!0),s.setItemGraphicEl(e,h)}}).update(function(e,i){var a=l.getItemGraphicEl(i),o=a.childAt(0),r=a.childAt(1),h=a.childAt(2),u={shape:{points:s.getItemLayout(e)}};u.shape.points&amp;&amp;(n(o.shape.points,u.shape.points,h,s,e,!1),fp.updateProps(o,u,t),fp.updateProps(r,u,t),s.setItemGraphicEl(e,a))}).remove(function(t){r.remove(l.getItemGraphicEl(t))}).execute(),s.eachItemGraphicEl(function(t,e){function i(){l.attr(&quot;ignore&quot;,f)}function n(){l.attr(&quot;ignore&quot;,p)}var a=s.getItemModel(e),o=t.childAt(0),l=t.childAt(1),h=t.childAt(2),u=s.getItemVisual(e,&quot;color&quot;);r.add(t),o.useStyle(rl.defaults(a.getModel(&quot;lineStyle.normal&quot;).getLineStyle(),{fill:&quot;none&quot;,stroke:u})),o.hoverStyle=a.getModel(&quot;lineStyle.emphasis&quot;).getLineStyle();var c=a.getModel(&quot;areaStyle.normal&quot;),d=a.getModel(&quot;areaStyle.emphasis&quot;),p=c.isEmpty()&amp;&amp;c.parentModel.isEmpty(),f=d.isEmpty()&amp;&amp;d.parentModel.isEmpty();f=f&amp;&amp;p,l.ignore=p,l.useStyle(rl.defaults(c.getAreaStyle(),{fill:u,opacity:.7})),l.hoverStyle=d.getAreaStyle();var g=a.getModel(&quot;itemStyle.normal&quot;).getItemStyle([&quot;color&quot;]),m=a.getModel(&quot;itemStyle.emphasis&quot;).getItemStyle(),v=a.getModel(&quot;label.normal&quot;),y=a.getModel(&quot;label.emphasis&quot;);h.eachChild(function(t){t.setStyle(g),t.hoverStyle=rl.clone(m),fp.setLabelStyle(t.style,t.hoverStyle,v,y,{labelFetcher:s.hostModel,labelDataIndex:e,labelDimIndex:t.__dimIdx,defaultText:s.get(s.dimensions[t.__dimIdx],e),autoColor:u,isRectText:!0})}),t.off(&quot;mouseover&quot;).off(&quot;mouseout&quot;).off(&quot;normal&quot;).off(&quot;emphasis&quot;),t.on(&quot;emphasis&quot;,i).on(&quot;mouseover&quot;,i).on(&quot;normal&quot;,n).on(&quot;mouseout&quot;,n),fp.setHoverStyle(t)}),this._data=s},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),function(t){t.eachSeriesByType(&quot;radar&quot;,function(t){var e=t.getData(),i=[],n=t.coordinateSystem;if(n){for(var a=0;a&lt;n.getIndicatorAxes().length;a++){var o=e.dimensions[a];e.each(o,function(t,e){i[e]=i[e]||[],i[e][a]=n.dataToPoint(t,a)})}e.each(function(t){i[t][0]&amp;&amp;i[t].push(i[t][0].slice()),e.setItemLayout(t,i[t])})}})}),Sy=function(t){var e=t.polar;if(e){rl.isArray(e)||(e=[e]);var i=[];rl.each(e,function(e,n){e.indicator?(e.type&amp;&amp;!e.shape&amp;&amp;(e.shape=e.type),t.radar=t.radar||[],rl.isArray(t.radar)||(t.radar=[t.radar]),t.radar.push(e)):i.push(e)}),t.polar=i}rl.each(t.series,function(t){t&amp;&amp;&quot;radar&quot;===t.type&amp;&amp;t.polarIndex&amp;&amp;(t.radarIndex=t.polarIndex)})};ym.registerVisual(rl.curry(ny,&quot;radar&quot;)),ym.registerVisual(rl.curry(Fm,&quot;radar&quot;,&quot;circle&quot;,null)),ym.registerLayout(wy),ym.registerProcessor(rl.curry(uy,&quot;radar&quot;)),ym.registerPreprocessor(Sy);var My=ll.applyTransform;rl.mixin(Ki,Ml),Ji.prototype={constructor:Ji,type:&quot;view&quot;,dimensions:[&quot;x&quot;,&quot;y&quot;],setBoundingRect:function(t,e,i,n){return this._rect=new oh(t,e,i,n),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(t,e,i,n){this.transformTo(t,e,i,n),this._viewRect=new oh(t,e,i,n)},transformTo:function(t,e,i,n){var a=this.getBoundingRect(),o=this._viewTransform;o.transform=a.calculateTransform(new oh(t,e,i,n)),o.decomposeTransform(),this._updateTransform()},setCenter:function(t){t&amp;&amp;(this._center=t,this._updateCenterAndZoom())},setZoom:function(t){t=t||1;var e=this.zoomLimit;e&amp;&amp;(null!=e.max&amp;&amp;(t=Math.min(e.max,t)),null!=e.min&amp;&amp;(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},getDefaultCenter:function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransform},_updateCenterAndZoom:function(){var t=this._viewTransform.getLocalTransform(),e=this._roamTransform,i=this.getDefaultCenter(),n=this.getCenter(),a=this.getZoom();n=ll.applyTransform([],n,t),i=ll.applyTransform([],i,t),e.origin=n,e.position=[i[0]-n[0],i[1]-n[1]],e.scale=[a,a],this._updateTransform()},_updateTransform:function(){var t=this._roamTransform,e=this._viewTransform;e.parent=t,t.updateTransform(),e.updateTransform(),e.transform&amp;&amp;yl.copy(this.transform||(this.transform=[]),e.transform),this.transform?(this.invTransform=this.invTransform||[],yl.invert(this.invTransform,this.transform)):this.invTransform=null,this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},dataToPoint:function(t){var e=this.transform;return e?My([],t,e):[t[0],t[1]]},pointToData:function(t){var e=this.invTransform;return e?My([],t,e):[t[0],t[1]]},convertToPixel:rl.curry(Qi,&quot;dataToPoint&quot;),convertFromPixel:rl.curry(Qi,&quot;pointToData&quot;),containPoint:function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])}},rl.mixin(Ji,Ml);for(var Iy=Ji,Ty=[126,25],Ay=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],Cy=0;Cy&lt;Ay.length;Cy++)for(var Ly=0;Ly&lt;Ay[Cy].length;Ly++)Ay[Cy][Ly][0]/=10.5,Ay[Cy][Ly][1]/=-14,Ay[Cy][Ly][0]+=Ty[0],Ay[Cy][Ly][1]+=Ty[1];var Dy={&quot;åæµ·è¯¸å²&quot;:[32,80],&quot;å¹¿ä¸&quot;:[0,-10],&quot;é¦æ¸¯&quot;:[10,5],&quot;æ¾³é¨&quot;:[-10,10],&quot;å¤©æ´¥&quot;:[5,5]},Py={Russia:[100,60],&quot;United States&quot;:[-99,38],&quot;United States of America&quot;:[-99,38]},ky=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],Oy=[function(t){&quot;china&quot;===t.map&amp;&amp;t.regions.push(new tm(&quot;åæµ·è¯¸å²&quot;,rl.map(Ay,function(t){return{type:&quot;polygon&quot;,exterior:t}}),Ty))},function(t){rl.each(t.regions,function(t){var e=Dy[t.name];if(e){var i=t.center;i[0]+=e[0]/10.5,i[1]+=-e[1]/14}})},function(t){rl.each(t.regions,function(t){var e=Py[t.name];if(e){var i=t.center;i[0]=e[0],i[1]=e[1]}})},function(t){if(&quot;china&quot;===t.map)for(var e=0,i=t.regions.length;e&lt;i;++e)&quot;å°æ¹¾&quot;===t.regions[e].name&amp;&amp;t.regions[e].geometries.push({type:&quot;polygon&quot;,exterior:ky[0]})}];tn.prototype={constructor:tn,type:&quot;geo&quot;,dimensions:[&quot;lng&quot;,&quot;lat&quot;],containCoord:function(t){for(var e=this.regions,i=0;i&lt;e.length;i++)if(e[i].contain(t))return!0;return!1},loadGeoJson:function(t,e,i){try{this.regions=t?em(t):[]}catch(t){throw&quot;Invalid geoJson format\n&quot;+t.message}e=e||{},i=i||{};for(var n=this.regions,a=rl.createHashMap(),o=0;o&lt;n.length;o++){var r=n[o].name;r=i.hasOwnProperty(r)?i[r]:r,n[o].name=r,a.set(r,n[o]),this.addGeoCoord(r,n[o].center);var s=e[r];s&amp;&amp;n[o].transformTo(s.left,s.top,s.width,s.height)}this._regionsMap=a,this._rect=null,rl.each(Oy,function(t){t(this)},this)},transformTo:function(t,e,i,n){var a=this.getBoundingRect();(a=a.clone()).y=-a.y-a.height;var o=this._viewTransform;o.transform=a.calculateTransform(new oh(t,e,i,n)),o.decomposeTransform();var r=o.scale;r[1]=-r[1],o.updateTransform(),this._updateTransform()},getRegion:function(t){return this._regionsMap.get(t)},getRegionByCoord:function(t){for(var e=this.regions,i=0;i&lt;e.length;i++)if(e[i].contain(t))return e[i]},addGeoCoord:function(t,e){this._nameCoordMap.set(t,e)},getGeoCoord:function(t){return this._nameCoordMap.get(t)},getBoundingRect:function(){if(this._rect)return this._rect;for(var t,e=this.regions,i=0;i&lt;e.length;i++){var n=e[i].getBoundingRect();(t=t||n.clone()).union(n)}return this._rect=t||new oh(0,0,0,0)},dataToPoint:function(t){if(&quot;string&quot;==typeof t&amp;&amp;(t=this.getGeoCoord(t)),t)return Iy.prototype.dataToPoint.call(this,t)},convertToPixel:rl.curry(en,&quot;dataToPoint&quot;),convertFromPixel:rl.curry(en,&quot;pointToData&quot;)},rl.mixin(tn,Iy);var zy=tn,Ey={dimensions:zy.prototype.dimensions,create:function(t,e){var i=[];t.eachComponent(&quot;geo&quot;,function(t,n){var a=t.get(&quot;map&quot;),o=ym.getMap(a),r=new zy(a+n,a,o&amp;&amp;o.geoJson,o&amp;&amp;o.specialAreas,t.get(&quot;nameMap&quot;));r.zoomLimit=t.get(&quot;scaleLimit&quot;),i.push(r),an(r,t),t.coordinateSystem=r,r.model=t,r.resize=nn,r.resize(t,e)}),t.eachSeries(function(t){if(&quot;geo&quot;===t.get(&quot;coordinateSystem&quot;)){var e=t.get(&quot;geoIndex&quot;)||0;t.coordinateSystem=i[e]}});var n={};return t.eachSeriesByType(&quot;map&quot;,function(t){if(!t.getHostGeoModel()){var e=t.getMapType();n[e]=n[e]||[],n[e].push(t)}}),rl.each(n,function(t,n){var a=ym.getMap(n),o=rl.map(t,function(t){return t.get(&quot;nameMap&quot;)}),r=new zy(n,n,a&amp;&amp;a.geoJson,a&amp;&amp;a.specialAreas,rl.mergeAll(o));r.zoomLimit=rl.retrieve.apply(null,rl.map(t,function(t){return t.get(&quot;scaleLimit&quot;)})),i.push(r),r.resize=nn,r.resize(t[0],e),rl.each(t,function(t){t.coordinateSystem=r,an(r,t)})}),i},getFilledRegions:function(t,e,i){var n=(t||[]).slice();i=i||{};var a=ym.getMap(e),o=a&amp;&amp;a.geoJson;if(!o)return t;for(var r=rl.createHashMap(),s=o.features,l=0;l&lt;n.length;l++)r.set(n[l].name,n[l]);for(l=0;l&lt;s.length;l++){var h=s[l].properties.name;r.get(h)||(i.hasOwnProperty(h)&amp;&amp;(h=i[h]),n.push({name:h}))}return n}};ym.registerCoordinateSystem(&quot;geo&quot;,Ey);var Ry=Ey,Ny=Eu.encodeHTML,Vy=Eu.addCommas,By=zf.extend({type:&quot;series.map&quot;,dependencies:[&quot;geo&quot;],layoutMode:&quot;box&quot;,needsDrawMap:!1,seriesGroup:[],init:function(t){this._fillOption(t,this.getMapType()),By.superApply(this,&quot;init&quot;,arguments),this.updateSelectedMap(t.data)},getInitialData:function(t){var e=sg([&quot;value&quot;],t.data||[]),i=new tg(e,this);return i.initData(t.data),i},mergeOption:function(t){this._fillOption(t,this.getMapType()),By.superApply(this,&quot;mergeOption&quot;,arguments),this.updateSelectedMap(this.option.data)},getHostGeoModel:function(){var t=this.option.geoIndex;return null!=t?this.dependentModels.geo[t]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(t,e){t.data=Ry.getFilledRegions(t.data,e,t.nameMap)},getRawValue:function(t){return this.getData().get(&quot;value&quot;,t)},getRegionModel:function(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))},formatTooltip:function(t){for(var e=this.getData(),i=Vy(this.getRawValue(t)),n=e.getName(t),a=this.seriesGroup,o=[],r=0;r&lt;a.length;r++){var s=a[r].originalData.indexOfName(n);isNaN(a[r].originalData.get(&quot;value&quot;,s))||o.push(Ny(a[r].name))}return o.join(&quot;, &quot;)+&quot;&lt;br /&gt;&quot;+Ny(n+&quot; : &quot;+i)},getTooltipPosition:function(t){if(null!=t){var e=this.getData().getName(t),i=this.coordinateSystem,n=i.getRegion(e);return n&amp;&amp;i.dataToPoint(n.center)}},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},defaultOption:{zlevel:0,z:2,coordinateSystem:&quot;geo&quot;,map:&quot;&quot;,left:&quot;center&quot;,top:&quot;center&quot;,aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,color:&quot;#000&quot;},emphasis:{show:!0,color:&quot;rgb(100,0,0)&quot;}},itemStyle:{normal:{borderWidth:.5,borderColor:&quot;#444&quot;,areaColor:&quot;#eee&quot;},emphasis:{areaColor:&quot;rgba(255,215,0,0.8)&quot;}}}});rl.mixin(By,Jv);var Gy=&quot;\0_ec_interaction_mutex&quot;;ym.registerAction({type:&quot;takeGlobalCursor&quot;,event:&quot;globalCursorTaken&quot;,update:&quot;update&quot;},function(){});var Hy={take:function(t,e,i){on(t)[e]=i},release:function(t,e,i){var n=on(t);n[e]===i&amp;&amp;(n[e]=null)},isTaken:function(t,e){return!!on(t)[e]}};rl.mixin(rn,dl);var Wy=rn,Fy={updateViewOnPan:function(t,e,i){var n=t.target,a=n.position;a[0]+=e,a[1]+=i,n.dirty()},updateViewOnZoom:function(t,e,i,n){var a=t.target,o=t.zoomLimit,r=a.position,s=a.scale,l=t.zoom=t.zoom||1;if(l*=e,o){var h=o.min||0,u=o.max||1/0;l=Math.max(Math.min(u,l),h)}var c=l/t.zoom;t.zoom=l,r[0]-=(i-r[0])*(c-1),r[1]-=(n-r[1])*(c-1),s[0]*=c,s[1]*=c,a.dirty()}},Zy={axisPointer:1,tooltip:1,brush:1},jy={onIrrelevantElement:function(t,e,i){var n=e.getComponentByElement(t.topTarget),a=n&amp;&amp;n.coordinateSystem;return n&amp;&amp;n!==i&amp;&amp;!Zy[n.mainType]&amp;&amp;a&amp;&amp;a.model!==i}},Uy=jy.onIrrelevantElement;cn.prototype={constructor:cn,draw:function(t,e,i,n,a){var o=&quot;geo&quot;===t.mainType,r=t.getData&amp;&amp;t.getData();o&amp;&amp;e.eachComponent({mainType:&quot;series&quot;,subType:&quot;map&quot;},function(e){r||e.getHostGeoModel()!==t||(r=e.getData())});var s=t.coordinateSystem,l=this.group,h=s.scale,u={position:s.position,scale:h};!l.childAt(0)||a?l.attr(u):fp.updateProps(l,u,t),l.removeAll();var c=[&quot;itemStyle&quot;,&quot;normal&quot;],d=[&quot;itemStyle&quot;,&quot;emphasis&quot;],p=[&quot;label&quot;,&quot;normal&quot;],f=[&quot;label&quot;,&quot;emphasis&quot;],g=rl.createHashMap();rl.each(s.regions,function(e){var i=g.get(e.name)||g.set(e.name,new fp.Group),n=new fp.CompoundPath({shape:{paths:[]}});i.add(n);var a,s=(C=t.getRegionModel(e.name)||t).getModel(c),u=C.getModel(d),m=hn(s),v=hn(u),y=C.getModel(p),x=C.getModel(f);if(r){a=r.indexOfName(e.name);var _=r.getItemVisual(a,&quot;color&quot;,!0);_&amp;&amp;(m.fill=_)}rl.each(e.geometries,function(t){if(&quot;polygon&quot;===t.type){n.shape.paths.push(new fp.Polygon({shape:{points:t.exterior}}));for(var e=0;e&lt;(t.interiors?t.interiors.length:0);e++)n.shape.paths.push(new fp.Polygon({shape:{points:t.interiors[e]}}))}}),n.setStyle(m),n.style.strokeNoScale=!0,n.culling=!0;var b=y.get(&quot;show&quot;),w=x.get(&quot;show&quot;),S=r&amp;&amp;isNaN(r.get(&quot;value&quot;,a)),M=r&amp;&amp;r.getItemLayout(a);if(o||S&amp;&amp;(b||w)||M&amp;&amp;M.showLabel){var I,T=o?e.name:a;(!r||a&gt;=0)&amp;&amp;(I=t);var A=new fp.Text({position:e.center.slice(),scale:[1/h[0],1/h[1]],z2:10,silent:!0});fp.setLabelStyle(A.style,A.hoverStyle={},y,x,{labelFetcher:I,labelDataIndex:T,defaultText:e.name,useInsideStyle:!1},{textAlign:&quot;center&quot;,textVerticalAlign:&quot;middle&quot;}),i.add(A)}if(r)r.setItemGraphicEl(a,i);else{var C=t.getRegionModel(e.name);n.eventData={componentType:&quot;geo&quot;,geoIndex:t.componentIndex,name:e.name,region:C&amp;&amp;C.option||{}}}(i.__regions||(i.__regions=[])).push(e),fp.setHoverStyle(i,v,{hoverSilentOnTouch:!!t.get(&quot;selectedMode&quot;)}),l.add(i)}),this._updateController(t,e,i),function(t,e,i,n,a){i.off(&quot;click&quot;),i.off(&quot;mousedown&quot;),e.get(&quot;selectedMode&quot;)&amp;&amp;(i.on(&quot;mousedown&quot;,function(){t._mouseDownFlag=!0}),i.on(&quot;click&quot;,function(o){if(t._mouseDownFlag){t._mouseDownFlag=!1;for(var r=o.target;!r.__regions;)r=r.parent;if(r){var s={type:(&quot;geo&quot;===e.mainType?&quot;geo&quot;:&quot;map&quot;)+&quot;ToggleSelect&quot;,batch:rl.map(r.__regions,function(t){return{name:t.name,from:a.uid}})};s[e.mainType+&quot;Id&quot;]=e.id,n.dispatchAction(s),un(e,i)}}}))}(this,t,l,i,n),un(t,l)},remove:function(){this.group.removeAll(),this._controller.dispose(),this._controllerHost={}},_updateController:function(t,e,i){function n(){var e={type:&quot;geoRoam&quot;,componentType:s};return e[s+&quot;Id&quot;]=t.id,e}var a=t.coordinateSystem,o=this._controller,r=this._controllerHost;r.zoomLimit=t.get(&quot;scaleLimit&quot;),r.zoom=a.getZoom(),o.enable(t.get(&quot;roam&quot;)||!1);var s=t.mainType;o.off(&quot;pan&quot;).on(&quot;pan&quot;,function(t,e){this._mouseDownFlag=!1,Fy.updateViewOnPan(r,t,e),i.dispatchAction(rl.extend(n(),{dx:t,dy:e}))},this),o.off(&quot;zoom&quot;).on(&quot;zoom&quot;,function(t,e,a){if(this._mouseDownFlag=!1,Fy.updateViewOnZoom(r,t,e,a),i.dispatchAction(rl.extend(n(),{zoom:t,originX:e,originY:a})),this._updateGroup){var o=this.group,s=o.scale;o.traverse(function(t){&quot;text&quot;===t.type&amp;&amp;t.attr(&quot;scale&quot;,[1/s[0],1/s[1]])})}},this),o.setPointerChecker(function(e,n,o){return a.getViewRectAfterRoam().contain(n,o)&amp;&amp;!Uy(e,i,t)})}};var qy=cn,Xy=(ym.extendChartView({type:&quot;map&quot;,render:function(t,e,i,n){if(!n||&quot;mapToggleSelect&quot;!==n.type||n.from!==this.uid){var a=this.group;if(a.removeAll(),!t.getHostGeoModel()){if(n&amp;&amp;&quot;geoRoam&quot;===n.type&amp;&amp;&quot;series&quot;===n.componentType&amp;&amp;n.seriesId===t.id){(o=this._mapDraw)&amp;&amp;a.add(o.group)}else if(t.needsDrawMap){var o=this._mapDraw||new qy(i,!0);a.add(o.group),o.draw(t,e,i,this,n),this._mapDraw=o}else this._mapDraw&amp;&amp;this._mapDraw.remove(),this._mapDraw=null;t.get(&quot;showLegendSymbol&quot;)&amp;&amp;e.getComponent(&quot;legend&quot;)&amp;&amp;this._renderSymbols(t,e,i)}}},remove:function(){this._mapDraw&amp;&amp;this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&amp;&amp;this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(t,e,i){var n=t.originalData,a=this.group;n.each(&quot;value&quot;,function(e,i){if(!isNaN(e)){var o=n.getItemLayout(i);if(o&amp;&amp;o.point){var r=o.point,s=o.offset,l=new fp.Circle({style:{fill:t.getData().getVisual(&quot;color&quot;)},shape:{cx:r[0]+9*s,cy:r[1],r:3},silent:!0,z2:s?8:10});if(!s){var h=t.mainSeries.getData(),u=n.getName(i),c=h.indexOfName(u),d=n.getItemModel(i),p=d.getModel(&quot;label.normal&quot;),f=d.getModel(&quot;label.emphasis&quot;),g=h.getItemGraphicEl(c),m=rl.retrieve2(t.getFormattedLabel(i,&quot;normal&quot;),u),v=rl.retrieve2(t.getFormattedLabel(i,&quot;emphasis&quot;),m),y=function(){var t=fp.setTextStyle({},f,{text:f.get(&quot;show&quot;)?v:null},{isRectText:!0,useInsideStyle:!1},!0);l.style.extendFrom(t),l.__mapOriginalZ2=l.z2,l.z2+=1},x=function(){fp.setTextStyle(l.style,p,{text:p.get(&quot;show&quot;)?m:null,textPosition:p.getShallow(&quot;position&quot;)||&quot;bottom&quot;},{isRectText:!0,useInsideStyle:!1}),null!=l.__mapOriginalZ2&amp;&amp;(l.z2=l.__mapOriginalZ2,l.__mapOriginalZ2=null)};g.on(&quot;mouseover&quot;,y).on(&quot;mouseout&quot;,x).on(&quot;emphasis&quot;,y).on(&quot;normal&quot;,x),x()}a.add(l)}}})}}),{updateCenterAndZoom:function(t,e,i){var n=t.getZoom(),a=t.getCenter(),o=e.zoom,r=t.dataToPoint(a);null!=e.dx&amp;&amp;null!=e.dy&amp;&amp;(r[0]-=e.dx,r[1]-=e.dy,a=t.pointToData(r),t.setCenter(a));if(null!=o){if(i){var s=i.min||0,l=i.max||1/0;o=Math.max(Math.min(n*o,l),s)/n}t.scale[0]*=o,t.scale[1]*=o;var h=t.position,u=(e.originX-h[0])*(o-1),c=(e.originY-h[1])*(o-1);h[0]-=u,h[1]-=c,t.updateTransform(),a=t.pointToData(r),t.setCenter(a),t.setZoom(o*n)}return{center:t.getCenter(),zoom:t.getZoom()}}}),Yy=Xy.updateCenterAndZoom;ym.registerAction({type:&quot;geoRoam&quot;,event:&quot;geoRoam&quot;,update:&quot;updateLayout&quot;},function(t,e){var i=t.componentType||&quot;series&quot;;e.eachComponent({mainType:i,query:t},function(e){var n=e.coordinateSystem;if(&quot;geo&quot;===n.type){var a=Yy(n,t,e.get(&quot;scaleLimit&quot;));e.setCenter&amp;&amp;e.setCenter(a.center),e.setZoom&amp;&amp;e.setZoom(a.zoom),&quot;series&quot;===i&amp;&amp;rl.each(e.seriesGroup,function(t){t.setCenter(a.center),t.setZoom(a.zoom)})}})});var $y=function(t){var e={};t.eachSeriesByType(&quot;map&quot;,function(i){var n=i.getMapType();if(!i.getHostGeoModel()&amp;&amp;!e[n]){var a={};rl.each(i.seriesGroup,function(e){var i=e.coordinateSystem,n=e.originalData;e.get(&quot;showLegendSymbol&quot;)&amp;&amp;t.getComponent(&quot;legend&quot;)&amp;&amp;n.each(&quot;value&quot;,function(t,e){var o=n.getName(e),r=i.getRegion(o);if(r&amp;&amp;!isNaN(t)){var s=a[o]||0,l=i.dataToPoint(r.center);a[o]=s+1,n.setItemLayout(e,{point:l,offset:s})}})});var o=i.getData();o.each(function(t){var e=o.getName(t),i=o.getItemLayout(t)||{};i.showLabel=!a[e],o.setItemLayout(t,i)}),e[n]=!0}})},Ky=function(t){t.eachSeriesByType(&quot;map&quot;,function(t){var e=t.get(&quot;color&quot;),i=t.getModel(&quot;itemStyle.normal&quot;),n=i.get(&quot;areaColor&quot;),a=i.get(&quot;color&quot;)||e[t.seriesIndex%e.length];t.getData().setVisual({areaColor:n,color:a})})},Jy=function(t){var e={};t.eachSeriesByType(&quot;map&quot;,function(t){var i=t.getHostGeoModel(),n=i?&quot;o&quot;+i.id:&quot;i&quot;+t.getMapType();(e[n]=e[n]||[]).push(t)}),rl.each(e,function(t,e){for(var i=function(t,e){var i={},n=[&quot;value&quot;];return rl.each(t,function(t){t.each(n,function(e,n){var a=&quot;ec-&quot;+t.getName(n);i[a]=i[a]||[],isNaN(e)||i[a].push(e)})}),t[0].map(n,function(n,a){for(var o=&quot;ec-&quot;+t[0].getName(a),r=0,s=1/0,l=-1/0,h=i[o].length,u=0;u&lt;h;u++)s=Math.min(s,i[o][u]),l=Math.max(l,i[o][u]),r+=i[o][u];var c;return c=&quot;min&quot;===e?s:&quot;max&quot;===e?l:&quot;average&quot;===e?r/h:r,0===h?NaN:c})}(rl.map(t,function(t){return t.getData()}),t[0].get(&quot;mapValueCalculation&quot;)),n=0;n&lt;t.length;n++)t[n].originalData=t[n].getData();for(n=0;n&lt;t.length;n++)t[n].seriesGroup=t,t[n].needsDrawMap=0===n&amp;&amp;!t[n].getHostGeoModel(),t[n].setData(i.cloneShallow()),t[n].mainSeries=t[0]})},Qy=function(t){var e=[];rl.each(t.series,function(t){t&amp;&amp;&quot;map&quot;===t.type&amp;&amp;(e.push(t),t.map=t.map||t.mapType,rl.defaults(t,t.mapLocation))})};ym.registerLayout($y),ym.registerVisual(Ky),ym.registerProcessor(ym.PRIORITY.PROCESSOR.STATISTIC,Jy),ym.registerPreprocessor(Qy),iy(&quot;map&quot;,[{type:&quot;mapToggleSelect&quot;,event:&quot;mapselectchanged&quot;,method:&quot;toggleSelected&quot;},{type:&quot;mapSelect&quot;,event:&quot;mapselected&quot;,method:&quot;select&quot;},{type:&quot;mapUnSelect&quot;,event:&quot;mapunselected&quot;,method:&quot;unSelect&quot;}]);var tx=rl.each,ex=&quot;\0__link_datas&quot;,ix=&quot;\0__link_mainData&quot;,nx=function(t){var e=t.mainData,i=t.datas;i||(i={main:e},t.datasAttr={main:&quot;data&quot;}),t.datas=t.mainData=null,dn(e,i,t),tx(i,function(i){tx(e.TRANSFERABLE_METHODS,function(e){i.wrapMethod(e,rl.curry(function(t,e){if(function(t){return t[ix]===t}(this)){var i=rl.extend({},this[ex]);i[this.dataType]=e,dn(e,i,t)}else pn(e,this.dataType,this[ix],t);return e},t))})}),e.wrapMethod(&quot;cloneShallow&quot;,rl.curry(function(t,e){return tx(e[ex],function(i,n){i!==e&amp;&amp;pn(i.cloneShallow(),n,e,t)}),e},t)),tx(e.CHANGABLE_METHODS,function(i){e.wrapMethod(i,rl.curry(function(t,e){return t.struct&amp;&amp;t.struct.update(this),e},t))}),rl.assert(i[e.dataType]===e)},ax=function(t,e){this.name=t||&quot;&quot;,this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=e};ax.prototype={constructor:ax,isRemoved:function(){return this.dataIndex&lt;0},eachNode:function(t,e,i){&quot;function&quot;==typeof t&amp;&amp;(i=e,e=t,t=null),t=t||{},rl.isString(t)&amp;&amp;(t={order:t});var n,a=t.order||&quot;preorder&quot;,o=this[t.attr||&quot;children&quot;];&quot;preorder&quot;===a&amp;&amp;(n=e.call(i,this));for(var r=0;!n&amp;&amp;r&lt;o.length;r++)o[r].eachNode(t,e,i);&quot;postorder&quot;===a&amp;&amp;e.call(i,this)},updateDepthAndHeight:function(t){var e=0;this.depth=t;for(var i=0;i&lt;this.children.length;i++){var n=this.children[i];n.updateDepthAndHeight(t+1),n.height&gt;e&amp;&amp;(e=n.height)}this.height=e+1},getNodeById:function(t){if(this.getId()===t)return this;for(var e=0,i=this.children,n=i.length;e&lt;n;e++){var a=i[e].getNodeById(t);if(a)return a}},contains:function(t){if(t===this)return!0;for(var e=0,i=this.children,n=i.length;e&lt;n;e++){var a=i[e].contains(t);if(a)return a}},getAncestors:function(t){for(var e=[],i=t?this:this.parentNode;i;)e.push(i),i=i.parentNode;return e.reverse(),e},getValue:function(t){var e=this.hostTree.data;return e.get(e.getDimension(t||&quot;value&quot;),this.dataIndex)},setLayout:function(t,e){this.dataIndex&gt;=0&amp;&amp;this.hostTree.data.setItemLayout(this.dataIndex,t,e)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(t){if(!(this.dataIndex&lt;0)){var e,i=this.hostTree,n=i.data.getItemModel(this.dataIndex),a=this.getLevelModel();return a||0!==this.children.length&amp;&amp;(0===this.children.length||!1!==this.isExpand)||(e=this.getLeavesModel()),n.getModel(t,(a||e||i.hostModel).getModel(t))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(t,e){this.dataIndex&gt;=0&amp;&amp;this.hostTree.data.setItemVisual(this.dataIndex,t,e)},getVisual:function(t,e){return this.hostTree.data.getItemVisual(this.dataIndex,t,e)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)}},fn.prototype={constructor:fn,type:&quot;tree&quot;,eachNode:function(t,e,i){this.root.eachNode(t,e,i)},getNodeByDataIndex:function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},getNodeByName:function(t){return this.root.getNodeByName(t)},update:function(){for(var t=this.data,e=this._nodes,i=0,n=e.length;i&lt;n;i++)e[i].dataIndex=-1;for(var i=0,n=t.count();i&lt;n;i++)e[t.getRawIndex(i)].dataIndex=i},clearLayouts:function(){this.data.clearItemLayouts()}},fn.createTree=function(t,e,i){function n(t,e){var i=t.value;r=Math.max(r,rl.isArray(i)?i.length:1),o.push(t);var s=new ax(t.name,a);e?function(t,e){var i=e.children;t.parentNode!==e&amp;&amp;(i.push(t),t.parentNode=e)}(s,e):a.root=s,a._nodes.push(s);var l=t.children;if(l)for(var h=0;h&lt;l.length;h++)n(l[h],s)}var a=new fn(e,i.levels,i.leaves),o=[],r=1;n(t),a.root.updateDepthAndHeight(0);var s=sg([{name:&quot;value&quot;}],o,{dimCount:r}),l=new tg(s,e);return l.initData(o),nx({mainData:l,struct:a,structAttr:&quot;tree&quot;}),a.update(),a};var ox=fn,rx=Eu.encodeHTML,sx=(zf.extend({type:&quot;series.tree&quot;,layoutInfo:null,layoutMode:&quot;box&quot;,getInitialData:function(t){var e={name:t.name,children:t.data},i=t.leaves||{},n={};n.leaves=i;var a=ox.createTree(e,this,n),o=0;a.eachNode(&quot;preorder&quot;,function(t){t.depth&gt;o&amp;&amp;(o=t.depth)});var r=t.expandAndCollapse&amp;&amp;t.initialTreeDepth&gt;=0?t.initialTreeDepth:o;return a.root.eachNode(&quot;preorder&quot;,function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e&amp;&amp;null!=e.collapsed?!e.collapsed:t.depth&lt;=r}),a.data},formatTooltip:function(t){for(var e=this.getData().tree,i=e.root.children[0],n=e.getNodeByDataIndex(t),a=n.getValue(),o=n.name;n&amp;&amp;n!==i;)o=n.parentNode.name+&quot;.&quot;+o,n=n.parentNode;return rx(o+(isNaN(a)||null==a?&quot;&quot;:&quot; : &quot;+a))},defaultOption:{zlevel:0,z:2,left:&quot;12%&quot;,top:&quot;12%&quot;,right:&quot;12%&quot;,bottom:&quot;12%&quot;,layout:&quot;orthogonal&quot;,orient:&quot;horizontal&quot;,symbol:&quot;emptyCircle&quot;,symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{normal:{color:&quot;#ccc&quot;,width:1.5,curveness:.5}},itemStyle:{normal:{color:&quot;lightsteelblue&quot;,borderColor:&quot;#c23531&quot;,borderWidth:1.5}},label:{normal:{show:!0,color:&quot;#555&quot;}},leaves:{label:{normal:{show:!0}}},animationEasing:&quot;linear&quot;,animationDuration:700,animationDurationUpdate:1e3}}),{init:function(t){t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var e,i,n=[t];e=n.pop();)if(i=e.children,e.isExpand&amp;&amp;i.length)for(var a=i.length-1;a&gt;=0;a--){var o=i[a];o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:a,thread:null},n.push(o)}},firstWalk:function(t,e){var i=t.isExpand?t.children:[],n=t.parentNode.children,a=t.hierNode.i?n[t.hierNode.i-1]:null;if(i.length){!function(t){for(var e=t.children,i=e.length,n=0,a=0;--i&gt;=0;){var o=e[i];o.hierNode.prelim+=n,o.hierNode.modifier+=n,a+=o.hierNode.change,n+=o.hierNode.shift+a}}(t);var o=(i[0].hierNode.prelim+i[i.length-1].hierNode.prelim)/2;a?(t.hierNode.prelim=a.hierNode.prelim+e(t,a),t.hierNode.modifier=t.hierNode.prelim-o):t.hierNode.prelim=o}else a&amp;&amp;(t.hierNode.prelim=a.hierNode.prelim+e(t,a));t.parentNode.hierNode.defaultAncestor=function(t,e,i,n){if(e){for(var a=t,o=t,r=o.parentNode.children[0],s=e,l=a.hierNode.modifier,h=o.hierNode.modifier,u=r.hierNode.modifier,c=s.hierNode.modifier;s=gn(s),o=mn(o),s&amp;&amp;o;){a=gn(a),r=mn(r),a.hierNode.ancestor=t;var d=s.hierNode.prelim+c-o.hierNode.prelim-h+n(s,o);d&gt;0&amp;&amp;(function(t,e,i){var n=i/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=n,e.hierNode.shift+=i,e.hierNode.modifier+=i,e.hierNode.prelim+=i,t.hierNode.change+=n}(function(t,e,i){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:i}(s,t,i),t,d),h+=d,l+=d),c+=s.hierNode.modifier,h+=o.hierNode.modifier,l+=a.hierNode.modifier,u+=r.hierNode.modifier}s&amp;&amp;!gn(a)&amp;&amp;(a.hierNode.thread=s,a.hierNode.modifier+=c-l),o&amp;&amp;!mn(r)&amp;&amp;(r.hierNode.thread=o,r.hierNode.modifier+=h-u,i=t)}return i}(t,a,t.parentNode.hierNode.defaultAncestor||n[0],e)},secondWalk:function(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier},separation:function(t){return arguments.length?t:function(t,e){return t.parentNode===e.parentNode?1:2}},radialCoordinate:function(t,e){var i={};return t-=Math.PI/2,i.x=e*Math.cos(t),i.y=e*Math.sin(t),i},getViewRect:function(t,e){return Np.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}}),lx=sx.radialCoordinate;ym.extendChartView({type:&quot;tree&quot;,init:function(t,e){this._oldTree,this._mainGroup=new fp.Group,this.group.add(this._mainGroup)},render:function(t,e,i,n){var a=t.getData(),o=t.layoutInfo,r=this._mainGroup,s=t.get(&quot;layout&quot;);&quot;radial&quot;===s?r.attr(&quot;position&quot;,[o.x+o.width/2,o.y+o.height/2]):r.attr(&quot;position&quot;,[o.x,o.y]);var l=this._data,h={expandAndCollapse:t.get(&quot;expandAndCollapse&quot;),layout:s,orient:t.get(&quot;orient&quot;),curvature:t.get(&quot;lineStyle.normal.curveness&quot;),symbolRotate:t.get(&quot;symbolRotate&quot;),symbolOffset:t.get(&quot;symbolOffset&quot;),hoverAnimation:t.get(&quot;hoverAnimation&quot;),useNameLabel:!0,fadeIn:!0};a.diff(l).add(function(e){vn(a,e)&amp;&amp;xn(a,e,null,r,t,h)}).update(function(e,i){var n=l.getItemGraphicEl(i);vn(a,e)?xn(a,e,n,r,t,h):n&amp;&amp;_n(a,e,n,r,t,h)}).remove(function(e){var i=l.getItemGraphicEl(e);_n(a,e,i,r,t,h)}).execute(),!0===h.expandAndCollapse&amp;&amp;a.eachItemGraphicEl(function(e,n){e.off(&quot;click&quot;).on(&quot;click&quot;,function(){i.dispatchAction({type:&quot;treeExpandAndCollapse&quot;,seriesId:t.id,dataIndex:n})})}),this._data=a},dispose:function(){},remove:function(){this._mainGroup.removeAll(),this._data=null}});ym.registerAction({type:&quot;treeExpandAndCollapse&quot;,event:&quot;treeExpandAndCollapse&quot;,update:&quot;update&quot;},function(t,e){e.eachComponent({mainType:&quot;series&quot;,subType:&quot;tree&quot;,query:t},function(e){var i=t.dataIndex,n=e.getData().tree.getNodeByDataIndex(i);n.isExpand=!n.isExpand})});var hx={eachAfter:function(t,e,i){for(var n,a=[t],o=[];n=a.pop();)if(o.push(n),n.isExpand){var r=n.children;if(r.length)for(var s=0;s&lt;r.length;s++)a.push(r[s])}for(;n=o.pop();)e(n,i)},eachBefore:function(t,e){for(var i,n=[t];i=n.pop();)if(e(i),i.isExpand){var a=i.children;if(a.length)for(var o=a.length-1;o&gt;=0;o--)n.push(a[o])}}},ux=hx.eachAfter,cx=hx.eachBefore,dx=sx.init,px=sx.firstWalk,fx=sx.secondWalk,gx=sx.separation,mx=sx.radialCoordinate,vx=sx.getViewRect,yx=function(t,e){var i=vx(t,e);t.layoutInfo=i;var n=t.get(&quot;layout&quot;),a=0,o=0,r=null;&quot;radial&quot;===n?(a=2*Math.PI,o=Math.min(i.height,i.width)/2,r=gx(function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth})):(a=i.width,o=i.height,r=gx());var s=t.getData().tree.root,l=s.children[0];dx(s),ux(l,px,r),s.hierNode.modifier=-l.hierNode.prelim,cx(l,fx);var h=l,u=l,c=l;cx(l,function(t){var e=t.getLayout().x;e&lt;h.getLayout().x&amp;&amp;(h=t),e&gt;u.getLayout().x&amp;&amp;(u=t),t.depth&gt;c.depth&amp;&amp;(c=t)});var d=h===u?1:r(h,u)/2,p=d-h.getLayout().x,f=0,g=0,m=0,v=0;&quot;radial&quot;===n?(f=a/(u.getLayout().x+d+p),g=o/(c.depth-1||1),cx(l,function(t){m=(t.getLayout().x+p)*f,v=(t.depth-1)*g;var e=mx(m,v);t.setLayout({x:e.x,y:e.y,rawX:m,rawY:v},!0)})):&quot;horizontal&quot;===t.get(&quot;orient&quot;)?(g=o/(u.getLayout().x+d+p),f=a/(c.depth-1||1),cx(l,function(t){v=(t.getLayout().x+p)*g,m=(t.depth-1)*f,t.setLayout({x:m,y:v},!0)})):(f=a/(u.getLayout().x+d+p),g=o/(c.depth-1||1),cx(l,function(t){m=(t.getLayout().x+p)*f,v=(t.depth-1)*g,t.setLayout({x:m,y:v},!0)}))},xx=function(t,e){t.eachSeriesByType(&quot;tree&quot;,function(t){yx(t,e)})},_x=function(t,e){t.eachSeriesByType(&quot;tree&quot;,function(t){yx(t,e)})};ym.registerVisual(rl.curry(Fm,&quot;tree&quot;,&quot;circle&quot;,null)),ym.registerLayout(xx),ym.registerLayout(_x);var bx={retrieveTargetInfo:function(t,e){if(t&amp;&amp;(&quot;treemapZoomToNode&quot;===t.type||&quot;treemapRootToNode&quot;===t.type)){var i=e.getData().tree.root,n=t.targetNode;if(n&amp;&amp;i.contains(n))return{node:n};var a=t.targetNodeId;if(null!=a&amp;&amp;(n=i.getNodeById(a)))return{node:n}}},getPathToRoot:wn,aboveViewRoot:function(t,e){var i=wn(t);return rl.indexOf(i,e)&gt;=0},wrapTreePathInfo:function(t,e){for(var i=[];t;){var n=t.dataIndex;i.push({name:t.name,dataIndex:n,value:e.getRawValue(n)}),t=t.parentNode}return i.reverse(),i}},wx=Eu.encodeHTML,Sx=Eu.addCommas,Mx=bx.wrapTreePathInfo,Ix=(zf.extend({type:&quot;series.treemap&quot;,layoutMode:&quot;box&quot;,dependencies:[&quot;grid&quot;,&quot;polar&quot;],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:&quot;center&quot;,top:&quot;middle&quot;,right:null,bottom:null,width:&quot;80%&quot;,height:&quot;80%&quot;,sort:!0,clipWindow:&quot;origin&quot;,squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:&quot;â¶&quot;,zoomToNodeRatio:.1024,roam:!0,nodeClick:&quot;zoomToNode&quot;,animation:!0,animationDurationUpdate:900,animationEasing:&quot;quinticInOut&quot;,breadcrumb:{show:!0,height:22,left:&quot;center&quot;,top:&quot;bottom&quot;,emptyItemWidth:25,itemStyle:{normal:{color:&quot;rgba(0,0,0,0.7)&quot;,borderColor:&quot;rgba(255,255,255,0.7)&quot;,borderWidth:1,shadowColor:&quot;rgba(150,150,150,1)&quot;,shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:&quot;#fff&quot;}},emphasis:{textStyle:{}}}},label:{normal:{show:!0,distance:0,padding:5,position:&quot;inside&quot;,color:&quot;#fff&quot;,ellipsis:!0}},upperLabel:{normal:{show:!1,position:[0,&quot;50%&quot;],height:20,color:&quot;#fff&quot;,ellipsis:!0,verticalAlign:&quot;middle&quot;},emphasis:{show:!0,position:[0,&quot;50%&quot;],color:&quot;#fff&quot;,ellipsis:!0,verticalAlign:&quot;middle&quot;}},itemStyle:{normal:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:&quot;#fff&quot;,borderColorSaturation:null},emphasis:{}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:&quot;index&quot;,visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(t,e){var i={name:t.name,children:t.data};Sn(i);var n=t.levels||[];n=t.levels=function(t,e){var i=e.get(&quot;color&quot;);if(i){t=t||[];var n;return rl.each(t,function(t){var e=new _p(t),i=e.get(&quot;color&quot;);(e.get(&quot;itemStyle.normal.color&quot;)||i&amp;&amp;&quot;none&quot;!==i)&amp;&amp;(n=!0)}),n||((t[0]||(t[0]={})).color=i.slice()),t}}(n,e);var a={};return a.levels=n,ox.createTree(i,this,a).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(t){var e=this.getData(),i=this.getRawValue(t),n=Sx(rl.isArray(i)?i[0]:i),a=e.getName(t);return wx(a+&quot;: &quot;+n)},getDataParams:function(t){var e=zf.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=Mx(i,this),e},setLayoutInfo:function(t){this.layoutInfo=this.layoutInfo||{},rl.extend(this.layoutInfo,t)},mapIdToIndex:function(t){var e=this._idIndexMap;e||(e=this._idIndexMap=rl.createHashMap(),this._idIndexMapCount=0);var i=e.get(t);return null==i&amp;&amp;e.set(t,i=this._idIndexMapCount++),i},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getData().tree.root;t&amp;&amp;(t===e||e.contains(t))||(this._viewRoot=e)}}),bx.wrapTreePathInfo),Tx=5;Mn.prototype={constructor:Mn,render:function(t,e,i,n){var a=t.getModel(&quot;breadcrumb&quot;),o=this.group;if(o.removeAll(),a.get(&quot;show&quot;)&amp;&amp;i){var r=a.getModel(&quot;itemStyle.normal&quot;),s=r.getModel(&quot;textStyle&quot;),l={pos:{left:a.get(&quot;left&quot;),right:a.get(&quot;right&quot;),top:a.get(&quot;top&quot;),bottom:a.get(&quot;bottom&quot;)},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:a.get(&quot;emptyItemWidth&quot;),totalWidth:0,renderList:[]};this._prepare(i,l,s),this._renderContent(t,l,r,s,n),Np.positionElement(o,l.pos,l.box)}},_prepare:function(t,e,i){for(var n=t;n;n=n.parentNode){var a=n.getModel().get(&quot;name&quot;),o=i.getTextRect(a),r=Math.max(o.width+16,e.emptyItemWidth);e.totalWidth+=r+8,e.renderList.push({node:n,text:a,width:r})}},_renderContent:function(t,e,i,n,a){for(var o=0,r=e.emptyItemWidth,s=t.get(&quot;breadcrumb.height&quot;),l=Np.getAvailableSize(e.pos,e.box),h=e.totalWidth,u=e.renderList,c=u.length-1;c&gt;=0;c--){var d=u[c],p=d.node,f=d.width,g=d.text;h&gt;l.width&amp;&amp;(h-=f-r,f=r,g=null);var m=new fp.Polygon({shape:{points:function(t,e,i,n,a,o){var r=[[a?t:t-Tx,e],[t+i,e],[t+i,e+n],[a?t:t-Tx,e+n]];return!o&amp;&amp;r.splice(2,0,[t+i+Tx,e+n/2]),!a&amp;&amp;r.push([t,e+n/2]),r}(o,0,f,s,c===u.length-1,0===c)},style:rl.defaults(i.getItemStyle(),{lineJoin:&quot;bevel&quot;,text:g,textFill:n.getTextColor(),textFont:n.getFont()}),z:10,onclick:rl.curry(a,p)});this.group.add(m),function(t,e,i){t.eventData={componentType:&quot;series&quot;,componentSubType:&quot;treemap&quot;,seriesIndex:e.componentIndex,seriesName:e.name,seriesType:&quot;treemap&quot;,selfType:&quot;breadcrumb&quot;,nodeData:{dataIndex:i&amp;&amp;i.dataIndex,name:i&amp;&amp;i.name},treePathInfo:i&amp;&amp;Ix(i,e)}}(m,t,p),o+=f+8}},remove:function(){this.group.removeAll()}};for(var Ax=Mn,Cx={createWrap:function(){var t,e=[],i={};return{add:function(t,n,a,o,r){return rl.isString(o)&amp;&amp;(r=o,o=0),!i[t.id]&amp;&amp;(i[t.id]=1,e.push({el:t,target:n,time:a,delay:o,easing:r}),!0)},done:function(e){return t=e,this},start:function(){for(var n=e.length,a=0,o=e.length;a&lt;o;a++){var r=e[a];r.el.animateTo(r.target,r.time,r.delay,r.easing,function(){--n||(e.length=0,i={},t&amp;&amp;t())})}return this}}}},Lx=rl.bind,Dx=fp.Group,Px=fp.Rect,kx=rl.each,Ox=[&quot;label&quot;,&quot;normal&quot;],zx=[&quot;label&quot;,&quot;emphasis&quot;],Ex=[&quot;upperLabel&quot;,&quot;normal&quot;],Rx=[&quot;upperLabel&quot;,&quot;emphasis&quot;],Nx=10,Vx=1,Bx=2,Gx=Gu([[&quot;fill&quot;,&quot;color&quot;],[&quot;stroke&quot;,&quot;strokeColor&quot;],[&quot;lineWidth&quot;,&quot;strokeWidth&quot;],[&quot;shadowBlur&quot;],[&quot;shadowOffsetX&quot;],[&quot;shadowOffsetY&quot;],[&quot;shadowColor&quot;]]),Hx=function(t){var e=Gx(t);return e.stroke=e.fill=e.lineWidth=null,e},Wx=(ym.extendChartView({type:&quot;treemap&quot;,init:function(t,e){this._containerGroup,this._storage={nodeGroup:[],background:[],content:[]},this._oldTree,this._breadcrumb,this._controller,this._state=&quot;ready&quot;},render:function(t,e,i,n){var a=e.findComponents({mainType:&quot;series&quot;,subType:&quot;treemap&quot;,query:n});if(!(rl.indexOf(a,t)&lt;0)){this.seriesModel=t,this.api=i,this.ecModel=e;var o=bx.retrieveTargetInfo(n,t),r=n&amp;&amp;n.type,s=t.layoutInfo,l=!this._oldTree,h=this._storage,u=&quot;treemapRootToNode&quot;===r&amp;&amp;o&amp;&amp;h?{rootNodeGroup:h.nodeGroup[o.node.getRawIndex()],direction:n.direction}:null,c=this._giveContainerGroup(s),d=this._doRender(c,t,u);l||r&amp;&amp;&quot;treemapZoomToNode&quot;!==r&amp;&amp;&quot;treemapRootToNode&quot;!==r?d.renderFinally():this._doAnimation(c,d,t,u),this._resetController(i),this._renderBreadcrumb(t,i,o)}},_giveContainerGroup:function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new Dx,this._initEvents(e),this.group.add(e)),e.attr(&quot;position&quot;,[t.x,t.y]),e},_doRender:function(t,e,i){function n(t,e,i,a,o){function r(t){return t.getId()}function s(r,s){var l=null!=r?t[r]:null,h=null!=s?e[s]:null,c=u(l,h,i,o);c&amp;&amp;n(l&amp;&amp;l.viewChildren||[],h&amp;&amp;h.viewChildren||[],c,a,o+1)}a?(e=t,kx(t,function(t,e){!t.isRemoved()&amp;&amp;s(e,e)})):new qf(e,t,r,r).add(s).update(s).remove(rl.curry(s,null)).execute()}var a=e.getData().tree,o=this._oldTree,r={nodeGroup:[],background:[],content:[]},s={nodeGroup:[],background:[],content:[]},l=this._storage,h=[],u=rl.curry(function(t,e,i,n,a,o,r,s,l,h){function u(t,e){v?!t.invisible&amp;&amp;o.push(t):(e(),t.__tmWillVisible||(t.invisible=!1))}function c(e,i,n,a,o,s){var l=r.getModel(),h=rl.retrieve(t.getFormattedLabel(r.dataIndex,&quot;normal&quot;,null,null,s?&quot;upperLabel&quot;:&quot;label&quot;),l.get(&quot;name&quot;));if(!s&amp;&amp;p.isLeafRoot){var u=t.get(&quot;drillDownIcon&quot;,!0);h=u?u+&quot; &quot;+h:h}var c=l.getModel(s?Ex:Ox),d=l.getModel(s?Rx:zx),f=c.getShallow(&quot;show&quot;);fp.setLabelStyle(e,i,c,d,{defaultText:f?h:null,autoColor:n,isRectText:!0}),s&amp;&amp;(e.textRect=rl.clone(s)),e.truncate=f&amp;&amp;c.get(&quot;ellipsis&quot;)?{outerWidth:a,outerHeight:o,minChar:2}:null}function d(t,o,s,l){var h=null!=x&amp;&amp;i[t][x],u=a[t];return h?(i[t][x]=null,function(t,e,i){(t[y]={}).old=&quot;nodeGroup&quot;===i?e.position.slice():rl.extend({},e.shape)}(u,h,t)):v||((h=new o({z:function(t,e){var i=t*Nx+l;return(i-1)/i}(s)})).__tmDepth=s,h.__tmStorageName=t,function(t,e,i){var o=t[y]={},s=r.parentNode;if(s&amp;&amp;(!n||&quot;drillDown&quot;===n.direction)){var l=0,h=0,u=a.background[s.getRawIndex()];!n&amp;&amp;u&amp;&amp;u.old&amp;&amp;(l=u.old.width,h=u.old.height),o.old=&quot;nodeGroup&quot;===i?[0,h]:{x:l,y:h,width:0,height:0}}o.fadein=&quot;nodeGroup&quot;!==i}(u,0,t)),e[t][y]=h}if(r){var p=r.getLayout();if(p&amp;&amp;p.isInView){var f=p.width,g=p.height,m=p.borderWidth,v=p.invisible,y=r.getRawIndex(),x=s&amp;&amp;s.getRawIndex(),_=r.viewChildren,b=p.upperHeight,w=_&amp;&amp;_.length,S=r.getModel(&quot;itemStyle.normal&quot;),M=r.getModel(&quot;itemStyle.emphasis&quot;),I=d(&quot;nodeGroup&quot;,Dx);if(I){if(l.add(I),I.attr(&quot;position&quot;,[p.x||0,p.y||0]),I.__tmNodeWidth=f,I.__tmNodeHeight=g,p.isAboveViewRoot)return I;var T=d(&quot;background&quot;,Px,h,Vx);if(T&amp;&amp;function(e,i,n){i.dataIndex=r.dataIndex,i.seriesIndex=t.seriesIndex,i.setShape({x:0,y:0,width:f,height:g});var a=r.getVisual(&quot;borderColor&quot;,!0),o=M.get(&quot;borderColor&quot;);u(i,function(){var t=Hx(S);t.fill=a;var e=Gx(M);if(e.fill=o,n){var r=f-2*m;c(t,e,a,r,b,{x:m,y:0,width:r,height:b})}else t.text=e.text=null;i.setStyle(t),fp.setHoverStyle(i,e)}),e.add(i)}(I,T,w&amp;&amp;p.upperHeight),!w){var A=d(&quot;content&quot;,Px,h,Bx);A&amp;&amp;function(e,i){i.dataIndex=r.dataIndex,i.seriesIndex=t.seriesIndex;var n=Math.max(f-2*m,0),a=Math.max(g-2*m,0);i.culling=!0,i.setShape({x:m,y:m,width:n,height:a});var o=r.getVisual(&quot;color&quot;,!0);u(i,function(){var t=Hx(S);t.fill=o;var e=Gx(M);c(t,e,o,n,a),i.setStyle(t),fp.setHoverStyle(i,e)}),e.add(i)}(I,A)}return I}}}},e,s,l,i,r,h);n(a.root?[a.root]:[],o&amp;&amp;o.root?[o.root]:[],t,a===o||!o,0);var c=function(t){var e={nodeGroup:[],background:[],content:[]};return t&amp;&amp;kx(t,function(t,i){var n=e[i];kx(t,function(t){t&amp;&amp;(n.push(t),t.__tmWillDelete=1)})}),e}(l);return this._oldTree=a,this._storage=s,{lastsForAnimation:r,willDeleteEls:c,renderFinally:function(){kx(c,function(t){kx(t,function(t){t.parent&amp;&amp;t.parent.remove(t)})}),kx(h,function(t){t.invisible=!0,t.dirty()})}}},_doAnimation:function(t,e,i,n){if(i.get(&quot;animation&quot;)){var a=i.get(&quot;animationDurationUpdate&quot;),o=i.get(&quot;animationEasing&quot;),r=Cx.createWrap();kx(e.willDeleteEls,function(t,e){kx(t,function(t,i){if(!t.invisible){var s,l=t.parent;if(n&amp;&amp;&quot;drillDown&quot;===n.direction)s=l===n.rootNodeGroup?{shape:{x:0,y:0,width:l.__tmNodeWidth,height:l.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var h=0,u=0;l.__tmWillDelete||(h=l.__tmNodeWidth/2,u=l.__tmNodeHeight/2),s=&quot;nodeGroup&quot;===e?{position:[h,u],style:{opacity:0}}:{shape:{x:h,y:u,width:0,height:0},style:{opacity:0}}}s&amp;&amp;r.add(t,s,a,o)}})}),kx(this._storage,function(t,i){kx(t,function(t,n){var s=e.lastsForAnimation[i][n],l={};s&amp;&amp;(&quot;nodeGroup&quot;===i?s.old&amp;&amp;(l.position=t.position.slice(),t.attr(&quot;position&quot;,s.old)):(s.old&amp;&amp;(l.shape=rl.extend({},t.shape),t.setShape(s.old)),s.fadein?(t.setStyle(&quot;opacity&quot;,0),l.style={opacity:1}):1!==t.style.opacity&amp;&amp;(l.style={opacity:1})),r.add(t,l,a,o))})},this),this._state=&quot;animating&quot;,r.done(Lx(function(){this._state=&quot;ready&quot;,e.renderFinally()},this)).start()}},_resetController:function(t){var e=this._controller;e||((e=this._controller=new Wy(t.getZr())).enable(this.seriesModel.get(&quot;roam&quot;)),e.on(&quot;pan&quot;,Lx(this._onPan,this)),e.on(&quot;zoom&quot;,Lx(this._onZoom,this)));var i=new oh(0,0,t.getWidth(),t.getHeight());e.setPointerChecker(function(t,e,n){return i.contain(e,n)})},_clearController:function(){var t=this._controller;t&amp;&amp;(t.dispose(),t=null)},_onPan:function(t,e){if(&quot;animating&quot;!==this._state&amp;&amp;(Math.abs(t)&gt;3||Math.abs(e)&gt;3)){var i=this.seriesModel.getData().tree.root;if(!i)return;var n=i.getLayout();if(!n)return;this.api.dispatchAction({type:&quot;treemapMove&quot;,from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+t,y:n.y+e,width:n.width,height:n.height}})}},_onZoom:function(t,e,i){if(&quot;animating&quot;!==this._state){var n=this.seriesModel.getData().tree.root;if(!n)return;var a=n.getLayout();if(!a)return;var o=new oh(a.x,a.y,a.width,a.height),r=this.seriesModel.layoutInfo;e-=r.x,i-=r.y;var s=yl.create();yl.translate(s,s,[-e,-i]),yl.scale(s,s,[t,t]),yl.translate(s,s,[e,i]),o.applyTransform(s),this.api.dispatchAction({type:&quot;treemapRender&quot;,from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x,y:o.y,width:o.width,height:o.height}})}},_initEvents:function(t){t.on(&quot;click&quot;,function(t){if(&quot;ready&quot;===this._state){var e=this.seriesModel.get(&quot;nodeClick&quot;,!0);if(e){var i=this.findTarget(t.offsetX,t.offsetY);if(i){var n=i.node;if(n.getLayout().isLeafRoot)this._rootToNode(i);else if(&quot;zoomToNode&quot;===e)this._zoomToNode(i);else if(&quot;link&quot;===e){var a=n.hostTree.data.getItemModel(n.dataIndex),o=a.get(&quot;link&quot;,!0),r=a.get(&quot;target&quot;,!0)||&quot;blank&quot;;o&amp;&amp;window.open(o,r)}}}}},this)},_renderBreadcrumb:function(t,e,i){i||(i=null!=t.get(&quot;leafDepth&quot;,!0)?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2))||(i={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new Ax(this.group))).render(t,e,i.node,Lx(function(e){&quot;animating&quot;!==this._state&amp;&amp;(bx.aboveViewRoot(t.getViewRoot(),e)?this._rootToNode({node:e}):this._zoomToNode({node:e}))},this))},remove:function(){this._clearController(),this._containerGroup&amp;&amp;this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state=&quot;ready&quot;,this._breadcrumb&amp;&amp;this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(t){this.api.dispatchAction({type:&quot;treemapZoomToNode&quot;,from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},_rootToNode:function(t){this.api.dispatchAction({type:&quot;treemapRootToNode&quot;,from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},findTarget:function(t,e){var i;return this.seriesModel.getViewRoot().eachNode({attr:&quot;viewChildren&quot;,order:&quot;preorder&quot;},function(n){var a=this._storage.background[n.getRawIndex()];if(a){var o=a.transformCoordToLocal(t,e),r=a.shape;if(!(r.x&lt;=o[0]&amp;&amp;o[0]&lt;=r.x+r.width&amp;&amp;r.y&lt;=o[1]&amp;&amp;o[1]&lt;=r.y+r.height))return!1;i={node:n,offsetX:o[0],offsetY:o[1]}}},this),i}}),[&quot;treemapZoomToNode&quot;,&quot;treemapRender&quot;,&quot;treemapMove&quot;]),Fx=0;Fx&lt;Wx.length;Fx++)ym.registerAction({type:Wx[Fx],update:&quot;updateView&quot;},function(){});ym.registerAction({type:&quot;treemapRootToNode&quot;,update:&quot;updateView&quot;},function(t,e){e.eachComponent({mainType:&quot;series&quot;,subType:&quot;treemap&quot;,query:t},function(e,i){var n=bx.retrieveTargetInfo(t,e);if(n){var a=e.getViewRoot();a&amp;&amp;(t.direction=bx.aboveViewRoot(a,n.node)?&quot;rollUp&quot;:&quot;drillDown&quot;),e.resetViewRoot(n.node)}})});var Zx=Pu.linearMap,jx=rl.each,Ux=rl.isObject,qx=-1,Xx=function(t){var e=t.mappingMethod,i=t.type,n=this.option=rl.clone(t);this.type=i,this.mappingMethod=e,this._normalizeData=$x[e];var a=Yx[i];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._doMap=a._doMap[e],&quot;piecewise&quot;===e?(In(n),function(t){var e=t.pieceList;t.hasSpecialVisual=!1,rl.each(e,function(e,i){e.originIndex=i,null!=e.visual&amp;&amp;(t.hasSpecialVisual=!0)})}(n)):&quot;category&quot;===e?n.categories?function(t){var e=t.categories,i=t.visual,n=t.categoryMap={};if(jx(e,function(t,e){n[t]=e}),!rl.isArray(i)){var a=[];rl.isObject(i)?jx(i,function(t,e){var i=n[e];a[null!=i?i:qx]=t}):a[qx]=i,i=On(t,a)}for(var o=e.length-1;o&gt;=0;o--)null==i[o]&amp;&amp;(delete n[e[o]],e.pop())}(n):In(n,!0):(rl.assert(&quot;linear&quot;!==e||n.dataExtent),In(n))};Xx.prototype={constructor:Xx,mapValueToVisual:function(t){var e=this._normalizeData(t);return this._doMap(e,t)},getNormalizer:function(){return rl.bind(this._normalizeData,this)}};var Yx=Xx.visualHandlers={color:{applyVisual:Cn(&quot;color&quot;),getColorMapper:function(){var t=this.option;return rl.bind(&quot;category&quot;===t.mappingMethod?function(t,e){return!e&amp;&amp;(t=this._normalizeData(t)),Ln.call(this,t)}:function(e,i,n){var a=!!n;return!i&amp;&amp;(e=this._normalizeData(e)),n=Nl.fastLerp(e,t.parsedVisual,n),a?n:Nl.stringify(n,&quot;rgba&quot;)},this)},_doMap:{linear:function(t){return Nl.stringify(Nl.fastLerp(t,this.option.parsedVisual),&quot;rgba&quot;)},category:Ln,piecewise:function(t,e){var i=kn.call(this,e);return null==i&amp;&amp;(i=Nl.stringify(Nl.fastLerp(t,this.option.parsedVisual),&quot;rgba&quot;)),i},fixed:Dn}},colorHue:Tn(function(t,e){return Nl.modifyHSL(t,e)}),colorSaturation:Tn(function(t,e){return Nl.modifyHSL(t,null,e)}),colorLightness:Tn(function(t,e){return Nl.modifyHSL(t,null,null,e)}),colorAlpha:Tn(function(t,e){return Nl.modifyAlpha(t,e)}),opacity:{applyVisual:Cn(&quot;opacity&quot;),_doMap:Pn([0,1])},symbol:{applyVisual:function(t,e,i){var n=this.mapValueToVisual(t);if(rl.isString(n))i(&quot;symbol&quot;,n);else if(Ux(n))for(var a in n)n.hasOwnProperty(a)&amp;&amp;i(a,n[a])},_doMap:{linear:An,category:Ln,piecewise:function(t,e){var i=kn.call(this,e);return null==i&amp;&amp;(i=An.call(this,t)),i},fixed:Dn}},symbolSize:{applyVisual:Cn(&quot;symbolSize&quot;),_doMap:Pn([0,1])}},$x={linear:function(t){return Zx(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,i=Xx.findPieceIndex(t,e,!0);if(null!=i)return Zx(i,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?qx:e},fixed:rl.noop};Xx.listVisualTypes=function(){var t=[];return rl.each(Yx,function(e,i){t.push(i)}),t},Xx.addVisualHandler=function(t,e){Yx[t]=e},Xx.isValidType=function(t){return Yx.hasOwnProperty(t)},Xx.eachVisual=function(t,e,i){rl.isObject(t)?rl.each(t,e,i):e.call(i,t)},Xx.mapVisual=function(t,e,i){var n,a=rl.isArray(t)?[]:rl.isObject(t)?{}:(n=!0,null);return Xx.eachVisual(t,function(t,o){var r=e.call(i,t,o);n?a=r:a[o]=r}),a},Xx.retrieveVisuals=function(t){var e,i={};return t&amp;&amp;jx(Yx,function(n,a){t.hasOwnProperty(a)&amp;&amp;(i[a]=t[a],e=!0)}),e?i:null},Xx.prepareVisualTypes=function(t){if(Ux(t)){var e=[];jx(t,function(t,i){e.push(i)}),t=e}else{if(!rl.isArray(t))return[];t=t.slice()}return t.sort(function(t,e){return&quot;color&quot;===e&amp;&amp;&quot;color&quot;!==t&amp;&amp;0===t.indexOf(&quot;color&quot;)?1:-1}),t},Xx.dependsOn=function(t,e){return&quot;color&quot;===e?!(!t||0!==t.indexOf(e)):t===e},Xx.findPieceIndex=function(t,e,i){function n(e,i){var n=Math.abs(e-t);n&lt;o&amp;&amp;(o=n,a=i)}for(var a,o=1/0,r=0,s=e.length;r&lt;s;r++){var l=e[r].value;if(null!=l){if(l===t||&quot;string&quot;==typeof l&amp;&amp;l===t+&quot;&quot;)return r;i&amp;&amp;n(l,r)}}for(var r=0,s=e.length;r&lt;s;r++){var h=e[r],u=h.interval,c=h.close;if(u){if(u[0]===-1/0){if(zn(c[1],t,u[1]))return r}else if(u[1]===1/0){if(zn(c[0],u[0],t))return r}else if(zn(c[0],u[0],t)&amp;&amp;zn(c[1],t,u[1]))return r;i&amp;&amp;n(u[0],r),i&amp;&amp;n(u[1],r)}}if(i)return t===1/0?e.length-1:t===-1/0?0:a};var Kx=Xx,Jx=rl.isArray,Qx=&quot;itemStyle.normal&quot;,t_=function(t,e,i){var n={mainType:&quot;series&quot;,subType:&quot;treemap&quot;,query:i};t.eachComponent(n,function(t){var e=t.getData().tree,i=e.root,n=t.getModel(Qx);i.isRemoved()||En(i,{},rl.map(e.levelModels,function(t){return t?t.get(Qx):null}),n,t.getViewRoot().getAncestors(),t)})},e_=Pu.parsePercent,i_=Pu.MAX_SAFE_INTEGER,n_=Math.max,a_=Math.min,o_=rl.retrieve,r_=rl.each,s_=[&quot;itemStyle&quot;,&quot;normal&quot;,&quot;borderWidth&quot;],l_=[&quot;itemStyle&quot;,&quot;normal&quot;,&quot;gapWidth&quot;],h_=[&quot;upperLabel&quot;,&quot;normal&quot;,&quot;show&quot;],u_=[&quot;upperLabel&quot;,&quot;normal&quot;,&quot;height&quot;],c_=function(t,e,i){var n={mainType:&quot;series&quot;,subType:&quot;treemap&quot;,query:i};t.eachComponent(n,function(t){var n=e.getWidth(),a=e.getHeight(),o=t.option,r=Np.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),s=o.size||[],l=e_(o_(r.width,s[0]),n),h=e_(o_(r.height,s[1]),a),u=i&amp;&amp;i.type,c=bx.retrieveTargetInfo(i,t),d=&quot;treemapRender&quot;===u||&quot;treemapMove&quot;===u?i.rootRect:null,p=t.getViewRoot(),f=bx.getPathToRoot(p);if(&quot;treemapMove&quot;!==u){var g=&quot;treemapZoomToNode&quot;===u?function(t,e,i,n,a){var o=(e||{}).node,r=[n,a];if(!o||o===i)return r;for(var s,l=n*a,h=l*t.option.zoomToNodeRatio;s=o.parentNode;){for(var u=0,c=s.children,d=0,p=c.length;d&lt;p;d++)u+=c[d].getValue();var f=o.getValue();if(0===f)return r;h*=u/f;var g=s.getModel(),m=g.get(s_),v=Math.max(m,Wn(g));(h+=4*m*m+(3*m+v)*Math.pow(h,.5))&gt;i_&amp;&amp;(h=i_),o=s}h&lt;l&amp;&amp;(h=l);var y=Math.pow(h/l,.5);return[n*y,a*y]}(t,c,p,l,h):d?[d.width,d.height]:[l,h],m=o.sort;m&amp;&amp;&quot;asc&quot;!==m&amp;&amp;&quot;desc&quot;!==m&amp;&amp;(m=&quot;desc&quot;);var v={squareRatio:o.squareRatio,sort:m,leafDepth:o.leafDepth};p.hostTree.clearLayouts(),y={x:0,y:0,width:g[0],height:g[1],area:g[0]*g[1]},p.setLayout(y),Bn(p,v,!1,0);var y=p.getLayout();r_(f,function(t,e){var i=(f[e+1]||p).getValue();t.setLayout(rl.extend({dataExtent:[i,i],borderWidth:0,upperHeight:0},y))})}var x=t.getData().tree.root;x.setLayout(function(t,e,i){if(e)return{x:e.x,y:e.y};var n={x:0,y:0};if(!i)return n;var a=i.node,o=a.getLayout();if(!o)return n;for(var r=[o.width/2,o.height/2],s=a;s;){var l=s.getLayout();r[0]+=l.x,r[1]+=l.y,s=s.parentNode}return{x:t.width/2-r[0],y:t.height/2-r[1]}}(r,d,c),!0),t.setLayoutInfo(r),Hn(x,new oh(-r.x,-r.y,n,a),f,p,0)})};ym.registerVisual(t_),ym.registerLayout(c_);var d_=function(t){this._directed=t||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},p_=d_.prototype;p_.type=&quot;graph&quot;,p_.isDirected=function(){return this._directed},p_.addNode=function(t,e){t=t||&quot;&quot;+e;var i=this._nodesMap;if(!i[Fn(t)]){var n=new Zn(t,e);return n.hostGraph=this,this.nodes.push(n),i[Fn(t)]=n,n}},p_.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},p_.getNodeById=function(t){return this._nodesMap[Fn(t)]},p_.addEdge=function(t,e,i){var n=this._nodesMap,a=this._edgesMap;if(&quot;number&quot;==typeof t&amp;&amp;(t=this.nodes[t]),&quot;number&quot;==typeof e&amp;&amp;(e=this.nodes[e]),t instanceof Zn||(t=n[Fn(t)]),e instanceof Zn||(e=n[Fn(e)]),t&amp;&amp;e){var o=t.id+&quot;-&quot;+e.id;if(!a[o]){var r=new jn(t,e,i);return r.hostGraph=this,this._directed&amp;&amp;(t.outEdges.push(r),e.inEdges.push(r)),t.edges.push(r),t!==e&amp;&amp;e.edges.push(r),this.edges.push(r),a[o]=r,r}}},p_.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},p_.getEdge=function(t,e){t instanceof Zn&amp;&amp;(t=t.id),e instanceof Zn&amp;&amp;(e=e.id);var i=this._edgesMap;return this._directed?i[t+&quot;-&quot;+e]:i[t+&quot;-&quot;+e]||i[e+&quot;-&quot;+t]},p_.eachNode=function(t,e){for(var i=this.nodes,n=i.length,a=0;a&lt;n;a++)i[a].dataIndex&gt;=0&amp;&amp;t.call(e,i[a],a)},p_.eachEdge=function(t,e){for(var i=this.edges,n=i.length,a=0;a&lt;n;a++)i[a].dataIndex&gt;=0&amp;&amp;i[a].node1.dataIndex&gt;=0&amp;&amp;i[a].node2.dataIndex&gt;=0&amp;&amp;t.call(e,i[a],a)},p_.breadthFirstTraverse=function(t,e,i,n){if(e instanceof Zn||(e=this._nodesMap[Fn(e)]),e){for(var a=&quot;out&quot;===i?&quot;outEdges&quot;:&quot;in&quot;===i?&quot;inEdges&quot;:&quot;edges&quot;,o=0;o&lt;this.nodes.length;o++)this.nodes[o].__visited=!1;if(!t.call(n,e,null))for(var r=[e];r.length;)for(var s=r.shift(),l=s[a],o=0;o&lt;l.length;o++){var h=l[o],u=h.node1===s?h.node2:h.node1;if(!u.__visited){if(t.call(n,u,s))return;r.push(u),u.__visited=!0}}}},p_.update=function(){for(var t=this.data,e=this.edgeData,i=this.nodes,n=this.edges,a=0,o=i.length;a&lt;o;a++)i[a].dataIndex=-1;for(var a=0,o=t.count();a&lt;o;a++)i[t.getRawIndex(a)].dataIndex=a;e.filterSelf(function(t){var i=n[e.getRawIndex(t)];return i.node1.dataIndex&gt;=0&amp;&amp;i.node2.dataIndex&gt;=0});for(var a=0,o=n.length;a&lt;o;a++)n[a].dataIndex=-1;for(var a=0,o=e.count();a&lt;o;a++)n[e.getRawIndex(a)].dataIndex=a},p_.clone=function(){for(var t=new d_(this._directed),e=this.nodes,i=this.edges,n=0;n&lt;e.length;n++)t.addNode(e[n].id,e[n].dataIndex);for(n=0;n&lt;i.length;n++){var a=i[n];t.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return t},Zn.prototype={constructor:Zn,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(t){if(!(this.dataIndex&lt;0)){return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)}}},jn.prototype.getModel=function(t){if(!(this.dataIndex&lt;0)){return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)}};var f_=function(t,e){return{getValue:function(i){var n=this[t][e];return n.get(n.getDimension(i||&quot;value&quot;),this.dataIndex)},setVisual:function(i,n){this.dataIndex&gt;=0&amp;&amp;this[t][e].setItemVisual(this.dataIndex,i,n)},getVisual:function(i,n){return this[t][e].getItemVisual(this.dataIndex,i,n)},setLayout:function(i,n){this.dataIndex&gt;=0&amp;&amp;this[t][e].setItemLayout(this.dataIndex,i,n)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}};rl.mixin(Zn,f_(&quot;hostGraph&quot;,&quot;data&quot;)),rl.mixin(jn,f_(&quot;hostGraph&quot;,&quot;edgeData&quot;)),d_.Node=Zn,d_.Edge=jn;var g_=d_,m_=function(t,e,i,n,a){for(var o=new g_(n),r=0;r&lt;t.length;r++)o.addNode(rl.retrieve(t[r].id,t[r].name,r),r);for(var s=[],l=[],h=0,r=0;r&lt;e.length;r++){var u=e[r],c=u.source,d=u.target;o.addEdge(c,d,h)&amp;&amp;(l.push(u),s.push(rl.retrieve(u.id,c+&quot; &gt; &quot;+d)),h++)}var p,f=i.get(&quot;coordinateSystem&quot;);if(&quot;cartesian2d&quot;===f||&quot;polar&quot;===f)p=dg(t,i,i.ecModel);else{var g=rf.get(f),m=sg((g&amp;&amp;&quot;view&quot;!==g.type?g.dimensions||[]:[]).concat([&quot;value&quot;]),t);(p=new tg(m,i)).initData(t)}var v=new tg([&quot;value&quot;],i);return v.initData(l,s),a&amp;&amp;a(p,v),nx({mainData:p,struct:o,structAttr:&quot;graph&quot;,datas:{node:p,edge:v},datasAttr:{node:&quot;data&quot;,edge:&quot;edgeData&quot;}}),o.update(),o},v_=Ip.defaultEmphasis,y_=Eu.encodeHTML,x_=ym.extendSeriesModel({type:&quot;series.graph&quot;,init:function(t){x_.superApply(this,&quot;init&quot;,arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeOption:function(t){x_.superApply(this,&quot;mergeOption&quot;,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(t){x_.superApply(this,&quot;mergeDefaultAndTheme&quot;,arguments),v_(t.edgeLabel,[&quot;show&quot;])},getInitialData:function(t,e){var i=t.edges||t.links||[],n=t.data||t.nodes||[],a=this;if(n&amp;&amp;i)return m_(n,i,this,!0,function(t,i){t.wrapMethod(&quot;getItemModel&quot;,function(t){var e=a._categoriesModels[t.getShallow(&quot;category&quot;)];return e&amp;&amp;(e.parentModel=t.parentModel,t.parentModel=e),t});var n=a.getModel(&quot;edgeLabel&quot;),o=new _p({label:n.option},n.parentModel,e);i.wrapMethod(&quot;getItemModel&quot;,function(t){return t.customizeGetParent(function(t){return(t=this.parsePath(t))&amp;&amp;&quot;label&quot;===t[0]?o:this.parentModel}),t})}).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(t,e,i){if(&quot;edge&quot;===i){var n=this.getData(),a=this.getDataParams(t,i),o=n.graph.getEdgeByIndex(t),r=n.getName(o.node1.dataIndex),s=n.getName(o.node2.dataIndex),l=[];return null!=r&amp;&amp;l.push(r),null!=s&amp;&amp;l.push(s),l=y_(l.join(&quot; &gt; &quot;)),a.value&amp;&amp;(l+=&quot; : &quot;+y_(a.value)),l}return x_.superApply(this,&quot;formatTooltip&quot;,arguments)},_updateCategoriesData:function(){var t=rl.map(this.option.categories||[],function(t){return null!=t.value?t:rl.extend({value:0},t)}),e=new tg([&quot;value&quot;],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray(function(t){return e.getItemModel(t,!0)})},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},isAnimationEnabled:function(){return x_.superCall(this,&quot;isAnimationEnabled&quot;)&amp;&amp;!(&quot;force&quot;===this.get(&quot;layout&quot;)&amp;&amp;this.get(&quot;force.layoutAnimation&quot;))},defaultOption:{zlevel:0,z:2,coordinateSystem:&quot;view&quot;,legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:&quot;center&quot;,top:&quot;center&quot;,symbol:&quot;circle&quot;,symbolSize:10,edgeSymbol:[&quot;none&quot;,&quot;none&quot;],edgeSymbolSize:10,edgeLabel:{normal:{position:&quot;middle&quot;},emphasis:{}},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{normal:{show:!1,formatter:&quot;{b}&quot;},emphasis:{show:!0}},itemStyle:{normal:{},emphasis:{}},lineStyle:{normal:{color:&quot;#aaa&quot;,width:1,curveness:0,opacity:.5},emphasis:{}}}}),__=fp.Line.prototype,b_=fp.BezierCurve.prototype,w_=fp.extendShape({type:&quot;ec-line&quot;,style:{stroke:&quot;#000&quot;,fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(t,e){(Un(e)?__:b_).buildPath(t,e)},pointAt:function(t){return Un(this.shape)?__.pointAt.call(this,t):b_.pointAt.call(this,t)},tangentAt:function(t){var e=this.shape,i=Un(e)?[e.x2-e.x1,e.y2-e.y1]:b_.tangentAt.call(this,t);return ll.normalize(i,i)}}),S_=Pu.round,M_=[&quot;fromSymbol&quot;,&quot;toSymbol&quot;],I_=$n.prototype;I_.beforeUpdate=function(){var t=this.childOfName(&quot;fromSymbol&quot;),e=this.childOfName(&quot;toSymbol&quot;),i=this.childOfName(&quot;label&quot;);if(t||e||!i.ignore){for(var n=1,a=this.parent;a;)a.scale&amp;&amp;(n/=a.scale[0]),a=a.parent;var o=this.childOfName(&quot;line&quot;);if(this.__dirty||o.__dirty){var r=o.shape.percent,s=o.pointAt(0),l=o.pointAt(r),h=ll.sub([],l,s);if(ll.normalize(h,h),t&amp;&amp;(t.attr(&quot;position&quot;,s),f=o.tangentAt(0),t.attr(&quot;rotation&quot;,Math.PI/2-Math.atan2(f[1],f[0])),t.attr(&quot;scale&quot;,[n*r,n*r])),e&amp;&amp;(e.attr(&quot;position&quot;,l),f=o.tangentAt(1),e.attr(&quot;rotation&quot;,-Math.PI/2-Math.atan2(f[1],f[0])),e.attr(&quot;scale&quot;,[n*r,n*r])),!i.ignore){i.attr(&quot;position&quot;,l);var u,c,d,p=5*n;if(&quot;end&quot;===i.__position)u=[h[0]*p+l[0],h[1]*p+l[1]],c=h[0]&gt;.8?&quot;left&quot;:h[0]&lt;-.8?&quot;right&quot;:&quot;center&quot;,d=h[1]&gt;.8?&quot;top&quot;:h[1]&lt;-.8?&quot;bottom&quot;:&quot;middle&quot;;else if(&quot;middle&quot;===i.__position){var f,g=r/2,m=[(f=o.tangentAt(g))[1],-f[0]],v=o.pointAt(g);m[1]&gt;0&amp;&amp;(m[0]=-m[0],m[1]=-m[1]),u=[v[0]+m[0]*p,v[1]+m[1]*p],c=&quot;center&quot;,d=&quot;bottom&quot;;var y=-Math.atan2(f[1],f[0]);l[0]&lt;s[0]&amp;&amp;(y=Math.PI+y),i.attr(&quot;rotation&quot;,y)}else u=[-h[0]*p+s[0],-h[1]*p+s[1]],c=h[0]&gt;.8?&quot;right&quot;:h[0]&lt;-.8?&quot;left&quot;:&quot;center&quot;,d=h[1]&gt;.8?&quot;bottom&quot;:h[1]&lt;-.8?&quot;top&quot;:&quot;middle&quot;;i.attr({style:{textVerticalAlign:i.__verticalAlign||d,textAlign:i.__textAlign||c},position:u,scale:[n,n]})}}}},I_._createLine=function(t,e,i){var n=t.hostModel,a=function(t){var e=new w_({name:&quot;line&quot;});return Yn(e.shape,t),e}(t.getItemLayout(e));a.shape.percent=0,fp.initProps(a,{shape:{percent:1}},n,e),this.add(a);var o=new fp.Text({name:&quot;label&quot;});this.add(o),rl.each(M_,function(i){var n=Xn(i,t,e);this.add(n),this[qn(i)]=t.getItemVisual(e,i)},this),this._updateCommonStl(t,e,i)},I_.updateData=function(t,e,i){var n=t.hostModel,a=this.childOfName(&quot;line&quot;),o=t.getItemLayout(e),r={shape:{}};Yn(r.shape,o),fp.updateProps(a,r,n,e),rl.each(M_,function(i){var n=t.getItemVisual(e,i),a=qn(i);if(this[a]!==n){this.remove(this.childOfName(i));var o=Xn(i,t,e);this.add(o)}this[a]=n},this),this._updateCommonStl(t,e,i)},I_._updateCommonStl=function(t,e,i){var n=t.hostModel,a=this.childOfName(&quot;line&quot;),o=i&amp;&amp;i.lineStyle,r=i&amp;&amp;i.hoverLineStyle,s=i&amp;&amp;i.labelModel,l=i&amp;&amp;i.hoverLabelModel;if(!i||t.hasItemOption){var h=t.getItemModel(e);o=h.getModel(&quot;lineStyle.normal&quot;).getLineStyle(),r=h.getModel(&quot;lineStyle.emphasis&quot;).getLineStyle(),s=h.getModel(&quot;label.normal&quot;),l=h.getModel(&quot;label.emphasis&quot;)}var u=t.getItemVisual(e,&quot;color&quot;),c=rl.retrieve3(t.getItemVisual(e,&quot;opacity&quot;),o.opacity,1);a.useStyle(rl.defaults({strokeNoScale:!0,fill:&quot;none&quot;,stroke:u,opacity:c},o)),a.hoverStyle=r,rl.each(M_,function(t){var e=this.childOfName(t);e&amp;&amp;(e.setColor(u),e.setStyle({opacity:c}))},this);var d,p,f,g,m=s.getShallow(&quot;show&quot;),v=l.getShallow(&quot;show&quot;),y=this.childOfName(&quot;label&quot;);if(m||v){var x=n.getRawValue(e);p=null==x?p=t.getName(e):isFinite(x)?S_(x):x,d=u||&quot;#000&quot;,f=rl.retrieve2(n.getFormattedLabel(e,&quot;normal&quot;,t.dataType),p),g=rl.retrieve2(n.getFormattedLabel(e,&quot;emphasis&quot;,t.dataType),f)}if(m){var _=fp.setTextStyle(y.style,s,{text:f},{autoColor:d});y.__textAlign=_.textAlign,y.__verticalAlign=_.textVerticalAlign,y.__position=s.get(&quot;position&quot;)||&quot;middle&quot;}else y.setStyle(&quot;text&quot;,null);y.hoverStyle=v?{text:g,textFill:l.getTextColor(!0),fontStyle:l.getShallow(&quot;fontStyle&quot;),fontWeight:l.getShallow(&quot;fontWeight&quot;),fontSize:l.getShallow(&quot;fontSize&quot;),fontFamily:l.getShallow(&quot;fontFamily&quot;)}:{text:null},y.ignore=!m&amp;&amp;!v,fp.setHoverStyle(this)},I_.highlight=function(){this.trigger(&quot;emphasis&quot;)},I_.downplay=function(){this.trigger(&quot;normal&quot;)},I_.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},I_.setLinePoints=function(t){var e=this.childOfName(&quot;line&quot;);Yn(e.shape,t),e.dirty()},rl.inherits($n,fp.Group);var T_=$n,A_=Qn.prototype;A_.updateData=function(t){var e=this._lineData,i=this.group,n=this._ctor,a=t.hostModel,o={lineStyle:a.getModel(&quot;lineStyle.normal&quot;).getLineStyle(),hoverLineStyle:a.getModel(&quot;lineStyle.emphasis&quot;).getLineStyle(),labelModel:a.getModel(&quot;label.normal&quot;),hoverLabelModel:a.getModel(&quot;label.emphasis&quot;)};t.diff(e).add(function(e){if(Jn(t.getItemLayout(e))){var a=new n(t,e,o);t.setItemGraphicEl(e,a),i.add(a)}}).update(function(a,r){var s=e.getItemGraphicEl(r);Jn(t.getItemLayout(a))?(s?s.updateData(t,a,o):s=new n(t,a,o),t.setItemGraphicEl(a,s),i.add(s)):i.remove(s)}).remove(function(t){i.remove(e.getItemGraphicEl(t))}).execute(),this._lineData=t},A_.updateLayout=function(){var t=this._lineData;t.eachItemGraphicEl(function(e,i){e.updateLayout(t,i)},this)},A_.remove=function(){this.group.removeAll()};var C_=Qn,L_=[],D_=[],P_=[],k_=ic.quadraticAt,O_=ll.distSquare,z_=Math.abs,E_=function(t,e){function i(t){var e=t.getVisual(&quot;symbolSize&quot;);return e instanceof Array&amp;&amp;(e=(e[0]+e[1])/2),e}var n=[],a=ic.quadraticSubdivide,o=[[],[],[]],r=[[],[]],s=[];e/=2,t.eachEdge(function(t,l){var h=t.getLayout(),u=t.getVisual(&quot;fromSymbol&quot;),c=t.getVisual(&quot;toSymbol&quot;);h.__original||(h.__original=[ll.clone(h[0]),ll.clone(h[1])],h[2]&amp;&amp;h.__original.push(ll.clone(h[2])));var d=h.__original;if(null!=h[2]){if(ll.copy(o[0],d[0]),ll.copy(o[1],d[2]),ll.copy(o[2],d[1]),u&amp;&amp;&quot;none&quot;!=u){var p=i(t.node1),f=ta(o,d[0],p*e);a(o[0][0],o[1][0],o[2][0],f,n),o[0][0]=n[3],o[1][0]=n[4],a(o[0][1],o[1][1],o[2][1],f,n),o[0][1]=n[3],o[1][1]=n[4]}if(c&amp;&amp;&quot;none&quot;!=c){var p=i(t.node2),f=ta(o,d[1],p*e);a(o[0][0],o[1][0],o[2][0],f,n),o[1][0]=n[1],o[2][0]=n[2],a(o[0][1],o[1][1],o[2][1],f,n),o[1][1]=n[1],o[2][1]=n[2]}ll.copy(h[0],o[0]),ll.copy(h[1],o[2]),ll.copy(h[2],o[1])}else ll.copy(r[0],d[0]),ll.copy(r[1],d[1]),ll.sub(s,r[1],r[0]),ll.normalize(s,s),u&amp;&amp;&quot;none&quot;!=u&amp;&amp;(p=i(t.node1),ll.scaleAndAdd(r[0],r[0],s,p*e)),c&amp;&amp;&quot;none&quot;!=c&amp;&amp;(p=i(t.node2),ll.scaleAndAdd(r[1],r[1],s,-p*e)),ll.copy(h[0],r[0]),ll.copy(h[1],r[1])})},R_=jy.onIrrelevantElement,N_=[&quot;itemStyle&quot;,&quot;normal&quot;,&quot;opacity&quot;],V_=[&quot;lineStyle&quot;,&quot;normal&quot;,&quot;opacity&quot;],B_=(ym.extendChartView({type:&quot;graph&quot;,init:function(t,e){var i=new Pm,n=new C_,a=this.group;this._controller=new Wy(e.getZr()),this._controllerHost={target:a},a.add(i.group),a.add(n.group),this._symbolDraw=i,this._lineDraw=n,this._firstRender=!0},render:function(t,e,i){var n=t.coordinateSystem;this._model=t,this._nodeScaleRatio=t.get(&quot;nodeScaleRatio&quot;);var a=this._symbolDraw,o=this._lineDraw,r=this.group;if(&quot;view&quot;===n.type){var s={position:n.position,scale:n.scale};this._firstRender?r.attr(s):fp.updateProps(r,s,t)}E_(t.getGraph(),this._getNodeGlobalScale(t));var l=t.getData();a.updateData(l);var h=t.getEdgeData();o.updateData(h),this._updateNodeAndLinkScale(),this._updateController(t,e,i),clearTimeout(this._layoutTimeout);var u=t.forceLayout,c=t.get(&quot;force.layoutAnimation&quot;);u&amp;&amp;this._startForceLayoutIteration(u,c),l.eachItemGraphicEl(function(e,n){var a=l.getItemModel(n);e.off(&quot;drag&quot;).off(&quot;dragend&quot;);var o=l.getItemModel(n).get(&quot;draggable&quot;);o&amp;&amp;e.on(&quot;drag&quot;,function(){u&amp;&amp;(u.warmUp(),!this._layouting&amp;&amp;this._startForceLayoutIteration(u,c),u.setFixed(n),l.setItemLayout(n,e.position))},this).on(&quot;dragend&quot;,function(){u&amp;&amp;u.setUnfixed(n)},this),e.setDraggable(o&amp;&amp;u),e.off(&quot;mouseover&quot;,e.__focusNodeAdjacency),e.off(&quot;mouseout&quot;,e.__unfocusNodeAdjacency),a.get(&quot;focusNodeAdjacency&quot;)&amp;&amp;(e.on(&quot;mouseover&quot;,e.__focusNodeAdjacency=function(){i.dispatchAction({type:&quot;focusNodeAdjacency&quot;,seriesId:t.id,dataIndex:e.dataIndex})}),e.on(&quot;mouseout&quot;,e.__unfocusNodeAdjacency=function(){i.dispatchAction({type:&quot;unfocusNodeAdjacency&quot;,seriesId:t.id})}))},this),l.graph.eachEdge(function(e){var n=e.getGraphicEl();n.off(&quot;mouseover&quot;,n.__focusNodeAdjacency),n.off(&quot;mouseout&quot;,n.__unfocusNodeAdjacency),e.getModel().get(&quot;focusNodeAdjacency&quot;)&amp;&amp;(n.on(&quot;mouseover&quot;,n.__focusNodeAdjacency=function(){i.dispatchAction({type:&quot;focusNodeAdjacency&quot;,seriesId:t.id,edgeDataIndex:e.dataIndex})}),n.on(&quot;mouseout&quot;,n.__unfocusNodeAdjacency=function(){i.dispatchAction({type:&quot;unfocusNodeAdjacency&quot;,seriesId:t.id})}))});var d=&quot;circular&quot;===t.get(&quot;layout&quot;)&amp;&amp;t.get(&quot;circular.rotateLabel&quot;),p=l.getLayout(&quot;cx&quot;),f=l.getLayout(&quot;cy&quot;);l.eachItemGraphicEl(function(t,e){var i=t.getSymbolPath();if(d){var n=l.getItemLayout(e),a=Math.atan2(n[1]-f,n[0]-p);a&lt;0&amp;&amp;(a=2*Math.PI+a);var o=n[0]&lt;p;o&amp;&amp;(a-=Math.PI);var r=o?&quot;left&quot;:&quot;right&quot;;i.setStyle({textRotation:-a,textPosition:r,textOrigin:&quot;center&quot;}),i.hoverStyle&amp;&amp;(i.hoverStyle.textPosition=r)}else i.setStyle({textRotation:0})}),this._firstRender=!1},dispose:function(){this._controller&amp;&amp;this._controller.dispose(),this._controllerHost={}},focusNodeAdjacency:function(t,e,i,n){var a=this._model.getData().graph,o=n.dataIndex,r=n.edgeDataIndex,s=a.getNodeByIndex(o),l=a.getEdgeByIndex(r);(s||l)&amp;&amp;(a.eachNode(function(t){ia(t,N_,.1)}),a.eachEdge(function(t){ia(t,V_,.1)}),s&amp;&amp;(na(s,N_),rl.each(s.edges,function(t){t.dataIndex&lt;0||(na(t,V_),na(t.node1,N_),na(t.node2,N_))})),l&amp;&amp;(na(l,V_),na(l.node1,N_),na(l.node2,N_)))},unfocusNodeAdjacency:function(t,e,i,n){var a=this._model.getData().graph;a.eachNode(function(t){ia(t,N_)}),a.eachEdge(function(t){ia(t,V_)})},_startForceLayoutIteration:function(t,e){var i=this;!function n(){t.step(function(t){i.updateLayout(i._model),(i._layouting=!t)&amp;&amp;(e?i._layoutTimeout=setTimeout(n,16):n())})}()},_updateController:function(t,e,i){var n=this._controller,a=this._controllerHost,o=this.group;n.setPointerChecker(function(e,n,a){var r=o.getBoundingRect();return r.applyTransform(o.transform),r.contain(n,a)&amp;&amp;!R_(e,i,t)}),&quot;view&quot;===t.coordinateSystem.type?(n.enable(t.get(&quot;roam&quot;)),a.zoomLimit=t.get(&quot;scaleLimit&quot;),a.zoom=t.coordinateSystem.getZoom(),n.off(&quot;pan&quot;).off(&quot;zoom&quot;).on(&quot;pan&quot;,function(e,n){Fy.updateViewOnPan(a,e,n),i.dispatchAction({seriesId:t.id,type:&quot;graphRoam&quot;,dx:e,dy:n})}).on(&quot;zoom&quot;,function(e,n,o){Fy.updateViewOnZoom(a,e,n,o),i.dispatchAction({seriesId:t.id,type:&quot;graphRoam&quot;,zoom:e,originX:n,originY:o}),this._updateNodeAndLinkScale(),E_(t.getGraph(),this._getNodeGlobalScale(t)),this._lineDraw.updateLayout()},this)):n.disable()},_updateNodeAndLinkScale:function(){var t=this._model,e=t.getData(),i=this._getNodeGlobalScale(t),n=[i,i];e.eachItemGraphicEl(function(t,e){t.attr(&quot;scale&quot;,n)})},_getNodeGlobalScale:function(t){var e=t.coordinateSystem;if(&quot;view&quot;!==e.type)return 1;var i=this._nodeScaleRatio,n=e.scale,a=n&amp;&amp;n[0]||1;return((e.getZoom()-1)*i+1)/a},updateLayout:function(t){E_(t.getGraph(),this._getNodeGlobalScale(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(t,e){this._symbolDraw&amp;&amp;this._symbolDraw.remove(),this._lineDraw&amp;&amp;this._lineDraw.remove()}}),Xy.updateCenterAndZoom);ym.registerAction({type:&quot;graphRoam&quot;,event:&quot;graphRoam&quot;,update:&quot;none&quot;},function(t,e){e.eachComponent({mainType:&quot;series&quot;,query:t},function(e){var i=e.coordinateSystem,n=B_(i,t);e.setCenter&amp;&amp;e.setCenter(n.center),e.setZoom&amp;&amp;e.setZoom(n.zoom)})}),ym.registerAction({type:&quot;focusNodeAdjacency&quot;,event:&quot;focusNodeAdjacency&quot;,update:&quot;series.graph:focusNodeAdjacency&quot;},function(){}),ym.registerAction({type:&quot;unfocusNodeAdjacency&quot;,event:&quot;unfocusNodeAdjacency&quot;,update:&quot;series.graph:unfocusNodeAdjacency&quot;},function(){});var G_=function(t){var e=t.findComponents({mainType:&quot;legend&quot;});e&amp;&amp;e.length&amp;&amp;t.eachSeriesByType(&quot;graph&quot;,function(t){var i=t.getCategoriesData(),n=t.getGraph().data,a=i.mapArray(i.getName);n.filterSelf(function(t){var i=n.getItemModel(t).getShallow(&quot;category&quot;);if(null!=i){&quot;number&quot;==typeof i&amp;&amp;(i=a[i]);for(var o=0;o&lt;e.length;o++)if(!e[o].isSelected(i))return!1}return!0})},this)},H_=function(t){var e={};t.eachSeriesByType(&quot;graph&quot;,function(t){var i=t.getCategoriesData(),n=t.getData(),a={};i.each(function(n){var o=i.getName(n);a[&quot;ec-&quot;+o]=n;var r=i.getItemModel(n).get(&quot;itemStyle.normal.color&quot;)||t.getColorFromPalette(o,e);i.setItemVisual(n,&quot;color&quot;,r)}),i.count()&amp;&amp;n.each(function(t){var e=n.getItemModel(t).getShallow(&quot;category&quot;);null!=e&amp;&amp;(&quot;string&quot;==typeof e&amp;&amp;(e=a[&quot;ec-&quot;+e]),n.getItemVisual(t,&quot;color&quot;,!0)||n.setItemVisual(t,&quot;color&quot;,i.getItemVisual(e,&quot;color&quot;)))})})},W_=function(t){t.eachSeriesByType(&quot;graph&quot;,function(t){var e=t.getGraph(),i=t.getEdgeData(),n=aa(t.get(&quot;edgeSymbol&quot;)),a=aa(t.get(&quot;edgeSymbolSize&quot;)),o=&quot;lineStyle.normal.color&quot;.split(&quot;.&quot;),r=&quot;lineStyle.normal.opacity&quot;.split(&quot;.&quot;);i.setVisual(&quot;fromSymbol&quot;,n&amp;&amp;n[0]),i.setVisual(&quot;toSymbol&quot;,n&amp;&amp;n[1]),i.setVisual(&quot;fromSymbolSize&quot;,a&amp;&amp;a[0]),i.setVisual(&quot;toSymbolSize&quot;,a&amp;&amp;a[1]),i.setVisual(&quot;color&quot;,t.get(o)),i.setVisual(&quot;opacity&quot;,t.get(r)),i.each(function(t){var n=i.getItemModel(t),a=e.getEdgeByIndex(t),s=aa(n.getShallow(&quot;symbol&quot;,!0)),l=aa(n.getShallow(&quot;symbolSize&quot;,!0)),h=n.get(o),u=n.get(r);switch(h){case&quot;source&quot;:h=a.node1.getVisual(&quot;color&quot;);break;case&quot;target&quot;:h=a.node2.getVisual(&quot;color&quot;)}s[0]&amp;&amp;a.setVisual(&quot;fromSymbol&quot;,s[0]),s[1]&amp;&amp;a.setVisual(&quot;toSymbol&quot;,s[1]),l[0]&amp;&amp;a.setVisual(&quot;fromSymbolSize&quot;,l[0]),l[1]&amp;&amp;a.setVisual(&quot;toSymbolSize&quot;,l[1]),a.setVisual(&quot;color&quot;,h),a.setVisual(&quot;opacity&quot;,u)})})},F_={simpleLayout:function(t){var e=t.coordinateSystem;if(!e||&quot;view&quot;===e.type){var i=t.getGraph();i.eachNode(function(t){var e=t.getModel();t.setLayout([+e.get(&quot;x&quot;),+e.get(&quot;y&quot;)])}),oa(i)}},simpleLayoutEdge:oa},Z_=F_.simpleLayout,j_=F_.simpleLayoutEdge,U_=function(t,e){t.eachSeriesByType(&quot;graph&quot;,function(t){var e=t.get(&quot;layout&quot;),i=t.coordinateSystem;if(i&amp;&amp;&quot;view&quot;!==i.type){var n=t.getData(),a=i.dimensions;n.each(a,function(){for(var t,e=arguments,o=[],r=0;r&lt;a.length;r++)isNaN(e[r])||(t=!0),o.push(e[r]);var s=e[e.length-1];t?n.setItemLayout(s,i.dataToPoint(o)):n.setItemLayout(s,[NaN,NaN])}),j_(n.graph)}else e&amp;&amp;&quot;none&quot;!==e||Z_(t)})},q_={circularLayout:function(t){var e=t.coordinateSystem;if(!e||&quot;view&quot;===e.type){var i=e.getBoundingRect(),n=t.getData(),a=n.graph,o=0,r=n.getSum(&quot;value&quot;),s=2*Math.PI/(r||n.count()),l=i.width/2+i.x,h=i.height/2+i.y,u=Math.min(i.width,i.height)/2;a.eachNode(function(t){var e=t.getValue(&quot;value&quot;);o+=s*(r?e:1)/2,t.setLayout([u*Math.cos(o)+l,u*Math.sin(o)+h]),o+=s*(r?e:1)/2}),n.setLayout({cx:l,cy:h}),a.eachEdge(function(t){var e,i=t.getModel().get(&quot;lineStyle.normal.curveness&quot;)||0,n=ll.clone(t.node1.getLayout()),a=ll.clone(t.node2.getLayout()),o=(n[0]+a[0])/2,r=(n[1]+a[1])/2;+i&amp;&amp;(e=[l*(i*=3)+o*(1-i),h*i+r*(1-i)]),t.setLayout([n,a,e])})}}},X_=q_.circularLayout,Y_=function(t){t.eachSeriesByType(&quot;graph&quot;,function(t){&quot;circular&quot;===t.get(&quot;layout&quot;)&amp;&amp;X_(t)})},$_=ll.scaleAndAdd,K_={forceLayout:function(t,e,i){for(var n=i.rect,a=n.width,o=n.height,r=[n.x+a/2,n.y+o/2],s=null==i.gravity?.1:i.gravity,l=0;l&lt;t.length;l++){var h=t[l];h.p||(h.p=ll.create(a*(Math.random()-.5)+r[0],o*(Math.random()-.5)+r[1])),h.pp=ll.clone(h.p),h.edges=null}var u=.6;return{warmUp:function(){u=.5},setFixed:function(e){t[e].fixed=!0},setUnfixed:function(e){t[e].fixed=!1},step:function(i){for(var n=[],a=t.length,o=0;o&lt;e.length;o++){var l=e[o],h=l.n1,c=l.n2;ll.sub(n,c.p,h.p);var d=ll.len(n)-l.d,p=c.w/(h.w+c.w);isNaN(p)&amp;&amp;(p=0),ll.normalize(n,n),!h.fixed&amp;&amp;$_(h.p,h.p,n,p*d*u),!c.fixed&amp;&amp;$_(c.p,c.p,n,-(1-p)*d*u)}for(o=0;o&lt;a;o++)(v=t[o]).fixed||(ll.sub(n,r,v.p),$_(v.p,v.p,n,s*u));for(o=0;o&lt;a;o++)for(var h=t[o],f=o+1;f&lt;a;f++){c=t[f],ll.sub(n,c.p,h.p),0===(d=ll.len(n))&amp;&amp;(ll.set(n,Math.random()-.5,Math.random()-.5),d=1);var g=(h.rep+c.rep)/d/d;!h.fixed&amp;&amp;$_(h.pp,h.pp,n,g),!c.fixed&amp;&amp;$_(c.pp,c.pp,n,-g)}for(var m=[],o=0;o&lt;a;o++){var v=t[o];v.fixed||(ll.sub(m,v.p,v.pp),$_(v.p,v.p,m,u),ll.copy(v.pp,v.p))}u*=.992,i&amp;&amp;i(t,e,u&lt;.01)}}}}.forceLayout,J_=F_.simpleLayout,Q_=q_.circularLayout,tb=Pu.linearMap,eb=function(t){t.eachSeriesByType(&quot;graph&quot;,function(t){if(!(c=t.coordinateSystem)||&quot;view&quot;===c.type)if(&quot;force&quot;===t.get(&quot;layout&quot;)){var e=t.preservedPoints||{},i=t.getGraph(),n=i.data,a=i.edgeData,o=t.getModel(&quot;force&quot;),r=o.get(&quot;initLayout&quot;);t.preservedPoints?n.each(function(t){var i=n.getId(t);n.setItemLayout(t,e[i]||[NaN,NaN])}):r&amp;&amp;&quot;none&quot;!==r?&quot;circular&quot;===r&amp;&amp;Q_(t):J_(t);var s=n.getDataExtent(&quot;value&quot;),l=a.getDataExtent(&quot;value&quot;),h=o.get(&quot;repulsion&quot;),u=o.get(&quot;edgeLength&quot;);rl.isArray(h)||(h=[h,h]),rl.isArray(u)||(u=[u,u]),u=[u[1],u[0]];var c,d=n.mapArray(&quot;value&quot;,function(t,e){var i=n.getItemLayout(e),a=tb(t,s,h);return isNaN(a)&amp;&amp;(a=(h[0]+h[1])/2),{w:a,rep:a,fixed:n.getItemModel(e).get(&quot;fixed&quot;),p:!i||isNaN(i[0])||isNaN(i[1])?null:i}}),p=a.mapArray(&quot;value&quot;,function(t,e){var n=i.getEdgeByIndex(e),a=tb(t,l,u);return isNaN(a)&amp;&amp;(a=(u[0]+u[1])/2),{n1:d[n.node1.dataIndex],n2:d[n.node2.dataIndex],d:a,curveness:n.getModel().get(&quot;lineStyle.normal.curveness&quot;)||0}}),f=(c=t.coordinateSystem).getBoundingRect(),g=K_(d,p,{rect:f,gravity:o.get(&quot;gravity&quot;)}),m=g.step;g.step=function(t){for(var a=0,o=d.length;a&lt;o;a++)d[a].fixed&amp;&amp;ll.copy(d[a].p,i.getNodeByIndex(a).getLayout());m(function(a,o,r){for(var s=0,l=a.length;s&lt;l;s++)a[s].fixed||i.getNodeByIndex(s).setLayout(a[s].p),e[n.getId(s)]=a[s].p;for(var s=0,l=o.length;s&lt;l;s++){var h=o[s],u=i.getEdgeByIndex(s),c=h.n1.p,d=h.n2.p,p=u.getLayout();(p=p?p.slice():[])[0]=p[0]||[],p[1]=p[1]||[],ll.copy(p[0],c),ll.copy(p[1],d),+h.curveness&amp;&amp;(p[2]=[(c[0]+d[0])/2-(c[1]-d[1])*h.curveness,(c[1]+d[1])/2-(d[0]-c[0])*h.curveness]),u.setLayout(p)}t&amp;&amp;t(r)})},t.forceLayout=g,t.preservedPoints=e,g.step()}else t.forceLayout=null})},ib=Np.getLayoutRect,nb=function(t,e){var i=[];return t.eachSeriesByType(&quot;graph&quot;,function(t){var n=t.get(&quot;coordinateSystem&quot;);if(!n||&quot;view&quot;===n){var a=t.getData(),o=a.mapArray(function(t){var e=a.getItemModel(t);return[+e.get(&quot;x&quot;),+e.get(&quot;y&quot;)]}),r=[],s=[];pc.fromPoints(o,r,s),s[0]-r[0]==0&amp;&amp;(s[0]+=1,r[0]-=1),s[1]-r[1]==0&amp;&amp;(s[1]+=1,r[1]-=1);var l=(s[0]-r[0])/(s[1]-r[1]),h=function(t,e,i){var n=t.getBoxLayoutParams();return n.aspect=i,ib(n,{width:e.getWidth(),height:e.getHeight()})}(t,e,l);isNaN(l)&amp;&amp;(r=[h.x,h.y],s=[h.x+h.width,h.y+h.height]);var u=s[0]-r[0],c=s[1]-r[1],d=h.width,p=h.height,f=t.coordinateSystem=new Iy;f.zoomLimit=t.get(&quot;scaleLimit&quot;),f.setBoundingRect(r[0],r[1],u,c),f.setViewRect(h.x,h.y,d,p),f.setCenter(t.get(&quot;center&quot;)),f.setZoom(t.get(&quot;zoom&quot;)),i.push(f)}}),i};ym.registerProcessor(G_),ym.registerVisual(rl.curry(Fm,&quot;graph&quot;,&quot;circle&quot;,null)),ym.registerVisual(H_),ym.registerVisual(W_),ym.registerLayout(U_),ym.registerLayout(Y_),ym.registerLayout(eb),ym.registerCoordinateSystem(&quot;graphView&quot;,{create:nb});zf.extend({type:&quot;series.gauge&quot;,getInitialData:function(t,e){var i=new tg([&quot;value&quot;],this),n=t.data||[];return rl.isArray(n)||(n=[n]),i.initData(n),i},defaultOption:{zlevel:0,z:2,center:[&quot;50%&quot;,&quot;50%&quot;],legendHoverLink:!0,radius:&quot;75%&quot;,startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,&quot;#91c7ae&quot;],[.8,&quot;#63869e&quot;],[1,&quot;#c23531&quot;]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:&quot;#eee&quot;,width:2,type:&quot;solid&quot;}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:&quot;#eee&quot;,width:1,type:&quot;solid&quot;}},axisLabel:{show:!0,distance:5,color:&quot;auto&quot;},pointer:{show:!0,length:&quot;80%&quot;,width:8},itemStyle:{normal:{color:&quot;auto&quot;}},title:{show:!0,offsetCenter:[0,&quot;-40%&quot;],color:&quot;#333&quot;,fontSize:15},detail:{show:!0,backgroundColor:&quot;rgba(0,0,0,0)&quot;,borderWidth:0,borderColor:&quot;#ccc&quot;,width:100,height:null,padding:[5,10],offsetCenter:[0,&quot;40%&quot;],color:&quot;auto&quot;,fontSize:30}}});var ab=Yc.extend({type:&quot;echartsGaugePointer&quot;,shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(t,e){var i=Math.cos,n=Math.sin,a=e.r,o=e.width,r=e.angle,s=e.x-i(r)*o*(o&gt;=a/3?1:2),l=e.y-n(r)*o*(o&gt;=a/3?1:2);r=e.angle-Math.PI/2,t.moveTo(s,l),t.lineTo(e.x+i(r)*o,e.y+n(r)*o),t.lineTo(e.x+i(e.angle)*a,e.y+n(e.angle)*a),t.lineTo(e.x-i(r)*o,e.y-n(r)*o),t.lineTo(s,l)}}),ob=Pu.parsePercent,rb=Pu.round,sb=Pu.linearMap,lb=2*Math.PI,hb=(Bf.extend({type:&quot;gauge&quot;,render:function(t,e,i){this.group.removeAll();var n=t.get(&quot;axisLine.lineStyle.color&quot;),a=function(t,e){var i=t.get(&quot;center&quot;),n=e.getWidth(),a=e.getHeight(),o=Math.min(n,a);return{cx:ob(i[0],e.getWidth()),cy:ob(i[1],e.getHeight()),r:ob(t.get(&quot;radius&quot;),o/2)}}(t,i);this._renderMain(t,e,i,n,a)},dispose:function(){},_renderMain:function(t,e,i,n,a){for(var o=this.group,r=t.getModel(&quot;axisLine&quot;).getModel(&quot;lineStyle&quot;),s=t.get(&quot;clockwise&quot;),l=-t.get(&quot;startAngle&quot;)/180*Math.PI,h=((p=-t.get(&quot;endAngle&quot;)/180*Math.PI)-l)%lb,u=l,c=r.get(&quot;width&quot;),d=0;d&lt;n.length;d++){var p=l+h*Math.min(Math.max(n[d][0],0),1),f=new fp.Sector({shape:{startAngle:u,endAngle:p,cx:a.cx,cy:a.cy,clockwise:s,r0:a.r-c,r:a.r},silent:!0});f.setStyle({fill:n[d][1]}),f.setStyle(r.getLineStyle([&quot;color&quot;,&quot;borderWidth&quot;,&quot;borderColor&quot;])),o.add(f),u=p}var g=function(t){if(t&lt;=0)return n[0][1];for(var e=0;e&lt;n.length;e++)if(n[e][0]&gt;=t&amp;&amp;(0===e?0:n[e-1][0])&lt;t)return n[e][1];return n[e-1][1]};if(!s){var m=l;l=p,p=m}this._renderTicks(t,e,i,g,a,l,p,s),this._renderPointer(t,e,i,g,a,l,p,s),this._renderTitle(t,e,i,g,a),this._renderDetail(t,e,i,g,a)},_renderTicks:function(t,e,i,n,a,o,r,s){for(var l=this.group,h=a.cx,u=a.cy,c=a.r,d=+t.get(&quot;min&quot;),p=+t.get(&quot;max&quot;),f=t.getModel(&quot;splitLine&quot;),g=t.getModel(&quot;axisTick&quot;),m=t.getModel(&quot;axisLabel&quot;),v=t.get(&quot;splitNumber&quot;),y=g.get(&quot;splitNumber&quot;),x=ob(f.get(&quot;length&quot;),c),_=ob(g.get(&quot;length&quot;),c),b=o,w=(r-o)/v,S=w/y,M=f.getModel(&quot;lineStyle&quot;).getLineStyle(),I=g.getModel(&quot;lineStyle&quot;).getLineStyle(),T=0;T&lt;=v;T++){var A=Math.cos(b),C=Math.sin(b);if(f.get(&quot;show&quot;)){var L=new fp.Line({shape:{x1:A*c+h,y1:C*c+u,x2:A*(c-x)+h,y2:C*(c-x)+u},style:M,silent:!0});&quot;auto&quot;===M.stroke&amp;&amp;L.setStyle({stroke:n(T/v)}),l.add(L)}if(m.get(&quot;show&quot;)){var D=ra(rb(T/v*(p-d)+d),m.get(&quot;formatter&quot;)),P=m.get(&quot;distance&quot;),k=n(T/v);l.add(new fp.Text({style:fp.setTextStyle({},m,{text:D,x:A*(c-x-P)+h,y:C*(c-x-P)+u,textVerticalAlign:C&lt;-.4?&quot;top&quot;:C&gt;.4?&quot;bottom&quot;:&quot;middle&quot;,textAlign:A&lt;-.4?&quot;left&quot;:A&gt;.4?&quot;right&quot;:&quot;center&quot;},{autoColor:k}),silent:!0}))}if(g.get(&quot;show&quot;)&amp;&amp;T!==v){for(var O=0;O&lt;=y;O++){var A=Math.cos(b),C=Math.sin(b),z=new fp.Line({shape:{x1:A*c+h,y1:C*c+u,x2:A*(c-_)+h,y2:C*(c-_)+u},silent:!0,style:I});&quot;auto&quot;===I.stroke&amp;&amp;z.setStyle({stroke:n((T+O/y)/v)}),l.add(z),b+=S}b-=S}else b+=w}},_renderPointer:function(t,e,i,n,a,o,r,s){var l=this.group,h=this._data;if(t.get(&quot;pointer.show&quot;)){var u=[+t.get(&quot;min&quot;),+t.get(&quot;max&quot;)],c=[o,r],d=t.getData();d.diff(h).add(function(e){var i=new ab({shape:{angle:o}});fp.initProps(i,{shape:{angle:sb(d.get(&quot;value&quot;,e),u,c,!0)}},t),l.add(i),d.setItemGraphicEl(e,i)}).update(function(e,i){var n=h.getItemGraphicEl(i);fp.updateProps(n,{shape:{angle:sb(d.get(&quot;value&quot;,e),u,c,!0)}},t),l.add(n),d.setItemGraphicEl(e,n)}).remove(function(t){var e=h.getItemGraphicEl(t);l.remove(e)}).execute(),d.eachItemGraphicEl(function(t,e){var i=d.getItemModel(e),o=i.getModel(&quot;pointer&quot;);t.setShape({x:a.cx,y:a.cy,width:ob(o.get(&quot;width&quot;),a.r),r:ob(o.get(&quot;length&quot;),a.r)}),t.useStyle(i.getModel(&quot;itemStyle.normal&quot;).getItemStyle()),&quot;auto&quot;===t.style.fill&amp;&amp;t.setStyle(&quot;fill&quot;,n(sb(d.get(&quot;value&quot;,e),u,[0,1],!0))),fp.setHoverStyle(t,i.getModel(&quot;itemStyle.emphasis&quot;).getItemStyle())}),this._data=d}else h&amp;&amp;h.eachItemGraphicEl(function(t){l.remove(t)})},_renderTitle:function(t,e,i,n,a){var o=t.getModel(&quot;title&quot;);if(o.get(&quot;show&quot;)){var r=o.get(&quot;offsetCenter&quot;),s=a.cx+ob(r[0],a.r),l=a.cy+ob(r[1],a.r),h=+t.get(&quot;min&quot;),u=+t.get(&quot;max&quot;),c=t.getData().get(&quot;value&quot;,0),d=n(sb(c,[h,u],[0,1],!0));this.group.add(new fp.Text({silent:!0,style:fp.setTextStyle({},o,{x:s,y:l,text:t.getData().getName(0),textAlign:&quot;center&quot;,textVerticalAlign:&quot;middle&quot;},{autoColor:d,forceRich:!0})}))}},_renderDetail:function(t,e,i,n,a){var o=t.getModel(&quot;detail&quot;),r=+t.get(&quot;min&quot;),s=+t.get(&quot;max&quot;);if(o.get(&quot;show&quot;)){var l=o.get(&quot;offsetCenter&quot;),h=a.cx+ob(l[0],a.r),u=a.cy+ob(l[1],a.r),c=ob(o.get(&quot;width&quot;),a.r),d=ob(o.get(&quot;height&quot;),a.r),p=t.getData().get(&quot;value&quot;,0),f=n(sb(p,[r,s],[0,1],!0));this.group.add(new fp.Text({silent:!0,style:fp.setTextStyle({},o,{x:h,y:u,text:ra(p,o.get(&quot;formatter&quot;)),textWidth:isNaN(c)?null:c,textHeight:isNaN(d)?null:d,textAlign:&quot;center&quot;,textVerticalAlign:&quot;middle&quot;},{autoColor:f,forceRich:!0})}))}}}),Ip.defaultEmphasis),ub=ym.extendSeriesModel({type:&quot;series.funnel&quot;,init:function(t){ub.superApply(this,&quot;init&quot;,arguments),this.legendDataProvider=function(){return this.getRawData()},this._defaultLabelLine(t)},getInitialData:function(t,e){var i=sg([&quot;value&quot;],t.data),n=new tg(i,this);return n.initData(t.data),n},_defaultLabelLine:function(t){hb(t.labelLine,[&quot;show&quot;]);var e=t.labelLine.normal,i=t.labelLine.emphasis;e.show=e.show&amp;&amp;t.label.normal.show,i.show=i.show&amp;&amp;t.label.emphasis.show},getDataParams:function(t){var e=this.getData(),i=ub.superCall(this,&quot;getDataParams&quot;,t),n=e.getSum(&quot;value&quot;);return i.percent=n?+(e.get(&quot;value&quot;,t)/n*100).toFixed(2):0,i.$vars.push(&quot;percent&quot;),i},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:&quot;0%&quot;,maxSize:&quot;100%&quot;,sort:&quot;descending&quot;,gap:0,funnelAlign:&quot;center&quot;,label:{normal:{show:!0,position:&quot;outer&quot;},emphasis:{show:!0}},labelLine:{normal:{show:!0,length:20,lineStyle:{width:1,type:&quot;solid&quot;}},emphasis:{}},itemStyle:{normal:{borderColor:&quot;#fff&quot;,borderWidth:1},emphasis:{}}}}),cb=sa.prototype,db=[&quot;itemStyle&quot;,&quot;normal&quot;,&quot;opacity&quot;];cb.updateData=function(t,e,i){var n=this.childAt(0),a=t.hostModel,o=t.getItemModel(e),r=t.getItemLayout(e),s=t.getItemModel(e).get(db);s=null==s?1:s,n.useStyle({}),i?(n.setShape({points:r.points}),n.setStyle({opacity:0}),fp.initProps(n,{style:{opacity:s}},a,e)):fp.updateProps(n,{style:{opacity:s},shape:{points:r.points}},a,e);var l=o.getModel(&quot;itemStyle&quot;),h=t.getItemVisual(e,&quot;color&quot;);n.setStyle(rl.defaults({lineJoin:&quot;round&quot;,fill:h},l.getModel(&quot;normal&quot;).getItemStyle([&quot;opacity&quot;]))),n.hoverStyle=l.getModel(&quot;emphasis&quot;).getItemStyle(),this._updateLabel(t,e),fp.setHoverStyle(this)},cb._updateLabel=function(t,e){var i=this.childAt(1),n=this.childAt(2),a=t.hostModel,o=t.getItemModel(e),r=t.getItemLayout(e).label,s=t.getItemVisual(e,&quot;color&quot;);fp.updateProps(i,{shape:{points:r.linePoints||r.linePoints}},a,e),fp.updateProps(n,{style:{x:r.x,y:r.y}},a,e),n.attr({rotation:r.rotation,origin:[r.x,r.y],z2:10});var l=o.getModel(&quot;label.normal&quot;),h=o.getModel(&quot;label.emphasis&quot;),u=o.getModel(&quot;labelLine.normal&quot;),c=o.getModel(&quot;labelLine.emphasis&quot;),s=t.getItemVisual(e,&quot;color&quot;);fp.setLabelStyle(n.style,n.hoverStyle={},l,h,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:t.getName(e),autoColor:s,useInsideStyle:!!r.inside},{textAlign:r.textAlign,textVerticalAlign:r.verticalAlign}),n.ignore=n.normalIgnore=!l.get(&quot;show&quot;),n.hoverIgnore=!h.get(&quot;show&quot;),i.ignore=i.normalIgnore=!u.get(&quot;show&quot;),i.hoverIgnore=!c.get(&quot;show&quot;),i.setStyle({stroke:s}),i.setStyle(u.getModel(&quot;lineStyle&quot;).getLineStyle()),i.hoverStyle=c.getModel(&quot;lineStyle&quot;).getLineStyle()},rl.inherits(sa,fp.Group);Bf.extend({type:&quot;funnel&quot;,render:function(t,e,i){var n=t.getData(),a=this._data,o=this.group;n.diff(a).add(function(t){var e=new sa(n,t);n.setItemGraphicEl(t,e),o.add(e)}).update(function(t,e){var i=a.getItemGraphicEl(e);i.updateData(n,t),o.add(i),n.setItemGraphicEl(t,i)}).remove(function(t){var e=a.getItemGraphicEl(t);o.remove(e)}).execute(),this._data=n},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});var pb=Pu.parsePercent,fb=Pu.linearMap,gb=function(t,e,i){t.eachSeriesByType(&quot;funnel&quot;,function(t){var i=t.getData(),n=t.get(&quot;sort&quot;),a=function(t,e){return Np.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e),o=function(t,e){for(var i=t.mapArray(&quot;value&quot;,function(t){return t}),n=[],a=&quot;ascending&quot;===e,o=0,r=t.count();o&lt;r;o++)n[o]=o;return&quot;function&quot;==typeof e?n.sort(e):&quot;none&quot;!==e&amp;&amp;n.sort(function(t,e){return a?i[t]-i[e]:i[e]-i[t]}),n}(i,n),r=[pb(t.get(&quot;minSize&quot;),a.width),pb(t.get(&quot;maxSize&quot;),a.width)],s=i.getDataExtent(&quot;value&quot;),l=t.get(&quot;min&quot;),h=t.get(&quot;max&quot;);null==l&amp;&amp;(l=Math.min(s[0],0)),null==h&amp;&amp;(h=s[1]);var u=t.get(&quot;funnelAlign&quot;),c=t.get(&quot;gap&quot;),d=(a.height-c*(i.count()-1))/i.count(),p=a.y,f=function(t,e){var n,o=i.get(&quot;value&quot;,t)||0,s=fb(o,[l,h],r,!0);switch(u){case&quot;left&quot;:n=a.x;break;case&quot;center&quot;:n=a.x+(a.width-s)/2;break;case&quot;right&quot;:n=a.x+a.width-s}return[[n,e],[n+s,e]]};&quot;ascending&quot;===n&amp;&amp;(d=-d,c=-c,p+=a.height,o=o.reverse());for(var g=0;g&lt;o.length;g++){var m=o[g],v=o[g+1],y=f(m,p),x=f(v,p+d);p+=d+c,i.setItemLayout(m,{points:y.concat(x.slice().reverse())})}!function(t){t.each(function(e){var i,n,a,o,r=t.getItemModel(e),s=r.getModel(&quot;label.normal&quot;).get(&quot;position&quot;),l=r.getModel(&quot;labelLine.normal&quot;),h=t.getItemLayout(e),u=h.points,c=&quot;inner&quot;===s||&quot;inside&quot;===s||&quot;center&quot;===s;if(c)i=&quot;center&quot;,o=[[n=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,a=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4],[n,a]];else{var d,p,f,g=l.get(&quot;length&quot;);&quot;left&quot;===s?(d=(u[3][0]+u[0][0])/2,p=(u[3][1]+u[0][1])/2,n=(f=d-g)-5,i=&quot;right&quot;):(d=(u[1][0]+u[2][0])/2,p=(u[1][1]+u[2][1])/2,n=(f=d+g)+5,i=&quot;left&quot;);var m=p;o=[[d,p],[f,m]],a=m}h.label={linePoints:o,x:n,y:a,verticalAlign:&quot;middle&quot;,textAlign:i,inside:c}})}(i)})};ym.registerVisual(rl.curry(ny,&quot;funnel&quot;)),ym.registerLayout(gb),ym.registerProcessor(rl.curry(uy,&quot;funnel&quot;));var mb=function(t){!function(t){if(!t.parallel){var e=!1;rl.each(t.series,function(t){t&amp;&amp;&quot;parallel&quot;===t.type&amp;&amp;(e=!0)}),e&amp;&amp;(t.parallel=[{}])}}(t),function(t){var e=Ip.normalizeToArray(t.parallelAxis);rl.each(e,function(e){if(rl.isObject(e)){var i=e.parallelIndex||0,n=Ip.normalizeToArray(t.parallel)[i];n&amp;&amp;n.parallelAxisDefault&amp;&amp;rl.merge(e,n.parallelAxisDefault,!1)}})}(t)},vb=function(t,e,i,n,a){Kg.call(this,t,e,i),this.type=n||&quot;value&quot;,this.axisIndex=a};vb.prototype={constructor:vb,model:null,isHorizontal:function(){return&quot;horizontal&quot;!==this.coordinateSystem.getModel().get(&quot;layout&quot;)}},rl.inherits(vb,Kg);var yb=vb,xb=function(t,e,i,n,a,o){e[0]=ha(e[0],i),e[1]=ha(e[1],i),t=t||0;var r=i[1]-i[0];null!=a&amp;&amp;(a=ha(a,[0,r])),null!=o&amp;&amp;(o=Math.max(o,null!=a?a:0)),&quot;all&quot;===n&amp;&amp;(a=o=Math.abs(e[1]-e[0]),n=0);var s=la(e,n);e[n]+=t;var l=a||0,h=i.slice();s.sign&lt;0?h[0]+=l:h[1]-=l,e[n]=ha(e[n],h),u=la(e,n),null!=a&amp;&amp;(u.sign!==s.sign||u.span&lt;a)&amp;&amp;(e[1-n]=e[n]+s.sign*a);var u=la(e,n);return null!=o&amp;&amp;u.span&gt;o&amp;&amp;(e[1-n]=e[n]+u.sign*o),e},_b=rl.each,bb=Math.min,wb=Math.max,Sb=Math.floor,Mb=Math.ceil,Ib=Pu.round,Tb=Math.PI;ua.prototype={type:&quot;parallel&quot;,constructor:ua,_init:function(t,e,i){var n=t.dimensions,a=t.parallelAxisIndex;_b(n,function(t,i){var n=a[i],o=e.getComponent(&quot;parallelAxis&quot;,n),r=this._axesMap.set(t,new yb(t,Rg.createScaleByModel(o),[0,0],o.get(&quot;type&quot;),n)),s=&quot;category&quot;===r.type;r.onBand=s&amp;&amp;o.get(&quot;boundaryGap&quot;),r.inverse=o.get(&quot;inverse&quot;),o.axis=r,r.model=o,r.coordinateSystem=o.coordinateSystem=this},this)},update:function(t,e){this._updateAxesFromSeries(this._model,t)},containPoint:function(t){var e=this._makeLayoutInfo(),i=e.axisBase,n=e.layoutBase,a=e.pixelDimIndex,o=t[1-a],r=t[a];return o&gt;=i&amp;&amp;o&lt;=i+e.axisLength&amp;&amp;r&gt;=n&amp;&amp;r&lt;=n+e.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(t,e){e.eachSeries(function(i){if(t.contains(i,e)){var n=i.getData();_b(this.dimensions,function(t){var e=this._axesMap.get(t);e.scale.unionExtentFromData(n,t),Rg.niceScaleExtent(e.scale,e.model)},this)}},this)},resize:function(t,e){this._rect=Np.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var t,e=this._model,i=this._rect,n=[&quot;x&quot;,&quot;y&quot;],a=[&quot;width&quot;,&quot;height&quot;],o=e.get(&quot;layout&quot;),r=&quot;horizontal&quot;===o?0:1,s=i[a[r]],l=[0,s],h=this.dimensions.length,u=ca(e.get(&quot;axisExpandWidth&quot;),l),c=ca(e.get(&quot;axisExpandCount&quot;)||0,[0,h]),d=e.get(&quot;axisExpandable&quot;)&amp;&amp;h&gt;3&amp;&amp;h&gt;c&amp;&amp;c&gt;1&amp;&amp;u&gt;0&amp;&amp;s&gt;0,p=e.get(&quot;axisExpandWindow&quot;);if(p)t=ca(p[1]-p[0],l),p[1]=p[0]+t;else{t=ca(u*(c-1),l);(p=[u*(e.get(&quot;axisExpandCenter&quot;)||Sb(h/2))-t/2])[1]=p[0]+t}var f=(s-t)/(h-c);f&lt;3&amp;&amp;(f=0);var g=[Sb(Ib(p[0]/u,1))+1,Mb(Ib(p[1]/u,1))-1],m=f/u*p[0];return{layout:o,pixelDimIndex:r,layoutBase:i[n[r]],layoutLength:s,axisBase:i[n[1-r]],axisLength:i[a[1-r]],axisExpandable:d,axisExpandWidth:u,axisCollapseWidth:f,axisExpandWindow:p,axisCount:h,winInnerIndices:g,axisExpandWindow0Pos:m}},_layoutAxes:function(){var t=this._rect,e=this._axesMap,i=this.dimensions,n=this._makeLayoutInfo(),a=n.layout;e.each(function(t){var e=[0,n.axisLength],i=t.inverse?1:0;t.setExtent(e[i],e[1-i])}),_b(i,function(i,o){var r=(n.axisExpandable?function(t,e){var i,n,a=e.layoutLength,o=e.axisExpandWidth,r=e.axisCount,s=e.axisCollapseWidth,l=e.winInnerIndices,h=s,u=!1;return t&lt;l[0]?(i=t*s,n=s):t&lt;=l[1]?(i=e.axisExpandWindow0Pos+t*o-e.axisExpandWindow[0],h=o,u=!0):(i=a-(r-1-t)*s,n=s),{position:i,axisNameAvailableWidth:h,axisLabelShow:u,nameTruncateMaxWidth:n}}:function(t,e){var i=e.layoutLength/(e.axisCount-1);return{position:i*t,axisNameAvailableWidth:i,axisLabelShow:!0}})(o,n),s={horizontal:{x:r.position,y:n.axisLength},vertical:{x:0,y:r.position}},l={horizontal:Tb/2,vertical:0},h=[s[a].x+t.x,s[a].y+t.y],u=l[a],c=yl.create();yl.rotate(c,c,u),yl.translate(c,c,h),this._axesLayout[i]={position:h,rotation:u,transform:c,axisNameAvailableWidth:r.axisNameAvailableWidth,axisLabelShow:r.axisLabelShow,nameTruncateMaxWidth:r.nameTruncateMaxWidth,tickDirection:1,labelDirection:1,labelInterval:e.get(i).getLabelInterval()}},this)},getAxis:function(t){return this._axesMap.get(t)},dataToPoint:function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},eachActiveState:function(t,e,i){for(var n=this.dimensions,a=this._axesMap,o=this.hasAxisBrushed(),r=0,s=t.count();r&lt;s;r++){var l,h=t.getValues(n,r);if(o){l=&quot;active&quot;;for(var u=0,c=n.length;u&lt;c;u++){var d=n[u];if(&quot;inactive&quot;===a.get(d).model.getActiveState(h[u],u)){l=&quot;inactive&quot;;break}}}else l=&quot;normal&quot;;e.call(i,l,r)}},hasAxisBrushed:function(){for(var t=this.dimensions,e=this._axesMap,i=!1,n=0,a=t.length;n&lt;a;n++)&quot;normal&quot;!==e.get(t[n]).model.getActiveState()&amp;&amp;(i=!0);return i},axisCoordToPoint:function(t,e){var i=this._axesLayout[e];return fp.applyTransform([t,0],i.transform)},getAxisLayout:function(t){return rl.clone(this._axesLayout[t])},getSlidedAxisExpandWindow:function(t){var e=this._makeLayoutInfo(),i=e.pixelDimIndex,n=e.axisExpandWindow.slice(),a=n[1]-n[0],o=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:&quot;none&quot;,axisExpandWindow:n};var r,s=t[i]-e.layoutBase-e.axisExpandWindow0Pos,l=&quot;slide&quot;,h=e.axisCollapseWidth,u=this._model.get(&quot;axisExpandSlideTriggerArea&quot;),c=null!=u[0];if(h)c&amp;&amp;h&amp;&amp;s&lt;a*u[0]?(l=&quot;jump&quot;,r=s-a*u[2]):c&amp;&amp;h&amp;&amp;s&gt;a*(1-u[0])?(l=&quot;jump&quot;,r=s-a*(1-u[2])):(r=s-a*u[1])&gt;=0&amp;&amp;(r=s-a*(1-u[1]))&lt;=0&amp;&amp;(r=0),(r*=e.axisExpandWidth/h)?xb(r,n,o,&quot;all&quot;):l=&quot;none&quot;;else{a=n[1]-n[0];(n=[wb(0,o[1]*s/a-a/2)])[1]=bb(o[1],n[0]+a),n[0]=n[1]-a}return{axisExpandWindow:n,behavior:l}}};var Ab=ua;rf.register(&quot;parallel&quot;,{create:function(t,e){var i=[];return t.eachComponent(&quot;parallel&quot;,function(n,a){var o=new Ab(n,t,e);o.name=&quot;parallel_&quot;+a,o.resize(n,e),n.coordinateSystem=o,o.model=n,i.push(o)}),t.eachSeries(function(e){if(&quot;parallel&quot;===e.get(&quot;coordinateSystem&quot;)){var i=t.queryComponents({mainType:&quot;parallel&quot;,index:e.get(&quot;parallelIndex&quot;),id:e.get(&quot;parallelId&quot;)})[0];e.coordinateSystem=i.coordinateSystem}}),i}});var Cb=Hp.extend({type:&quot;baseParallelAxis&quot;,axis:null,activeIntervals:[],getAreaSelectStyle:function(){return Gu([[&quot;fill&quot;,&quot;color&quot;],[&quot;lineWidth&quot;,&quot;borderWidth&quot;],[&quot;stroke&quot;,&quot;borderColor&quot;],[&quot;width&quot;,&quot;width&quot;],[&quot;opacity&quot;,&quot;opacity&quot;]])(this.getModel(&quot;areaSelectStyle&quot;))},setActiveIntervals:function(t){var e=this.activeIntervals=rl.clone(t);if(e)for(var i=e.length-1;i&gt;=0;i--)Pu.asc(e[i])},getActiveState:function(t){var e=this.activeIntervals;if(!e.length)return&quot;normal&quot;;if(null==t)return&quot;inactive&quot;;for(var i=0,n=e.length;i&lt;n;i++)if(e[i][0]&lt;=t&amp;&amp;t&lt;=e[i][1])return&quot;active&quot;;return&quot;inactive&quot;}});rl.merge(Cb.prototype,Ng),ov(&quot;parallel&quot;,Cb,function(t,e){return e.type||(e.data?&quot;category&quot;:&quot;value&quot;)},{type:&quot;value&quot;,dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:&quot;rgba(160,197,232)&quot;,color:&quot;rgba(160,197,232)&quot;,opacity:.3},realtime:!0,z:10});Hp.extend({type:&quot;parallel&quot;,dependencies:[&quot;parallelAxis&quot;],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:&quot;box&quot;,defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:&quot;horizontal&quot;,axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:&quot;click&quot;,parallelAxisDefault:null},init:function(){Hp.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(t){var e=this.option;t&amp;&amp;rl.merge(e,t,!0),this._initDimensions()},contains:function(t,e){var i=t.get(&quot;parallelIndex&quot;);return null!=i&amp;&amp;e.getComponent(&quot;parallel&quot;,i)===this},setAxisExpand:function(t){rl.each([&quot;axisExpandable&quot;,&quot;axisExpandCenter&quot;,&quot;axisExpandCount&quot;,&quot;axisExpandWidth&quot;,&quot;axisExpandWindow&quot;],function(e){t.hasOwnProperty(e)&amp;&amp;(this.option[e]=t[e])},this)},_initDimensions:function(){var t=this.dimensions=[],e=this.parallelAxisIndex=[],i=rl.filter(this.dependentModels.parallelAxis,function(t){return(t.get(&quot;parallelIndex&quot;)||0)===this.componentIndex},this);rl.each(i,function(i){t.push(&quot;dim&quot;+i.get(&quot;dim&quot;)),e.push(i.componentIndex)})}});ym.registerAction({type:&quot;axisAreaSelect&quot;,event:&quot;axisAreaSelected&quot;,update:&quot;updateVisual&quot;},function(t,e){e.eachComponent({mainType:&quot;parallelAxis&quot;,query:t},function(e){e.axis.model.setActiveIntervals(t.intervals)})}),ym.registerAction(&quot;parallelAxisExpand&quot;,function(t,e){e.eachComponent({mainType:&quot;parallel&quot;,query:t},function(e){e.setAxisExpand(t)})});var Lb=rl.curry,Db=rl.each,Pb=rl.map,kb=Math.min,Ob=Math.max,zb=Math.pow,Eb=1e4,Rb=6,Nb=6,Vb=&quot;globalPan&quot;,Bb={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Gb={w:&quot;ew&quot;,e:&quot;ew&quot;,n:&quot;ns&quot;,s:&quot;ns&quot;,ne:&quot;nesw&quot;,sw:&quot;nesw&quot;,nw:&quot;nwse&quot;,se:&quot;nwse&quot;},Hb={brushStyle:{lineWidth:2,stroke:&quot;rgba(0,0,0,0.3)&quot;,fill:&quot;rgba(0,0,0,0.1)&quot;},transformable:!0,brushMode:&quot;single&quot;,removeOnClick:!1},Wb=0;da.prototype={constructor:da,enableBrush:function(t){return this._brushType&amp;&amp;function(t){var e=t._zr;Hy.release(e,Vb,t._uid),Db(t._handlers,function(t,i){e.off(i,t)}),t._brushType=t._brushOption=null}(this),t.brushType&amp;&amp;function(t,e){var i=t._zr;t._enableGlobalPan||Hy.take(i,Vb,t._uid),Db(t._handlers,function(t,e){i.on(e,t)}),t._brushType=e.brushType,t._brushOption=rl.merge(rl.clone(Hb),e,!0)}(this,t),this},setPanels:function(t){if(t&amp;&amp;t.length){var e=this._panels={};rl.each(t,function(t){e[t.panelId]=rl.clone(t)})}else this._panels=null;return this},mount:function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({position:t.position||[0,0],rotation:t.rotation||0,scale:t.scale||[1,1]}),this._transform=e.getLocalTransform(),this},eachCover:function(t,e){Db(this._covers,t,e)},updateCovers:function(t){function e(t,e){return(null!=t.id?t.id:n+e)+&quot;-&quot;+t.brushType}function i(e,i){var n=t[e];if(null!=i&amp;&amp;a[i]===s)o[e]=a[i];else{var l=o[e]=null!=i?(a[i].__brushOption=n,a[i]):fa(r,pa(r,n));va(r,l)}}t=rl.map(t,function(t){return rl.merge(rl.clone(Hb),t,!0)});var n=&quot;\0-brush-index-&quot;,a=this._covers,o=this._covers=[],r=this,s=this._creatingCover;return new qf(a,t,function(t,i){return e(t.__brushOption,i)},e).add(i).update(i).remove(function(t){a[t]!==s&amp;&amp;r.group.remove(a[t])}).execute(),this},unmount:function(){return this.enableBrush(!1),ba(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},rl.mixin(da,dl);var Fb={mousedown:function(t){if(this._dragging)Va.call(this,t);else if(!t.target||!t.target.draggable){za(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null;(this._creatingPanel=xa(this,t,e))&amp;&amp;(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);if(function(t,e,i){if(t._brushType){var n=t._zr,a=t._covers,o=xa(t,e,i);if(!t._dragging)for(var r=0;r&lt;a.length;r++){var s=a[r].__brushOption;if(o&amp;&amp;(!0===o||s.panelId===o.panelId)&amp;&amp;Zb[s.brushType].contain(a[r],i[0],i[1]))return}o&amp;&amp;n.setCursorStyle(&quot;crosshair&quot;)}}(this,t,e),this._dragging){za(t);var i=Ra(this,t,e,!1);i&amp;&amp;wa(this,i)}},mouseup:Va},Zb={lineX:Ba(0),lineY:Ba(1),rect:{createCover:function(t,e){return Ma(Lb(Pa,function(t){return t},function(t){return t}),t,e,[&quot;w&quot;,&quot;e&quot;,&quot;n&quot;,&quot;s&quot;,&quot;se&quot;,&quot;sw&quot;,&quot;ne&quot;,&quot;nw&quot;])},getCreatingRange:function(t){var e=Sa(t);return La(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,i,n){Ia(t,e,i,n)},updateCommon:Ta,contain:Ea},polygon:{createCover:function(t,e){var i=new fp.Group;return i.add(new fp.Polyline({name:&quot;main&quot;,style:Ca(e),silent:!0})),i},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new fp.Polygon({name:&quot;main&quot;,draggable:!0,drift:Lb(function(t,e,i,n,a){var o=e.__brushOption.range,r=ka(t,i,n);Db(o,function(t){t[0]+=r[0],t[1]+=r[1]}),va(t,e),wa(t,{isEnd:!1})},t,e),ondragend:Lb(wa,t,{isEnd:!0})}))},updateCoverShape:function(t,e,i,n){e.childAt(0).setShape({points:Oa(t,e,i)})},updateCommon:Ta,contain:Ea}},jb=da,Ub=jy.onIrrelevantElement,qb={makeRectPanelClipPath:function(t){return t=Ga(t),function(e,i){return fp.clipPointsByRect(e,t)}},makeLinearBrushOtherExtent:function(t,e){return t=Ga(t),function(i){var n=null!=e?e:i,a=n?t.width:t.height,o=n?t.x:t.y;return[o,o+(a||0)]}},makeRectIsTargetByCursor:function(t,e,i){return t=Ga(t),function(n,a,o){return t.contain(a[0],a[1])&amp;&amp;!Ub(n,e,i)}}},Xb=[&quot;axisLine&quot;,&quot;axisTickLabel&quot;,&quot;axisName&quot;],Yb=ym.extendComponentView({type:&quot;parallelAxis&quot;,init:function(t,e){Yb.superApply(this,&quot;init&quot;,arguments),(this._brushController=new jb(e.getZr())).on(&quot;brush&quot;,rl.bind(this._onBrush,this))},render:function(t,e,i,n){if(!function(t,e,i){return i&amp;&amp;&quot;axisAreaSelect&quot;===i.type&amp;&amp;e.findComponents({mainType:&quot;parallelAxis&quot;,query:i})[0]===t}(t,e,n)){this.axisModel=t,this.api=i,this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new fp.Group,this.group.add(this._axisGroup),t.get(&quot;show&quot;)){var o=function(t,e){return e.getComponent(&quot;parallel&quot;,t.get(&quot;parallelIndex&quot;))}(t,e),r=o.coordinateSystem,s=t.getAreaSelectStyle(),l=s.width,h=t.axis.dim,u=r.getAxisLayout(h),c=rl.extend({strokeContainThreshold:l},u),d=new Cv(t,c);rl.each(Xb,d.add,d),this._axisGroup.add(d.getGroup()),this._refreshBrushController(c,s,t,o,l,i);var p=n&amp;&amp;!1===n.animation?null:t;fp.groupTransition(a,this._axisGroup,p)}}},updateVisual:function(t,e,i,n){this._brushController&amp;&amp;this._brushController.updateCovers(Ha(t))},_refreshBrushController:function(t,e,i,n,a,o){var r=i.axis.getExtent(),s=r[1]-r[0],l=Math.min(30,.1*Math.abs(s)),h=fp.BoundingRect.create({x:r[0],y:-a/2,width:s,height:a});h.x-=l,h.width+=2*l,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,position:t.position}).setPanels([{panelId:&quot;pl&quot;,clipPath:qb.makeRectPanelClipPath(h),isTargetByCursor:qb.makeRectIsTargetByCursor(h,o,n),getLinearBrushOtherExtent:qb.makeLinearBrushOtherExtent(h,0)}]).enableBrush({brushType:&quot;lineX&quot;,brushStyle:e,removeOnClick:!0}).updateCovers(Ha(i))},_onBrush:function(t,e){var i=this.axisModel,n=i.axis,a=rl.map(t,function(t){return[n.coordToData(t.range[0],!0),n.coordToData(t.range[1],!0)]});(!i.option.realtime===e.isEnd||e.removeOnClick)&amp;&amp;this.api.dispatchAction({type:&quot;axisAreaSelect&quot;,parallelAxisId:i.id,intervals:a})},dispose:function(){this._brushController.dispose()}});ym.extendComponentView({type:&quot;parallel&quot;,render:function(t,e,i){this._model=t,this._api=i,this._handlers||(this._handlers={},rl.each($b,function(t,e){i.getZr().on(e,this._handlers[e]=rl.bind(t,this))},this)),Ff.createOrUpdate(this,&quot;_throttledDispatchExpand&quot;,t.get(&quot;axisExpandRate&quot;),&quot;fixRate&quot;)},dispose:function(t,e){rl.each(this._handlers,function(t,i){e.getZr().off(i,t)}),this._handlers=null},_throttledDispatchExpand:function(t){this._dispatchExpand(t)},_dispatchExpand:function(t){t&amp;&amp;this._api.dispatchAction(rl.extend({type:&quot;parallelAxisExpand&quot;},t))}});var $b={mousedown:function(t){Wa(this,&quot;click&quot;)&amp;&amp;(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var e=this._mouseDownPoint;if(Wa(this,&quot;click&quot;)&amp;&amp;e){var i=[t.offsetX,t.offsetY];if(Math.pow(e[0]-i[0],2)+Math.pow(e[1]-i[1],2)&gt;5)return;var n=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);&quot;none&quot;!==n.behavior&amp;&amp;this._dispatchExpand({axisExpandWindow:n.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!this._mouseDownPoint&amp;&amp;Wa(this,&quot;mousemove&quot;)){var e=this._model,i=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),n=i.behavior;&quot;jump&quot;===n&amp;&amp;this._throttledDispatchExpand.debounceNextCall(e.get(&quot;axisExpandDebounce&quot;)),this._throttledDispatchExpand(&quot;none&quot;===n?null:{axisExpandWindow:i.axisExpandWindow,animation:&quot;jump&quot;===n&amp;&amp;null})}}};ym.registerPreprocessor(mb);zf.extend({type:&quot;series.parallel&quot;,dependencies:[&quot;parallel&quot;],visualColorAccessPath:&quot;lineStyle.normal.color&quot;,getInitialData:function(t,e){var i=e.getComponent(&quot;parallel&quot;,this.get(&quot;parallelIndex&quot;)),n=i.parallelAxisIndex,a=t.data,o=i.dimensions,r=function(t,e){var i=0;rl.each(t,function(t){var e=Fa(t);e&gt;i&amp;&amp;(i=e)});var n=e[0];n&amp;&amp;n.length-1&gt;i&amp;&amp;(i=n.length-1);for(var a=[],o=0;o&lt;=i;o++)a.push(&quot;dim&quot;+o);return a}(o,a),s=rl.map(r,function(t,i){var r=rl.indexOf(o,t),s=r&gt;=0&amp;&amp;e.getComponent(&quot;parallelAxis&quot;,n[r]);return s&amp;&amp;&quot;category&quot;===s.get(&quot;type&quot;)?(function(t,e,i){var n=t.get(&quot;data&quot;),a=Fa(e);n&amp;&amp;n.length&amp;&amp;rl.each(i,function(t){if(t){var e=rl.indexOf(n,t[a]);t[a]=e&gt;=0?e:NaN}})}(s,t,a),{name:t,type:&quot;ordinal&quot;}):r&lt;0&amp;&amp;sg.guessOrdinal(a,i)?{name:t,type:&quot;ordinal&quot;}:t}),l=new tg(s,this);return l.initData(a),this.option.progressive&amp;&amp;(this.option.animation=!1),l},getRawIndicesByActiveState:function(t){var e=this.coordinateSystem,i=this.getData(),n=[];return e.eachActiveState(i,function(e,a){t===e&amp;&amp;n.push(i.getRawIndex(a))}),n},defaultOption:{zlevel:0,z:2,coordinateSystem:&quot;parallel&quot;,parallelIndex:0,label:{normal:{show:!1},emphasis:{show:!1}},inactiveOpacity:.05,activeOpacity:1,lineStyle:{normal:{width:1,opacity:.45,type:&quot;solid&quot;}},progressive:!1,smooth:!1,animationEasing:&quot;linear&quot;}}),Bf.extend({type:&quot;parallel&quot;,init:function(){this._dataGroup=new fp.Group,this.group.add(this._dataGroup),this._data},render:function(t,e,i,n){this._renderForNormal(t,n)},dispose:function(){},_renderForNormal:function(t,e){var i=this._dataGroup,n=t.getData(),a=this._data,o=t.coordinateSystem,r=o.dimensions,s=t.option.smooth?.3:null;if(n.diff(a).add(function(t){!function(t,e,i,n,a){var o=Za(t,i,n,a),r=new fp.Polyline({shape:{points:o},silent:!0,z2:10});e.add(r),t.setItemGraphicEl(i,r)}(n,i,t,r,o)}).update(function(i,s){var l=a.getItemGraphicEl(s),h=Za(n,i,r,o);n.setItemGraphicEl(i,l);var u=e&amp;&amp;!1===e.animation?null:t;fp.updateProps(l,{shape:{points:h}},u,i)}).remove(function(t){var e=a.getItemGraphicEl(t);i.remove(e)}).execute(),function(t,e){var i=t.hostModel.getModel(&quot;lineStyle.normal&quot;),n=i.getLineStyle();t.eachItemGraphicEl(function(a,o){if(t.hasItemOption){var r=t.getItemModel(o).getModel(&quot;lineStyle.normal&quot;,i);n=r.getLineStyle([&quot;color&quot;,&quot;stroke&quot;])}a.useStyle(rl.extend(n,{fill:null,stroke:t.getItemVisual(o,&quot;color&quot;),opacity:t.getItemVisual(o,&quot;opacity&quot;)})),a.shape.smooth=e})}(n,s),!this._data){var l=function(t,e,i){var n=t.model,a=t.getRect(),o=new fp.Rect({shape:{x:a.x,y:a.y,width:a.width,height:a.height}}),r=&quot;horizontal&quot;===n.get(&quot;layout&quot;)?&quot;width&quot;:&quot;height&quot;;return o.setShape(r,0),fp.initProps(o,{shape:{width:a.width,height:a.height}},e,i),o}(o,t,function(){setTimeout(function(){i.removeClipPath()})});i.setClipPath(l)}this._data=n},remove:function(){this._dataGroup&amp;&amp;this._dataGroup.removeAll(),this._data=null}});var Kb=[&quot;lineStyle&quot;,&quot;normal&quot;,&quot;opacity&quot;],Jb=function(t){t.eachSeriesByType(&quot;parallel&quot;,function(e){var i=e.getModel(&quot;itemStyle.normal&quot;),n=e.getModel(&quot;lineStyle.normal&quot;),a=t.get(&quot;color&quot;),o=n.get(&quot;color&quot;)||i.get(&quot;color&quot;)||a[e.seriesIndex%a.length],r=e.get(&quot;inactiveOpacity&quot;),s=e.get(&quot;activeOpacity&quot;),l=e.getModel(&quot;lineStyle.normal&quot;).getLineStyle(),h=e.coordinateSystem,u=e.getData(),c={normal:l.opacity,active:s,inactive:r};h.eachActiveState(u,function(t,e){var i=u.getItemModel(e),n=c[t];if(&quot;normal&quot;===t){var a=i.get(Kb,!0);null!=a&amp;&amp;(n=a)}u.setItemVisual(e,&quot;opacity&quot;,n)}),u.setVisual(&quot;color&quot;,o)})};ym.registerVisual(Jb);var Qb=Eu.encodeHTML,tw=zf.extend({type:&quot;series.sankey&quot;,layoutInfo:null,getInitialData:function(t){var e=t.edges||t.links,i=t.data||t.nodes;if(i&amp;&amp;e){return m_(i,e,this,!0).data}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(t,e,i){if(&quot;edge&quot;===i){var n=this.getDataParams(t,i),a=n.data,o=a.source+&quot; -- &quot;+a.target;return n.value&amp;&amp;(o+=&quot; : &quot;+n.value),Qb(o)}return tw.superCall(this,&quot;formatTooltip&quot;,t,e)},defaultOption:{zlevel:0,z:2,coordinateSystem:&quot;view&quot;,layout:null,left:&quot;5%&quot;,top:&quot;5%&quot;,right:&quot;20%&quot;,bottom:&quot;5%&quot;,nodeWidth:20,nodeGap:8,layoutIterations:32,label:{normal:{show:!0,position:&quot;right&quot;,color:&quot;#000&quot;,fontSize:12},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:1,borderColor:&quot;#333&quot;}},lineStyle:{normal:{color:&quot;#314656&quot;,opacity:.2,curveness:.5},emphasis:{opacity:.6}},animationEasing:&quot;linear&quot;,animationDuration:1e3}}),ew=fp.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(t,e){var i=e.extent/2;t.moveTo(e.x1,e.y1-i),t.bezierCurveTo(e.cpx1,e.cpy1-i,e.cpx2,e.cpy2-i,e.x2,e.y2-i),t.lineTo(e.x2,e.y2+i),t.bezierCurveTo(e.cpx2,e.cpy2+i,e.cpx1,e.cpy1+i,e.x1,e.y1+i),t.closePath()}}),iw=(ym.extendChartView({type:&quot;sankey&quot;,_model:null,render:function(t,e,i){var n=t.getGraph(),a=this.group,o=t.layoutInfo,r=t.getData(),s=t.getData(&quot;edge&quot;);this._model=t,a.removeAll(),a.attr(&quot;position&quot;,[o.x,o.y]),n.eachEdge(function(e){var i=new ew;i.dataIndex=e.dataIndex,i.seriesIndex=t.seriesIndex,i.dataType=&quot;edge&quot;;var n=e.getModel(&quot;lineStyle.normal&quot;),o=n.get(&quot;curveness&quot;),r=e.node1.getLayout(),l=e.node2.getLayout(),h=e.getLayout();i.shape.extent=Math.max(1,h.dy);var u=r.x+r.dx,c=r.y+h.sy+h.dy/2,d=l.x,p=l.y+h.ty+h.dy/2,f=u*(1-o)+d*o,g=c,m=u*o+d*(1-o),v=p;switch(i.setShape({x1:u,y1:c,x2:d,y2:p,cpx1:f,cpy1:g,cpx2:m,cpy2:v}),i.setStyle(n.getItemStyle()),i.style.fill){case&quot;source&quot;:i.style.fill=e.node1.getVisual(&quot;color&quot;);break;case&quot;target&quot;:i.style.fill=e.node2.getVisual(&quot;color&quot;)}fp.setHoverStyle(i,e.getModel(&quot;lineStyle.emphasis&quot;).getItemStyle()),a.add(i),s.setItemGraphicEl(e.dataIndex,i)}),n.eachNode(function(e){var i=e.getLayout(),n=e.getModel(),o=n.getModel(&quot;label.normal&quot;),s=n.getModel(&quot;label.emphasis&quot;),l=new fp.Rect({shape:{x:i.x,y:i.y,width:e.getLayout().dx,height:e.getLayout().dy},style:n.getModel(&quot;itemStyle.normal&quot;).getItemStyle()}),h=e.getModel(&quot;itemStyle.emphasis&quot;).getItemStyle();fp.setLabelStyle(l.style,h,o,s,{labelFetcher:t,labelDataIndex:e.dataIndex,defaultText:e.id,isRectText:!0}),l.setStyle(&quot;fill&quot;,e.getVisual(&quot;color&quot;)),fp.setHoverStyle(l,h),a.add(l),r.setItemGraphicEl(e.dataIndex,l),l.dataType=&quot;node&quot;}),!this._data&amp;&amp;t.get(&quot;animation&quot;)&amp;&amp;a.setClipPath(function(t,e,i){var n=new fp.Rect({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return fp.initProps(n,{shape:{width:t.width+20,height:t.height+20}},e,i),n}(a.getBoundingRect(),t,function(){a.removeClipPath()})),this._data=t.getData()},dispose:function(){}}),function(){function t(e,n){if(n&gt;=i.length)return e;for(var a=-1,o=e.length,r=i[n++],s={},l={};++a&lt;o;){var h=r(e[a]),u=l[h];u?u.push(e[a]):l[h]=[e[a]]}return rl.each(l,function(e,i){s[i]=t(e,n)}),s}function e(t,a){if(a&gt;=i.length)return t;var o=[],r=n[a++];return rl.each(t,function(t,i){o.push({key:i,values:e(t,a)})}),r?o.sort(function(t,e){return r(t.key,e.key)}):o}var i=[],n=[];return{key:function(t){return i.push(t),this},sortKeys:function(t){return n[i.length-1]=t,this},entries:function(i){return e(t(i,0),0)}}}),nw=function(t,e,i){t.eachSeriesByType(&quot;sankey&quot;,function(t){var i=t.get(&quot;nodeWidth&quot;),n=t.get(&quot;nodeGap&quot;),a=function(t,e){return Np.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e);t.layoutInfo=a;var o=a.width,r=a.height,s=t.getGraph(),l=s.nodes,h=s.edges;!function(t){rl.each(t,function(t){var e=Ua(t.outEdges,Xa),i=Ua(t.inEdges,Xa),n=Math.max(e,i);t.setLayout({value:n},!0)})}(l),function(t,e,i,n,a,o,r){(function(t,e,i){for(var n=t,a=null,o=0;n.length;){a=[];for(var r=0,s=n.length;r&lt;s;r++){var l=n[r];l.setLayout({x:o},!0),l.setLayout({dx:e},!0);for(var h=0,u=l.outEdges.length;h&lt;u;h++)a.push(l.outEdges[h].node2)}n=a,++o}(function(t,e){rl.each(t,function(t){t.outEdges.length||t.setLayout({x:e-1},!0)})})(t,o),function(t,e){rl.each(t,function(t){var i=t.getLayout().x*e;t.setLayout({x:i},!0)})}(t,(i-e)/(o-1))})(t,i,a),function(t,e,i,n,a){var o=iw().key(function(t){return t.getLayout().x}).sortKeys(function(t,e){return t&lt;e?-1:t&gt;e?1:t===e?0:NaN}).entries(t).map(function(t){return t.values});(function(t,e,i,n,a){var o=[];rl.each(e,function(t){var e=t.length,i=0;rl.each(t,function(t){i+=t.getLayout().value});var r=(n-(e-1)*a)/i;o.push(r)}),o.sort(function(t,e){return t-e});var r=o[0];rl.each(e,function(t){rl.each(t,function(t,e){t.setLayout({y:e},!0);var i=t.getLayout().value*r;t.setLayout({dy:i},!0)})}),rl.each(i,function(t){var e=+t.getValue()*r;t.setLayout({dy:e},!0)})})(0,o,e,i,n),ja(o,n,i);for(var r=1;a&gt;0;a--)(function(t,e){rl.each(t.slice().reverse(),function(t){rl.each(t,function(t){if(t.outEdges.length){var i=Ua(t.outEdges,function(t){return qa(t.node2)*t.getValue()})/Ua(t.outEdges,Xa),n=t.getLayout().y+(i-qa(t))*e;t.setLayout({y:n},!0)}})})})(o,r*=.99),ja(o,n,i),function(t,e){rl.each(t,function(t){rl.each(t,function(t){if(t.inEdges.length){var i=Ua(t.inEdges,function(t){return qa(t.node1)*t.getValue()})/Ua(t.inEdges,Xa),n=t.getLayout().y+(i-qa(t))*e;t.setLayout({y:n},!0)}})})}(o,r),ja(o,n,i)}(t,e,o,n,r),function(t){rl.each(t,function(t){t.outEdges.sort(function(t,e){return t.node2.getLayout().y-e.node2.getLayout().y}),t.inEdges.sort(function(t,e){return t.node1.getLayout().y-e.node1.getLayout().y})}),rl.each(t,function(t){var e=0,i=0;rl.each(t.outEdges,function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy}),rl.each(t.inEdges,function(t){t.setLayout({ty:i},!0),i+=t.getLayout().dy})})}(t)}(l,h,i,n,o,r,0!==rl.filter(l,function(t){return 0===t.getLayout().value}).length?0:t.get(&quot;layoutIterations&quot;))})},aw=function(t,e){t.eachSeriesByType(&quot;sankey&quot;,function(t){var e=t.getGraph().nodes;e.sort(function(t,e){return t.getLayout().value-e.getLayout().value});var i=e[0].getLayout().value,n=e[e.length-1].getLayout().value;rl.each(e,function(e){var a=new Kx({type:&quot;color&quot;,mappingMethod:&quot;linear&quot;,dataExtent:[i,n],visual:t.get(&quot;color&quot;)}).mapValueToVisual(e.getLayout().value);e.setVisual(&quot;color&quot;,a);var o=e.getModel().get(&quot;itemStyle.normal.color&quot;);null!=o&amp;&amp;e.setVisual(&quot;color&quot;,o)})})};ym.registerLayout(nw),ym.registerVisual(aw);var ow=Yc.extend({type:&quot;whiskerInBox&quot;,shape:{},buildPath:function(t,e){for(var i in e)if(e.hasOwnProperty(i)&amp;&amp;0===i.indexOf(&quot;ends&quot;)){var n=e[i];t.moveTo(n[0][0],n[0][1]),t.lineTo(n[1][0],n[1][1])}}}),rw=Ya.prototype;rw._createContent=function(t,e,i){var n=t.getItemLayout(e),a=&quot;horizontal&quot;===n.chartLayout?1:0,o=0;this.add(new fp.Polygon({shape:{points:i?$a(n.bodyEnds,a,n):n.bodyEnds},style:{strokeNoScale:!0},z2:100})),this.bodyIndex=o++;var r=rl.map(n.whiskerEnds,function(t){return i?$a(t,a,n):t});this.add(new ow({shape:Ka(r),style:{strokeNoScale:!0},z2:100})),this.whiskerIndex=o++},rw.updateData=function(t,e,i){var n=this._seriesModel=t.hostModel,a=t.getItemLayout(e),o=fp[i?&quot;initProps&quot;:&quot;updateProps&quot;];o(this.childAt(this.bodyIndex),{shape:{points:a.bodyEnds}},n,e),o(this.childAt(this.whiskerIndex),{shape:Ka(a.whiskerEnds)},n,e),this.styleUpdater.call(null,this,t,e)},rl.inherits(Ya,fp.Group);var sw=Ja.prototype;sw.updateData=function(t){var e=this.group,i=this._data,n=this.styleUpdater;t.diff(i).add(function(i){if(t.hasValue(i)){var a=new Ya(t,i,n,!0);t.setItemGraphicEl(i,a),e.add(a)}}).update(function(a,o){var r=i.getItemGraphicEl(o);t.hasValue(a)?(r?r.updateData(t,a):r=new Ya(t,a,n),e.add(r),t.setItemGraphicEl(a,r)):e.remove(r)}).remove(function(t){var n=i.getItemGraphicEl(t);n&amp;&amp;e.remove(n)}).execute(),this._data=t},sw.remove=function(){var t=this.group,e=this._data;this._data=null,e&amp;&amp;e.eachItemGraphicEl(function(e){e&amp;&amp;t.remove(e)})};var lw=Ja,hw={seriesModelMixin:{_baseAxisDim:null,getInitialData:function(t,e){var i,n,a=e.getComponent(&quot;xAxis&quot;,this.get(&quot;xAxisIndex&quot;)),o=e.getComponent(&quot;yAxis&quot;,this.get(&quot;yAxisIndex&quot;)),r=a.get(&quot;type&quot;),s=o.get(&quot;type&quot;);&quot;category&quot;===r?(t.layout=&quot;horizontal&quot;,i=a.getCategories(),n=!0):&quot;category&quot;===s?(t.layout=&quot;vertical&quot;,i=o.getCategories(),n=!0):t.layout=t.layout||&quot;horizontal&quot;;var l=[&quot;x&quot;,&quot;y&quot;],h=&quot;horizontal&quot;===t.layout?0:1,u=this._baseAxisDim=l[h],c=l[1-h],d=t.data;n&amp;&amp;rl.each(d,function(t,e){t.value&amp;&amp;rl.isArray(t.value)?t.value.unshift(e):rl.isArray(t)&amp;&amp;t.unshift(e)});var p=this.defaultValueDimensions,f=[{name:u,otherDims:{tooltip:!1},dimsDef:[&quot;base&quot;]},{name:c,dimsDef:p.slice()}];f=sg(f,d,{encodeDef:this.get(&quot;encode&quot;),dimsDef:this.get(&quot;dimensions&quot;),dimCount:p.length+1});var g=new tg(f,this);return g.initData(d,i?i.slice():null),g},getBaseAxis:function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+&quot;Axis&quot;,this.get(t+&quot;AxisIndex&quot;)).axis}},viewMixin:{init:function(){var t=this._whiskerBoxDraw=new lw(this.getStyleUpdater());this.group.add(t.group)},render:function(t,e,i){this._whiskerBoxDraw.updateData(t.getData())},remove:function(t){this._whiskerBoxDraw.remove()}}},uw=hw.seriesModelMixin,cw=zf.extend({type:&quot;series.boxplot&quot;,dependencies:[&quot;xAxis&quot;,&quot;yAxis&quot;,&quot;grid&quot;],defaultValueDimensions:[&quot;min&quot;,&quot;Q1&quot;,&quot;median&quot;,&quot;Q3&quot;,&quot;max&quot;],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:&quot;cartesian2d&quot;,legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{normal:{color:&quot;#fff&quot;,borderWidth:1},emphasis:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:&quot;rgba(0,0,0,0.4)&quot;}},animationEasing:&quot;elasticOut&quot;,animationDuration:800}});rl.mixin(cw,uw,!0);var dw=hw.viewMixin,pw=Bf.extend({type:&quot;boxplot&quot;,getStyleUpdater:function(){return function(t,e,i){var n=e.getItemModel(i),a=n.getModel(fw),o=e.getItemVisual(i,&quot;color&quot;),r=a.getItemStyle([&quot;borderColor&quot;]),s=t.childAt(t.whiskerIndex);s.style.set(r),s.style.stroke=o,s.dirty();var l=t.childAt(t.bodyIndex);l.style.set(r),l.style.stroke=o,l.dirty();var h=n.getModel(gw).getItemStyle();fp.setHoverStyle(t,h)}},dispose:rl.noop});rl.mixin(pw,dw,!0);var fw=[&quot;itemStyle&quot;,&quot;normal&quot;],gw=[&quot;itemStyle&quot;,&quot;emphasis&quot;],mw=[&quot;itemStyle&quot;,&quot;normal&quot;,&quot;borderColor&quot;],vw=function(t,e){var i=t.get(&quot;color&quot;);t.eachRawSeriesByType(&quot;boxplot&quot;,function(e){var n=i[e.seriesIndex%i.length],a=e.getData();a.setVisual({legendSymbol:&quot;roundRect&quot;,color:e.get(mw)||n}),t.isSeriesFiltered(e)||a.each(function(t){var e=a.getItemModel(t);a.setItemVisual(t,{color:e.get(mw,!0)})})})},yw=Pu.parsePercent,xw=rl.each,_w=function(t){var e=function(t){var e=[],i=[];return t.eachSeriesByType(&quot;boxplot&quot;,function(t){var n=t.getBaseAxis(),a=rl.indexOf(i,n);a&lt;0&amp;&amp;(a=i.length,i[a]=n,e[a]={axis:n,seriesModels:[]}),e[a].seriesModels.push(t)}),e}(t);xw(e,function(t){var e=t.seriesModels;e.length&amp;&amp;(function(t){var e,i,n=t.axis,a=t.seriesModels,o=a.length,r=t.boxWidthList=[],s=t.boxOffsetList=[],l=[];if(&quot;category&quot;===n.type)i=n.getBandWidth();else{var h=0;xw(a,function(t){h=Math.max(h,t.getData().count())}),e=n.getExtent(),Math.abs(e[1]-e[0])}xw(a,function(t){var e=t.get(&quot;boxWidth&quot;);rl.isArray(e)||(e=[e,e]),l.push([yw(e[0],i)||0,yw(e[1],i)||0])});var u=.8*i-2,c=u/o*.3,d=(u-c*(o-1))/o,p=d/2-u/2;xw(a,function(t,e){s.push(p),p+=c+d,r.push(Math.min(Math.max(d,l[e][0]),l[e][1]))})}(t),xw(e,function(e,i){!function(t,e,i){var n,a=t.coordinateSystem,o=t.getData(),r=i/2,s=t.get(&quot;layout&quot;),l=&quot;horizontal&quot;===s?0:1,h=1-l,u=[&quot;x&quot;,&quot;y&quot;],c=[];rl.each(o.dimensions,function(t){var e=o.getDimensionInfo(t).coordDim;e===u[h]?c.push(t):e===u[l]&amp;&amp;(n=t)}),null==n||c.length&lt;5||o.each([n].concat(c),function(){function t(t){var i=[];i[l]=d,i[h]=t;var n;return isNaN(d)||isNaN(t)?n=[NaN,NaN]:(n=a.dataToPoint(i))[l]+=e,n}function i(t,e){var i=t.slice(),n=t.slice();i[l]+=r,n[l]-=r,e?y.push(i,n):y.push(n,i)}function n(t){var e=[t.slice(),t.slice()];e[0][l]-=r,e[1][l]+=r,v.push(e)}var u=arguments,d=u[0],p=u[c.length+1],f=t(u[3]),g=t(u[1]),m=t(u[5]),v=[[g,t(u[2])],[m,t(u[4])]];n(g),n(m),n(f);var y=[];i(v[0][1],0),i(v[1][1],1),o.setItemLayout(p,{chartLayout:s,initBaseline:f[h],median:f,bodyEnds:y,whiskerEnds:v})})}(e,t.boxOffsetList[i],t.boxWidthList[i])}))})};ym.registerVisual(vw),ym.registerLayout(_w);var bw=hw.seriesModelMixin,ww=zf.extend({type:&quot;series.candlestick&quot;,dependencies:[&quot;xAxis&quot;,&quot;yAxis&quot;,&quot;grid&quot;],defaultValueDimensions:[&quot;open&quot;,&quot;close&quot;,&quot;lowest&quot;,&quot;highest&quot;],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:&quot;cartesian2d&quot;,legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{normal:{color:&quot;#c23531&quot;,color0:&quot;#314656&quot;,borderWidth:1,borderColor:&quot;#c23531&quot;,borderColor0:&quot;#314656&quot;},emphasis:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,animationUpdate:!1,animationEasing:&quot;linear&quot;,animationDuration:300},getShadowDim:function(){return&quot;open&quot;},brushSelector:function(t,e,i){var n=e.getItemLayout(t);return i.rect(n.brushRect)}});rl.mixin(ww,bw,!0);var Sw=hw.viewMixin,Mw=Bf.extend({type:&quot;candlestick&quot;,getStyleUpdater:function(){return function(t,e,i){var n=e.getItemModel(i),a=n.getModel(Iw),o=e.getItemVisual(i,&quot;color&quot;),r=e.getItemVisual(i,&quot;borderColor&quot;)||o,s=a.getItemStyle([&quot;color&quot;,&quot;color0&quot;,&quot;borderColor&quot;,&quot;borderColor0&quot;]),l=t.childAt(t.whiskerIndex);l.useStyle(s),l.style.stroke=r;var h=t.childAt(t.bodyIndex);h.useStyle(s),h.style.fill=o,h.style.stroke=r;var u=n.getModel(Tw).getItemStyle();fp.setHoverStyle(t,u)}},dispose:rl.noop});rl.mixin(Mw,Sw,!0);var Iw=[&quot;itemStyle&quot;,&quot;normal&quot;],Tw=[&quot;itemStyle&quot;,&quot;emphasis&quot;],Aw=function(t){t&amp;&amp;rl.isArray(t.series)&amp;&amp;rl.each(t.series,function(t){rl.isObject(t)&amp;&amp;&quot;k&quot;===t.type&amp;&amp;(t.type=&quot;candlestick&quot;)})},Cw=[&quot;itemStyle&quot;,&quot;normal&quot;,&quot;borderColor&quot;],Lw=[&quot;itemStyle&quot;,&quot;normal&quot;,&quot;borderColor0&quot;],Dw=[&quot;itemStyle&quot;,&quot;normal&quot;,&quot;color&quot;],Pw=[&quot;itemStyle&quot;,&quot;normal&quot;,&quot;color0&quot;],kw=function(t,e){t.eachRawSeriesByType(&quot;candlestick&quot;,function(e){var i=e.getData();i.setVisual({legendSymbol:&quot;roundRect&quot;}),t.isSeriesFiltered(e)||i.each(function(t){var e=i.getItemModel(t),n=i.getItemLayout(t).sign;i.setItemVisual(t,{color:e.get(n&gt;0?Dw:Pw),borderColor:e.get(n&gt;0?Cw:Lw)})})})},Ow=Pu.parsePercent,zw=fp.subPixelOptimize,Ew=rl.retrieve2,Rw=function(t){t.eachSeriesByType(&quot;candlestick&quot;,function(t){var e,i=t.coordinateSystem,n=t.getData(),a=function(t,e){var i,n=t.getBaseAxis(),a=&quot;category&quot;===n.type?n.getBandWidth():(i=n.getExtent(),Math.abs(i[1]-i[0])/e.count()),o=Ow(Ew(t.get(&quot;barMaxWidth&quot;),a),a),r=Ow(Ew(t.get(&quot;barMinWidth&quot;),1),a),s=t.get(&quot;barWidth&quot;);return null!=s?Ow(s,a):Math.max(Math.min(a/2,o),r)}(t,n),o=t.get(&quot;layout&quot;),r=&quot;horizontal&quot;===o?0:1,s=1-r,l=[&quot;x&quot;,&quot;y&quot;],h=[];if(rl.each(n.dimensions,function(t){var i=n.getDimensionInfo(t).coordDim;i===l[s]?h.push(t):i===l[r]&amp;&amp;(e=t)}),!(null==e||h.length&lt;4)){var u=0;n.each([e].concat(h),function(){function t(t){var e=[];return e[r]=d,e[s]=t,isNaN(d)||isNaN(t)?[NaN,NaN]:i.dataToPoint(e)}function e(t,e){var i=t.slice(),n=t.slice();i[r]=zw(i[r]+a/2,1,!1),n[r]=zw(n[r]-a/2,1,!0),e?M.push(i,n):M.push(n,i)}function l(t){return t[r]=zw(t[r],1),t}var c=arguments,d=c[0],p=c[h.length+1],f=c[1],g=c[2],m=c[3],v=c[4],y=Math.min(f,g),x=Math.max(f,g),_=t(y),b=t(x),w=t(m),S=[[l(t(v)),l(b)],[l(w),l(_)]],M=[];e(b,0),e(_,1);var I;I=f&gt;g?-1:f&lt;g?1:u&gt;0?n.getItemModel(u-1).get()[2]&lt;=g?1:-1:1,n.setItemLayout(p,{chartLayout:o,sign:I,initBaseline:f&gt;g?b[s]:_[s],bodyEnds:M,whiskerEnds:S,brushRect:function(){var e=t(Math.min(f,g,m,v)),i=t(Math.max(f,g,m,v));return e[r]-=a/2,i[r]-=a/2,{x:e[0],y:e[1],width:s?a:i[0]-e[0],height:s?i[1]-e[1]:a}}()}),++u},!0)}})};ym.registerPreprocessor(Aw),ym.registerVisual(kw),ym.registerLayout(Rw);zf.extend({type:&quot;series.effectScatter&quot;,dependencies:[&quot;grid&quot;,&quot;polar&quot;],getInitialData:function(t,e){return dg(t.data,this,e)},brushSelector:&quot;point&quot;,defaultOption:{coordinateSystem:&quot;cartesian2d&quot;,zlevel:0,z:2,legendHoverLink:!0,effectType:&quot;ripple&quot;,progressive:0,showEffectOn:&quot;render&quot;,rippleEffect:{period:4,scale:2.5,brushType:&quot;fill&quot;},symbolSize:10}});var Nw=Ug.createSymbol,Vw=fp.Group,Bw=Pu.parsePercent,Gw=to.prototype;Gw.stopEffectAnimation=function(){this.childAt(1).removeAll()},Gw.startEffectAnimation=function(t){for(var e=t.symbolType,i=t.color,n=this.childAt(1),a=0;a&lt;3;a++){var o=Nw(e,-1,-1,2,2,i);o.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var r=-a/3*t.period+t.effectOffset;o.animate(&quot;&quot;,!0).when(t.period,{scale:[t.rippleScale/2,t.rippleScale/2]}).delay(r).start(),o.animateStyle(!0).when(t.period,{opacity:0}).delay(r).start(),n.add(o)}Qa(n,t)},Gw.updateEffectAnimation=function(t){for(var e=this._effectCfg,i=this.childAt(1),n=[&quot;symbolType&quot;,&quot;period&quot;,&quot;rippleScale&quot;],a=0;a&lt;n.length;a++){var o=n[a];if(e[o]!==t[o])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}Qa(i,t)},Gw.highlight=function(){this.trigger(&quot;emphasis&quot;)},Gw.downplay=function(){this.trigger(&quot;normal&quot;)},Gw.updateData=function(t,e){var i=t.hostModel;this.childAt(0).updateData(t,e);var n=this.childAt(1),a=t.getItemModel(e),o=t.getItemVisual(e,&quot;symbol&quot;),r=function(t){return rl.isArray(t)||(t=[+t,+t]),t}(t.getItemVisual(e,&quot;symbolSize&quot;)),s=t.getItemVisual(e,&quot;color&quot;);n.attr(&quot;scale&quot;,r),n.traverse(function(t){t.attr({fill:s})});var l=a.getShallow(&quot;symbolOffset&quot;);if(l){var h=n.position;h[0]=Bw(l[0],r[0]),h[1]=Bw(l[1],r[1])}n.rotation=(a.getShallow(&quot;symbolRotate&quot;)||0)*Math.PI/180||0;var u={};if(u.showEffectOn=i.get(&quot;showEffectOn&quot;),u.rippleScale=a.get(&quot;rippleEffect.scale&quot;),u.brushType=a.get(&quot;rippleEffect.brushType&quot;),u.period=1e3*a.get(&quot;rippleEffect.period&quot;),u.effectOffset=e/t.count(),u.z=a.getShallow(&quot;z&quot;)||0,u.zlevel=a.getShallow(&quot;zlevel&quot;)||0,u.symbolType=o,u.color=s,this.off(&quot;mouseover&quot;).off(&quot;mouseout&quot;).off(&quot;emphasis&quot;).off(&quot;normal&quot;),&quot;render&quot;===u.showEffectOn)this._effectCfg?this.updateEffectAnimation(u):this.startEffectAnimation(u),this._effectCfg=u;else{this._effectCfg=null,this.stopEffectAnimation();var c=this.childAt(0),d=function(){c.highlight(),&quot;render&quot;!==u.showEffectOn&amp;&amp;this.startEffectAnimation(u)},p=function(){c.downplay(),&quot;render&quot;!==u.showEffectOn&amp;&amp;this.stopEffectAnimation()};this.on(&quot;mouseover&quot;,d,this).on(&quot;mouseout&quot;,p,this).on(&quot;emphasis&quot;,d,this).on(&quot;normal&quot;,p,this)}this._effectCfg=u},Gw.fadeOut=function(t){this.off(&quot;mouseover&quot;).off(&quot;mouseout&quot;).off(&quot;emphasis&quot;).off(&quot;normal&quot;),t&amp;&amp;t()},rl.inherits(to,Vw);var Hw=to;ym.extendChartView({type:&quot;effectScatter&quot;,init:function(){this._symbolDraw=new Pm(Hw)},render:function(t,e,i){var n=t.getData(),a=this._symbolDraw;a.updateData(n),this.group.add(a.group)},updateLayout:function(){this._symbolDraw.updateLayout()},remove:function(t,e){this._symbolDraw&amp;&amp;this._symbolDraw.remove(e)},dispose:function(){}});ym.registerVisual(rl.curry(Fm,&quot;effectScatter&quot;,&quot;circle&quot;,null)),ym.registerLayout(rl.curry(Zm,&quot;effectScatter&quot;));var Ww=Eu.encodeHTML,Fw=zf.extend({type:&quot;series.lines&quot;,dependencies:[&quot;grid&quot;,&quot;polar&quot;],visualColorAccessPath:&quot;lineStyle.normal.color&quot;,init:function(t){eo(t),Fw.superApply(this,&quot;init&quot;,arguments)},mergeOption:function(t){eo(t),Fw.superApply(this,&quot;mergeOption&quot;,arguments)},getInitialData:function(t,e){var i=new tg([&quot;value&quot;],this);return i.hasItemOption=!1,i.initData(t.data,[],function(t,e,n,a){if(t instanceof Array)return NaN;i.hasItemOption=!0;var o=t.value;return null!=o?o instanceof Array?o[a]:o:void 0}),i},formatTooltip:function(t){var e=this.getData().getItemModel(t),i=e.get(&quot;name&quot;);if(i)return i;var n=e.get(&quot;fromName&quot;),a=e.get(&quot;toName&quot;),o=[];return null!=n&amp;&amp;o.push(n),null!=a&amp;&amp;o.push(a),Ww(o.join(&quot; &gt; &quot;))},defaultOption:{coordinateSystem:&quot;geo&quot;,zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:[&quot;none&quot;,&quot;none&quot;],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:&quot;circle&quot;,symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,label:{normal:{show:!1,position:&quot;end&quot;}},lineStyle:{normal:{opacity:.5}}}}),Zw=Ug.createSymbol,jw=io.prototype;jw.createLine=function(t,e,i){return new T_(t,e,i)},jw._updateEffectSymbol=function(t,e){var i=t.getItemModel(e).getModel(&quot;effect&quot;),n=i.get(&quot;symbolSize&quot;),a=i.get(&quot;symbol&quot;);rl.isArray(n)||(n=[n,n]);var o=i.get(&quot;color&quot;)||t.getItemVisual(e,&quot;color&quot;),r=this.childAt(1);this._symbolType!==a&amp;&amp;(this.remove(r),(r=Zw(a,-.5,-.5,1,1,o)).z2=100,r.culling=!0,this.add(r)),r&amp;&amp;(r.setStyle(&quot;shadowColor&quot;,o),r.setStyle(i.getItemStyle([&quot;color&quot;])),r.attr(&quot;scale&quot;,n),r.setColor(o),r.attr(&quot;scale&quot;,n),this._symbolType=a,this._updateEffectAnimation(t,i,e))},jw._updateEffectAnimation=function(t,e,i){var n=this.childAt(1);if(n){var a=this,o=t.getItemLayout(i),r=1e3*e.get(&quot;period&quot;),s=e.get(&quot;loop&quot;),l=e.get(&quot;constantSpeed&quot;),h=rl.retrieve(e.get(&quot;delay&quot;),function(e){return e/t.count()*r/3}),u=&quot;function&quot;==typeof h;if(n.ignore=!0,this.updateAnimationPoints(n,o),l&gt;0&amp;&amp;(r=this.getLineLength(n)/l*1e3),r!==this._period||s!==this._loop){n.stopAnimation();var c=h;u&amp;&amp;(c=h(i)),n.__t&gt;0&amp;&amp;(c=-r*n.__t),n.__t=0;var d=n.animate(&quot;&quot;,s).when(r,{__t:1}).delay(c).during(function(){a.updateSymbolPosition(n)});s||d.done(function(){a.remove(n)}),d.start()}this._period=r,this._loop=s}},jw.getLineLength=function(t){return ll.dist(t.__p1,t.__cp1)+ll.dist(t.__cp1,t.__p2)},jw.updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},jw.updateData=function(t,e,i){this.childAt(0).updateData(t,e,i),this._updateEffectSymbol(t,e)},jw.updateSymbolPosition=function(t){var e=t.__p1,i=t.__p2,n=t.__cp1,a=t.__t,o=t.position,r=ic.quadraticAt,s=ic.quadraticDerivativeAt;o[0]=r(e[0],n[0],i[0],a),o[1]=r(e[1],n[1],i[1],a);var l=s(e[0],n[0],i[0],a),h=s(e[1],n[1],i[1],a);t.rotation=-Math.atan2(h,l)-Math.PI/2,t.ignore=!1},jw.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var i=t.getItemModel(e).getModel(&quot;effect&quot;);this._updateEffectAnimation(t,i,e)},rl.inherits(io,fp.Group);var Uw=io,qw=no.prototype;qw._createPolyline=function(t,e,i){var n=t.getItemLayout(e),a=new fp.Polyline({shape:{points:n}});this.add(a),this._updateCommonStl(t,e,i)},qw.updateData=function(t,e,i){var n=t.hostModel,a=this.childAt(0),o={shape:{points:t.getItemLayout(e)}};fp.updateProps(a,o,n,e),this._updateCommonStl(t,e,i)},qw._updateCommonStl=function(t,e,i){var n=this.childAt(0),a=t.getItemModel(e),o=t.getItemVisual(e,&quot;color&quot;),r=i&amp;&amp;i.lineStyle,s=i&amp;&amp;i.hoverLineStyle;i&amp;&amp;!t.hasItemOption||(r=a.getModel(&quot;lineStyle.normal&quot;).getLineStyle(),s=a.getModel(&quot;lineStyle.emphasis&quot;).getLineStyle()),n.useStyle(rl.defaults({strokeNoScale:!0,fill:&quot;none&quot;,stroke:o},r)),n.hoverStyle=s,fp.setHoverStyle(this)},qw.updateLayout=function(t,e){this.childAt(0).setShape(&quot;points&quot;,t.getItemLayout(e))},rl.inherits(no,fp.Group);var Xw=no,Yw=ao.prototype;Yw.createLine=function(t,e,i){return new Xw(t,e,i)},Yw.updateAnimationPoints=function(t,e){this._points=e;for(var i=[0],n=0,a=1;a&lt;e.length;a++){var o=e[a-1],r=e[a];n+=ll.dist(o,r),i.push(n)}if(0!==n){for(a=0;a&lt;i.length;a++)i[a]/=n;this._offsets=i,this._length=n}},Yw.getLineLength=function(t){return this._length},Yw.updateSymbolPosition=function(t){var e=t.__t,i=this._points,n=this._offsets,a=i.length;if(n){var o=this._lastFrame;if(e&lt;this._lastFramePercent){for(r=Math.min(o+1,a-1);r&gt;=0&amp;&amp;!(n[r]&lt;=e);r--);r=Math.min(r,a-2)}else{for(var r=o;r&lt;a&amp;&amp;!(n[r]&gt;e);r++);r=Math.min(r-1,a-2)}ll.lerp(t.position,i[r],i[r+1],(e-n[r])/(n[r+1]-n[r]));var s=i[r+1][0]-i[r][0],l=i[r+1][1]-i[r][1];t.rotation=-Math.atan2(l,s)-Math.PI/2,this._lastFrame=r,this._lastFramePercent=e,t.ignore=!1}},rl.inherits(ao,Uw);var $w=ao,Kw=fp.extendShape({shape:{polyline:!1,segs:[]},buildPath:function(t,e){for(var i=e.segs,n=e.polyline,a=0;a&lt;i.length;a++){var o=i[a];if(n){t.moveTo(o[0][0],o[0][1]);for(var r=1;r&lt;o.length;r++)t.lineTo(o[r][0],o[r][1])}else t.moveTo(o[0][0],o[0][1]),o.length&gt;2?t.quadraticCurveTo(o[2][0],o[2][1],o[1][0],o[1][1]):t.lineTo(o[1][0],o[1][1])}},findDataIndex:function(t,e){for(var i=this.shape,n=i.segs,a=i.polyline,o=Math.max(this.style.lineWidth,1),r=0;r&lt;n.length;r++){var s=n[r];if(a){for(var l=1;l&lt;s.length;l++)if(Lc.containStroke(s[l-1][0],s[l-1][1],s[l][0],s[l][1],o,t,e))return r}else if(s.length&gt;2){if(kc.containStroke(s[0][0],s[0][1],s[2][0],s[2][1],s[1][0],s[1][1],o,t,e))return r}else if(Lc.containStroke(s[0][0],s[0][1],s[1][0],s[1][1],o,t,e))return r}return-1}}),Jw=oo.prototype;Jw.updateData=function(t){this.group.removeAll();var e=this._lineEl,i=t.hostModel;e.setShape({segs:t.mapArray(t.getItemLayout),polyline:i.get(&quot;polyline&quot;)}),e.useStyle(i.getModel(&quot;lineStyle.normal&quot;).getLineStyle());var n=t.getVisual(&quot;color&quot;);n&amp;&amp;e.setStyle(&quot;stroke&quot;,n),e.setStyle(&quot;fill&quot;),e.seriesIndex=i.seriesIndex,e.on(&quot;mousemove&quot;,function(t){e.dataIndex=null;var i=e.findDataIndex(t.offsetX,t.offsetY);i&gt;0&amp;&amp;(e.dataIndex=i)}),this.group.add(e)},Jw.updateLayout=function(t){var e=t.getData();this._lineEl.setShape({segs:e.mapArray(e.getItemLayout)})},Jw.remove=function(){this.group.removeAll()};var Qw=oo,tS=(ym.extendChartView({type:&quot;lines&quot;,init:function(){},render:function(t,e,i){var n=t.getData(),a=this._lineDraw,o=t.get(&quot;effect.show&quot;),r=t.get(&quot;polyline&quot;),s=t.get(&quot;large&quot;)&amp;&amp;n.count()&gt;=t.get(&quot;largeThreshold&quot;);o===this._hasEffet&amp;&amp;r===this._isPolyline&amp;&amp;s===this._isLarge||(a&amp;&amp;a.remove(),a=this._lineDraw=s?new Qw:new C_(r?o?$w:Xw:o?Uw:T_),this._hasEffet=o,this._isPolyline=r,this._isLarge=s);var l=t.get(&quot;zlevel&quot;),h=t.get(&quot;effect.trailLength&quot;),u=i.getZr(),c=&quot;svg&quot;===u.painter.getType();c||u.painter.getLayer(l).clear(!0),null==this._lastZlevel||c||u.configLayer(this._lastZlevel,{motionBlur:!1}),o&amp;&amp;h&amp;&amp;(c||u.configLayer(l,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(h/10+.9,1),0)})),this.group.add(a.group),a.updateData(n),this._lastZlevel=l},updateLayout:function(t,e,i){this._lineDraw.updateLayout(t);var n=i.getZr();&quot;svg&quot;===n.painter.getType()||n.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(t,e){this._lineDraw&amp;&amp;this._lineDraw.remove(e,!0);var i=e.getZr();&quot;svg&quot;===i.painter.getType()||i.painter.getLayer(this._lastZlevel).clear(!0)},dispose:function(){}}),function(t){t.eachSeriesByType(&quot;lines&quot;,function(t){var e=t.coordinateSystem,i=t.getData();i.each(function(n){var a=i.getItemModel(n),o=a.option instanceof Array?a.option:a.get(&quot;coords&quot;),r=[];if(t.get(&quot;polyline&quot;))for(var s=0;s&lt;o.length;s++)r.push(e.dataToPoint(o[s]));else{r[0]=e.dataToPoint(o[0]),r[1]=e.dataToPoint(o[1]);var l=a.get(&quot;lineStyle.normal.curveness&quot;);+l&amp;&amp;(r[2]=[(r[0][0]+r[1][0])/2-(r[0][1]-r[1][1])*l,(r[0][1]+r[1][1])/2-(r[1][0]-r[0][0])*l])}i.setItemLayout(n,r)})})}),eS=function(t){t.eachSeriesByType(&quot;lines&quot;,function(t){var e=t.getData(),i=ro(t.get(&quot;symbol&quot;)),n=ro(t.get(&quot;symbolSize&quot;)),a=&quot;lineStyle.normal.opacity&quot;.split(&quot;.&quot;);e.setVisual(&quot;fromSymbol&quot;,i&amp;&amp;i[0]),e.setVisual(&quot;toSymbol&quot;,i&amp;&amp;i[1]),e.setVisual(&quot;fromSymbolSize&quot;,n&amp;&amp;n[0]),e.setVisual(&quot;toSymbolSize&quot;,n&amp;&amp;n[1]),e.setVisual(&quot;opacity&quot;,t.get(a)),e.each(function(t){var i=e.getItemModel(t),n=ro(i.getShallow(&quot;symbol&quot;,!0)),o=ro(i.getShallow(&quot;symbolSize&quot;,!0)),r=i.get(a);n[0]&amp;&amp;e.setItemVisual(t,&quot;fromSymbol&quot;,n[0]),n[1]&amp;&amp;e.setItemVisual(t,&quot;toSymbol&quot;,n[1]),o[0]&amp;&amp;e.setItemVisual(t,&quot;fromSymbolSize&quot;,o[0]),o[1]&amp;&amp;e.setItemVisual(t,&quot;toSymbolSize&quot;,o[1]),e.setItemVisual(t,&quot;opacity&quot;,r)})})};ym.registerLayout(tS),ym.registerVisual(eS);zf.extend({type:&quot;series.heatmap&quot;,getInitialData:function(t,e){return dg(t.data,this,e)},defaultOption:{coordinateSystem:&quot;cartesian2d&quot;,zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});so.prototype={update:function(t,e,i,n,a,o){var r=this._getBrush(),s=this._getGradient(t,a,&quot;inRange&quot;),l=this._getGradient(t,a,&quot;outOfRange&quot;),h=this.pointSize+this.blurSize,u=this.canvas,c=u.getContext(&quot;2d&quot;),d=t.length;u.width=e,u.height=i;for(var p=0;p&lt;d;++p){var f=t[p],g=f[0],m=f[1],v=n(f[2]);c.globalAlpha=v,c.drawImage(r,g-h,m-h)}if(!u.width||!u.height)return u;for(var y=c.getImageData(0,0,u.width,u.height),x=y.data,_=0,b=x.length,w=this.minOpacity,S=this.maxOpacity-w;_&lt;b;){var v=x[_+3]/256,M=4*Math.floor(255*v);if(v&gt;0){var I=o(v)?s:l;v&gt;0&amp;&amp;(v=v*S+w),x[_++]=I[M],x[_++]=I[M+1],x[_++]=I[M+2],x[_++]=I[M+3]*v*256}else _+=4}return c.putImageData(y,0,0),u},_getBrush:function(){var t=this._brushCanvas||(this._brushCanvas=rl.createCanvas()),e=this.pointSize+this.blurSize,i=2*e;t.width=i,t.height=i;var n=t.getContext(&quot;2d&quot;);return n.clearRect(0,0,i,i),n.shadowOffsetX=i,n.shadowBlur=this.blurSize,n.shadowColor=&quot;#000&quot;,n.beginPath(),n.arc(-e,e,this.pointSize,0,2*Math.PI,!0),n.closePath(),n.fill(),t},_getGradient:function(t,e,i){for(var n=this._gradientPixels,a=n[i]||(n[i]=new Uint8ClampedArray(1024)),o=[0,0,0,0],r=0,s=0;s&lt;256;s++)e[i](s/255,!0,o),a[r++]=o[0],a[r++]=o[1],a[r++]=o[2],a[r++]=o[3];return a}};var iS=so,nS=(ym.extendChartView({type:&quot;heatmap&quot;,render:function(t,e,i){var n;e.eachComponent(&quot;visualMap&quot;,function(e){e.eachTargetSeries(function(i){i===t&amp;&amp;(n=e)})}),this.group.removeAll();var a=t.coordinateSystem;&quot;cartesian2d&quot;===a.type||&quot;calendar&quot;===a.type?this._renderOnCartesianAndCalendar(a,t,i):function(t){var e=t.dimensions;return&quot;lng&quot;===e[0]&amp;&amp;&quot;lat&quot;===e[1]}(a)&amp;&amp;this._renderOnGeo(a,t,n,i)},dispose:function(){},_renderOnCartesianAndCalendar:function(t,e,i){if(&quot;cartesian2d&quot;===t.type)var n=t.getAxis(&quot;x&quot;),a=t.getAxis(&quot;y&quot;),o=n.getBandWidth(),r=a.getBandWidth();var s=this.group,l=e.getData(),h=e.getModel(&quot;itemStyle.normal&quot;).getItemStyle([&quot;color&quot;]),u=e.getModel(&quot;itemStyle.emphasis&quot;).getItemStyle(),c=e.getModel(&quot;label.normal&quot;),d=e.getModel(&quot;label.emphasis&quot;),p=t.type,f=&quot;cartesian2d&quot;===p?[e.coordDimToDataDim(&quot;x&quot;)[0],e.coordDimToDataDim(&quot;y&quot;)[0],e.coordDimToDataDim(&quot;value&quot;)[0]]:[e.coordDimToDataDim(&quot;time&quot;)[0],e.coordDimToDataDim(&quot;value&quot;)[0]];l.each(function(i){var n;if(&quot;cartesian2d&quot;===p){if(isNaN(l.get(f[2],i)))return;var a=t.dataToPoint([l.get(f[0],i),l.get(f[1],i)]);n=new fp.Rect({shape:{x:a[0]-o/2,y:a[1]-r/2,width:o,height:r},style:{fill:l.getItemVisual(i,&quot;color&quot;),opacity:l.getItemVisual(i,&quot;opacity&quot;)}})}else{if(isNaN(l.get(f[1],i)))return;n=new fp.Rect({z2:1,shape:t.dataToRect([l.get(f[0],i)]).contentShape,style:{fill:l.getItemVisual(i,&quot;color&quot;),opacity:l.getItemVisual(i,&quot;opacity&quot;)}})}var g=l.getItemModel(i);l.hasItemOption&amp;&amp;(h=g.getModel(&quot;itemStyle.normal&quot;).getItemStyle([&quot;color&quot;]),u=g.getModel(&quot;itemStyle.emphasis&quot;).getItemStyle(),c=g.getModel(&quot;label.normal&quot;),d=g.getModel(&quot;label.emphasis&quot;));var m=e.getRawValue(i),v=&quot;-&quot;;m&amp;&amp;null!=m[2]&amp;&amp;(v=m[2]),fp.setLabelStyle(h,u,c,d,{labelFetcher:e,labelDataIndex:i,defaultText:v,isRectText:!0}),n.setStyle(h),fp.setHoverStyle(n,l.hasItemOption?u:rl.extend({},u)),s.add(n),l.setItemGraphicEl(i,n)})},_renderOnGeo:function(t,e,i,n){var a=i.targetVisuals.inRange,o=i.targetVisuals.outOfRange,r=e.getData(),s=this._hmLayer||this._hmLayer||new iS;s.blurSize=e.get(&quot;blurSize&quot;),s.pointSize=e.get(&quot;pointSize&quot;),s.minOpacity=e.get(&quot;minOpacity&quot;),s.maxOpacity=e.get(&quot;maxOpacity&quot;);var l=t.getViewRect().clone(),h=t.getRoamTransform().transform;l.applyTransform(h);var u=Math.max(l.x,0),c=Math.max(l.y,0),d=Math.min(l.width+l.x,n.getWidth()),p=Math.min(l.height+l.y,n.getHeight()),f=d-u,g=p-c,m=r.mapArray([&quot;lng&quot;,&quot;lat&quot;,&quot;value&quot;],function(e,i,n){var a=t.dataToPoint([e,i]);return a[0]-=u,a[1]-=c,a.push(n),a}),v=i.getExtent(),y=&quot;visualMap.continuous&quot;===i.type?function(t,e){var i=t[1]-t[0];return e=[(e[0]-t[0])/i,(e[1]-t[0])/i],function(t){return t&gt;=e[0]&amp;&amp;t&lt;=e[1]}}(v,i.option.range):function(t,e,i){var n=t[1]-t[0],a=(e=rl.map(e,function(e){return{interval:[(e.interval[0]-t[0])/n,(e.interval[1]-t[0])/n]}})).length,o=0;return function(t){for(n=o;n&lt;a;n++)if((r=e[n].interval)[0]&lt;=t&amp;&amp;t&lt;=r[1]){o=n;break}if(n===a)for(var n=o-1;n&gt;=0;n--){var r=e[n].interval;if(r[0]&lt;=t&amp;&amp;t&lt;=r[1]){o=n;break}}return n&gt;=0&amp;&amp;n&lt;a&amp;&amp;i[n]}}(v,i.getPieceList(),i.option.selected);s.update(m,f,g,a.color.getNormalizer(),{inRange:a.color.getColorMapper(),outOfRange:o.color.getColorMapper()},y);var x=new fp.Image({style:{width:f,height:g,x:u,y:c,image:s.canvas},silent:!0});this.group.add(x)}}),Zv.extend({type:&quot;series.pictorialBar&quot;,dependencies:[&quot;grid&quot;],defaultOption:{symbol:&quot;circle&quot;,symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:&quot;end&quot;,symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:&quot;-100%&quot;,progressive:0,hoverAnimation:!1},getInitialData:function(t){return t.stack=null,nS.superApply(this,&quot;getInitialData&quot;,arguments)}})),aS=Ug.createSymbol,oS=Pu.parsePercent,rS=Pu.isNumeric,sS=jv.setLabel,lS=[&quot;itemStyle&quot;,&quot;normal&quot;,&quot;borderWidth&quot;],hS=[{xy:&quot;x&quot;,wh:&quot;width&quot;,index:0,posDesc:[&quot;left&quot;,&quot;right&quot;]},{xy:&quot;y&quot;,wh:&quot;height&quot;,index:1,posDesc:[&quot;top&quot;,&quot;bottom&quot;]}],uS=new fp.Circle;ym.extendChartView({type:&quot;pictorialBar&quot;,render:function(t,e,i){var n=this.group,a=t.getData(),o=this._data,r=t.coordinateSystem,s=!!r.getBaseAxis().isHorizontal(),l=r.grid.getRect(),h={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:t,coordSys:r,coordSysExtent:[[l.x,l.x+l.width],[l.y,l.y+l.height]],isHorizontal:s,valueDim:hS[+s],categoryDim:hS[1-s]};return a.diff(o).add(function(t){if(a.hasValue(t)){var e=mo(a,t),i=lo(a,t,e,h),o=yo(a,h,i);a.setItemGraphicEl(t,o),n.add(o),So(o,h,i)}}).update(function(t,e){var i=o.getItemGraphicEl(e);if(a.hasValue(t)){var r=mo(a,t),s=lo(a,t,r,h),l=_o(a,s);i&amp;&amp;l!==i.__pictorialShapeStr&amp;&amp;(n.remove(i),a.setItemGraphicEl(t,null),i=null),i?function(t,e,i){var n=i.animationModel,a=i.dataIndex,o=t.__pictorialBundle;fp.updateProps(o,{position:i.bundlePosition.slice()},n,a),i.symbolRepeat?co(t,e,i,!0):po(t,0,i,!0),fo(t,i,!0),go(t,e,i,!0)}(i,h,s):i=yo(a,h,s,!0),a.setItemGraphicEl(t,i),i.__pictorialSymbolMeta=s,n.add(i),So(i,h,s)}else n.remove(i)}).remove(function(t){var e=o.getItemGraphicEl(t);e&amp;&amp;xo(o,t,e.__pictorialSymbolMeta.animationModel,e)}).execute(),this._data=a,this.group},dispose:rl.noop,remove:function(t,e){var i=this.group,n=this._data;t.get(&quot;animation&quot;)?n&amp;&amp;n.eachItemGraphicEl(function(e){xo(n,e.dataIndex,t,e)}):i.removeAll()}});ym.registerLayout(rl.curry(Fv,&quot;pictorialBar&quot;)),ym.registerVisual(rl.curry(Fm,&quot;pictorialBar&quot;,&quot;roundRect&quot;,null));var cS=function(t,e,i,n,a){Kg.call(this,t,e,i),this.type=n||&quot;value&quot;,this.position=a||&quot;bottom&quot;,this.orient=null,this._labelInterval=null};cS.prototype={constructor:cS,model:null,isHorizontal:function(){var t=this.position;return&quot;top&quot;===t||&quot;bottom&quot;===t},pointToData:function(t,e){return this.coordinateSystem.pointToData(t,e)[0]},toGlobalCoord:null,toLocalCoord:null},rl.inherits(cS,Kg);var dS=cS,pS=Np.getLayoutRect;Io.prototype={type:&quot;singleAxis&quot;,axisPointerEnabled:!0,constructor:Io,_init:function(t,e,i){var n=this.dimension,a=new dS(n,Rg.createScaleByModel(t),[0,0],t.get(&quot;type&quot;),t.get(&quot;position&quot;)),o=&quot;category&quot;===a.type;a.onBand=o&amp;&amp;t.get(&quot;boundaryGap&quot;),a.inverse=t.get(&quot;inverse&quot;),a.orient=t.get(&quot;orient&quot;),t.axis=a,a.model=t,a.coordinateSystem=this,this._axis=a},update:function(t,e){t.eachSeries(function(t){if(t.coordinateSystem===this){var e=t.getData(),i=this.dimension;this._axis.scale.unionExtentFromData(e,t.coordDimToDataDim(i)),Rg.niceScaleExtent(this._axis.scale,this._axis.model)}},this)},resize:function(t,e){this._rect=pS({left:t.get(&quot;left&quot;),top:t.get(&quot;top&quot;),right:t.get(&quot;right&quot;),bottom:t.get(&quot;bottom&quot;),width:t.get(&quot;width&quot;),height:t.get(&quot;height&quot;)},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var t=this._rect,e=this._axis,i=e.isHorizontal(),n=i?[0,t.width]:[0,t.height],a=e.reverse?1:0;e.setExtent(n[a],n[1-a]),this._updateAxisTransform(e,i?t.x:t.y)},_updateAxisTransform:function(t,e){var i=t.getExtent(),n=i[0]+i[1],a=t.isHorizontal();t.toGlobalCoord=a?function(t){return t+e}:function(t){return n-t+e},t.toLocalCoord=a?function(t){return t-e}:function(t){return n-t+e}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(t){var e=this.getRect(),i=this.getAxis();return&quot;horizontal&quot;===i.orient?i.contain(i.toLocalCoord(t[0]))&amp;&amp;t[1]&gt;=e.y&amp;&amp;t[1]&lt;=e.y+e.height:i.contain(i.toLocalCoord(t[1]))&amp;&amp;t[0]&gt;=e.y&amp;&amp;t[0]&lt;=e.y+e.height},pointToData:function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t[&quot;horizontal&quot;===e.orient?0:1]))]},dataToPoint:function(t){var e=this.getAxis(),i=this.getRect(),n=[],a=&quot;horizontal&quot;===e.orient?0:1;return t instanceof Array&amp;&amp;(t=t[0]),n[a]=e.toGlobalCoord(e.dataToCoord(+t)),n[1-a]=0===a?i.y+i.height/2:i.x+i.width/2,n}};var fS=Io;rf.register(&quot;single&quot;,{create:function(t,e){var i=[];return t.eachComponent(&quot;singleAxis&quot;,function(n,a){var o=new fS(n,t,e);o.name=&quot;single_&quot;+a,o.resize(n,e),n.coordinateSystem=o,i.push(o)}),t.eachSeries(function(e){if(&quot;singleAxis&quot;===e.get(&quot;coordinateSystem&quot;)){var i=t.queryComponents({mainType:&quot;singleAxis&quot;,index:e.get(&quot;singleAxisIndex&quot;),id:e.get(&quot;singleAxisId&quot;)})[0];e.coordinateSystem=i&amp;&amp;i.coordinateSystem}}),i},dimensions:fS.prototype.dimensions});var gS={layout:function(t,e){e=e||{};var i=t.coordinateSystem,n=t.axis,a={},o=n.position,r=n.orient,s=i.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],h={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};a.position=[&quot;vertical&quot;===r?h.vertical[o]:l[0],&quot;horizontal&quot;===r?h.horizontal[o]:l[3]],a.rotation=Math.PI/2*{horizontal:0,vertical:1}[r],a.labelDirection=a.tickDirection=a.nameDirection={top:-1,bottom:1,right:1,left:-1}[o],t.get(&quot;axisTick.inside&quot;)&amp;&amp;(a.tickDirection=-a.tickDirection),rl.retrieve(e.labelInside,t.get(&quot;axisLabel.inside&quot;))&amp;&amp;(a.labelDirection=-a.labelDirection);var u=e.rotate;return null==u&amp;&amp;(u=t.get(&quot;axisLabel.rotate&quot;)),a.labelRotation=&quot;top&quot;===o?-u:u,a.labelInterval=n.getLabelInterval(),a.z2=1,a}},mS=Cv.getInterval,vS=Cv.ifIgnoreOnTick,yS=[&quot;axisLine&quot;,&quot;axisTickLabel&quot;,&quot;axisName&quot;],xS=zv.extend({type:&quot;singleAxis&quot;,axisPointerClass:&quot;SingleAxisPointer&quot;,render:function(t,e,i,n){var a=this.group;a.removeAll();var o=gS.layout(t),r=new Cv(t,o);rl.each(yS,r.add,r),a.add(r.getGroup()),t.get(&quot;splitLine.show&quot;)&amp;&amp;this._splitLine(t,o.labelInterval),xS.superCall(this,&quot;render&quot;,t,e,i,n)},_splitLine:function(t,e){var i=t.axis;if(!i.scale.isBlank()){var n=t.getModel(&quot;splitLine&quot;),a=n.getModel(&quot;lineStyle&quot;),o=a.get(&quot;width&quot;),r=a.get(&quot;color&quot;),s=mS(n,e);r=r instanceof Array?r:[r];for(var l=t.coordinateSystem.getRect(),h=i.isHorizontal(),u=[],c=0,d=i.getTicksCoords(),p=[],f=[],g=t.get(&quot;axisLabel.showMinLabel&quot;),m=t.get(&quot;axisLabel.showMaxLabel&quot;),v=0;v&lt;d.length;++v)if(!vS(i,v,s,d.length,g,m)){var y=i.toGlobalCoord(d[v]);h?(p[0]=y,p[1]=l.y,f[0]=y,f[1]=l.y+l.height):(p[0]=l.x,p[1]=y,f[0]=l.x+l.width,f[1]=y);var x=c++%r.length;u[x]=u[x]||[],u[x].push(new fp.Line(fp.subPixelOptimizeLine({shape:{x1:p[0],y1:p[1],x2:f[0],y2:f[1]},style:{lineWidth:o},silent:!0})))}for(v=0;v&lt;u.length;++v)this.group.add(fp.mergePath(u[v],{style:{stroke:r[v%r.length],lineDash:a.getLineDash(o),lineWidth:o},silent:!0}))}}}),_S=Hp.extend({type:&quot;singleAxis&quot;,layoutMode:&quot;box&quot;,axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});rl.merge(_S.prototype,Ng),ov(&quot;single&quot;,_S,function(t,e){return e.type||(e.data?&quot;category&quot;:&quot;value&quot;)},{left:&quot;5%&quot;,top:&quot;5%&quot;,right:&quot;5%&quot;,bottom:&quot;5%&quot;,type:&quot;value&quot;,position:&quot;bottom&quot;,orient:&quot;horizontal&quot;,axisLine:{show:!0,lineStyle:{width:2,type:&quot;solid&quot;}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:&quot;auto&quot;},splitLine:{show:!0,lineStyle:{type:&quot;dashed&quot;,opacity:.2}}});var bS=function(t,e){var i,n=[],a=t.seriesIndex;if(null==a||!(i=e.getSeriesByIndex(a)))return{point:[]};var o=i.getData(),r=Ip.queryDataIndex(o,t);if(null==r||rl.isArray(r))return{point:[]};var s=o.getItemGraphicEl(r),l=i.coordinateSystem;if(i.getTooltipPosition)n=i.getTooltipPosition(r)||[];else if(l&amp;&amp;l.dataToPoint)n=l.dataToPoint(o.getValues(rl.map(l.dimensions,function(t){return i.coordDimToDataDim(t)[0]}),r,!0))||[];else if(s){var h=s.getBoundingRect().clone();h.applyTransform(s.transform),n=[h.x+h.width/2,h.y+h.height/2]}return{point:n,el:s}},wS=rl.each,SS=rl.curry,MS=Ip.makeGetter(),IS=function(t,e,i){var n=t.currTrigger,a=[t.x,t.y],o=t,r=t.dispatchAction||rl.bind(i.dispatchAction,i),s=e.getComponent(&quot;axisPointer&quot;).coordSysAxesInfo;if(s){Co(a)&amp;&amp;(a=bS({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},e).point);var l=Co(a),h=o.axesInfo,u=s.axesInfo,c=&quot;leave&quot;===n||Co(a),d={},p={},f={list:[],map:{}},g={showPointer:SS(function(t,e,i,n){t[e.key]={value:i,payloadBatch:n}},p),showTooltip:SS(function(t,e,i,n){var a=i.payloadBatch,o=e.axis,r=o.model,s=e.axisPointerModel;if(e.triggerTooltip&amp;&amp;a.length){var l=e.coordSys.model,h=Pv.makeKey(l),u=t.map[h];u||(u=t.map[h]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(u)),u.dataByAxis.push({axisDim:o.dim,axisIndex:r.componentIndex,axisType:r.type,axisId:r.id,value:n,valueLabelOpt:{precision:s.get(&quot;label.precision&quot;),formatter:s.get(&quot;label.formatter&quot;)},seriesDataIndices:a.slice()})}},f)};wS(s.coordSysMap,function(t,e){var i=l||t.containPoint(a);wS(s.coordSysAxesInfo[e],function(t,e){var n=t.axis,o=function(t,e){for(var i=0;i&lt;(t||[]).length;i++){var n=t[i];if(e.axis.dim===n.axisDim&amp;&amp;e.axis.model.componentIndex===n.axisIndex)return n}}(h,t);if(!c&amp;&amp;i&amp;&amp;(!h||o)){var r=o&amp;&amp;o.value;null!=r||l||(r=n.pointToData(a)),null!=r&amp;&amp;To(t,r,g,!1,d)}})});var m={};return wS(u,function(t,e){var i=t.linkGroup;i&amp;&amp;!p[e]&amp;&amp;wS(i.axesInfo,function(e,n){var a=p[n];if(e!==t&amp;&amp;a){var o=a.value;i.mapper&amp;&amp;(o=t.axis.scale.parse(i.mapper(o,Ao(e),Ao(t)))),m[t.key]=o}})}),wS(m,function(t,e){To(u[e],t,g,!0,d)}),function(t,e,i){var n=i.axesInfo=[];wS(e,function(e,i){var a=e.axisPointerModel.option,o=t[i];o?(!e.useHandle&amp;&amp;(a.status=&quot;show&quot;),a.value=o.value,a.seriesDataIndices=(o.payloadBatch||[]).slice()):!e.useHandle&amp;&amp;(a.status=&quot;hide&quot;),&quot;show&quot;===a.status&amp;&amp;n.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:a.value})})}(p,u,d),function(t,e,i,n){if(!Co(e)&amp;&amp;t.list.length){var a=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:&quot;showTip&quot;,escapeConnect:!0,x:e[0],y:e[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:a.dataIndexInside,dataIndex:a.dataIndex,seriesIndex:a.seriesIndex,dataByCoordSys:t.list})}else n({type:&quot;hideTip&quot;})}(f,a,t,r),function(t,e,i){var n=i.getZr(),a=MS(n).axisPointerLastHighlights||{},o=MS(n).axisPointerLastHighlights={};wS(t,function(t,e){var i=t.axisPointerModel.option;&quot;show&quot;===i.status&amp;&amp;wS(i.seriesDataIndices,function(t){var e=t.seriesIndex+&quot; | &quot;+t.dataIndex;o[e]=t})});var r=[],s=[];rl.each(a,function(t,e){!o[e]&amp;&amp;s.push(t)}),rl.each(o,function(t,e){!a[e]&amp;&amp;r.push(t)}),s.length&amp;&amp;i.dispatchAction({type:&quot;downplay&quot;,escapeConnect:!0,batch:s}),r.length&amp;&amp;i.dispatchAction({type:&quot;highlight&quot;,escapeConnect:!0,batch:r})}(u,0,i),d}},TS=(ym.extendComponentModel({type:&quot;axisPointer&quot;,coordSysAxesInfo:null,defaultOption:{show:&quot;auto&quot;,triggerOn:null,zlevel:0,z:50,type:&quot;line&quot;,snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:&quot;#aaa&quot;,width:1,type:&quot;solid&quot;},shadowStyle:{color:&quot;rgba(150,150,150,0.3)&quot;},label:{show:!0,formatter:null,precision:&quot;auto&quot;,margin:3,color:&quot;#fff&quot;,padding:[5,7,5,7],backgroundColor:&quot;auto&quot;,borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:&quot;#aaa&quot;},handle:{show:!1,icon:&quot;M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z&quot;,size:45,margin:50,color:&quot;#333&quot;,shadowBlur:3,shadowColor:&quot;#aaa&quot;,shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),Ip.makeGetter()),AS=rl.each,CS={register:function(t,e,i){if(!Us.node){var n=e.getZr();TS(n).records||(TS(n).records={}),function(t,e){function i(i,n){t.on(i,function(i){var a=function(t){var e={showTip:[],hideTip:[]},i=function(n){var a=e[n.type];a?a.push(n):(n.dispatchAction=i,t.dispatchAction(n))};return{dispatchAction:i,pendings:e}}(e);AS(TS(t).records,function(t){t&amp;&amp;n(t,i,a.dispatchAction)}),function(t,e){var i,n=t.showTip.length,a=t.hideTip.length;n?i=t.showTip[n-1]:a&amp;&amp;(i=t.hideTip[a-1]),i&amp;&amp;(i.dispatchAction=null,e.dispatchAction(i))}(a.pendings,e)})}TS(t).initialized||(TS(t).initialized=!0,i(&quot;click&quot;,rl.curry(Lo,&quot;click&quot;)),i(&quot;mousemove&quot;,rl.curry(Lo,&quot;mousemove&quot;)),i(&quot;globalout&quot;,function(t,e,i){t.handler(&quot;leave&quot;,null,i)}))}(n,e),(TS(n).records[t]||(TS(n).records[t]={})).handler=i}},unregister:function(t,e){if(!Us.node){var i=e.getZr();(TS(i).records||{})[t]&amp;&amp;(TS(i).records[t]=null)}}},LS=ym.extendComponentView({type:&quot;axisPointer&quot;,render:function(t,e,i){var n=e.getComponent(&quot;tooltip&quot;),a=t.get(&quot;triggerOn&quot;)||n&amp;&amp;n.get(&quot;triggerOn&quot;)||&quot;mousemove|click&quot;;CS.register(&quot;axisPointer&quot;,i,function(t,e,i){&quot;none&quot;!==a&amp;&amp;(&quot;leave&quot;===t||a.indexOf(t)&gt;=0)&amp;&amp;i({type:&quot;updateAxisPointer&quot;,currTrigger:t,x:e&amp;&amp;e.offsetX,y:e&amp;&amp;e.offsetY})})},remove:function(t,e){CS.unregister(e.getZr(),&quot;axisPointer&quot;),LS.superApply(this._model,&quot;remove&quot;,arguments)},dispose:function(t,e){CS.unregister(&quot;axisPointer&quot;,e),LS.superApply(this._model,&quot;dispose&quot;,arguments)}}),DS=Ip.makeGetter(),PS=rl.clone,kS=rl.bind;(Do.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(t,e,i,n){var a=e.get(&quot;value&quot;),o=e.get(&quot;status&quot;);if(this._axisModel=t,this._axisPointerModel=e,this._api=i,n||this._lastValue!==a||this._lastStatus!==o){this._lastValue=a,this._lastStatus=o;var r=this._group,s=this._handle;if(!o||&quot;hide&quot;===o)return r&amp;&amp;r.hide(),void(s&amp;&amp;s.hide());r&amp;&amp;r.show(),s&amp;&amp;s.show();var l={};this.makeElOption(l,a,t,e,i);var h=l.graphicKey;h!==this._lastGraphicKey&amp;&amp;this.clear(i),this._lastGraphicKey=h;var u=this._moveAnimation=this.determineAnimation(t,e);if(r){var c=rl.curry(Po,e,u);this.updatePointerEl(r,l,c,e),this.updateLabelEl(r,l,c,e)}else r=this._group=new fp.Group,this.createPointerEl(r,l,t,e),this.createLabelEl(r,l,t,e),i.getZr().add(r);Eo(r,e,!0),this._renderHandle(a)}},remove:function(t){this.clear(t)},dispose:function(t){this.clear(t)},determineAnimation:function(t,e){var i=e.get(&quot;animation&quot;),n=t.axis,a=&quot;category&quot;===n.type,o=e.get(&quot;snap&quot;);if(!o&amp;&amp;!a)return!1;if(&quot;auto&quot;===i||null==i){var r=this.animationThreshold;if(a&amp;&amp;n.getBandWidth()&gt;r)return!0;if(o){var s=Pv.getAxisInfo(t).seriesDataCount,l=n.getExtent();return Math.abs(l[0]-l[1])/s&gt;r}return!1}return!0===i},makeElOption:function(t,e,i,n,a){},createPointerEl:function(t,e,i,n){var a=e.pointer;if(a){var o=DS(t).pointerEl=new fp[a.type](PS(e.pointer));t.add(o)}},createLabelEl:function(t,e,i,n){if(e.label){var a=DS(t).labelEl=new fp.Rect(PS(e.label));t.add(a),Oo(a,n)}},updatePointerEl:function(t,e,i){var n=DS(t).pointerEl;n&amp;&amp;(n.setStyle(e.pointer.style),i(n,{shape:e.pointer.shape}))},updateLabelEl:function(t,e,i,n){var a=DS(t).labelEl;a&amp;&amp;(a.setStyle(e.label.style),i(a,{shape:e.label.shape,position:e.label.position}),Oo(a,n))},_renderHandle:function(t){if(!this._dragging&amp;&amp;this.updateHandleTransform){var e=this._axisPointerModel,i=this._api.getZr(),n=this._handle,a=e.getModel(&quot;handle&quot;),o=e.get(&quot;status&quot;);if(!a.get(&quot;show&quot;)||!o||&quot;hide&quot;===o)return n&amp;&amp;i.remove(n),void(this._handle=null);var r;this._handle||(r=!0,n=this._handle=fp.createIcon(a.get(&quot;icon&quot;),{cursor:&quot;move&quot;,draggable:!0,onmousemove:function(t){su.stop(t.event)},onmousedown:kS(this._onHandleDragMove,this,0,0),drift:kS(this._onHandleDragMove,this),ondragend:kS(this._onHandleDragEnd,this)}),i.add(n)),Eo(n,e,!1);n.setStyle(a.getItemStyle(null,[&quot;color&quot;,&quot;borderColor&quot;,&quot;borderWidth&quot;,&quot;opacity&quot;,&quot;shadowColor&quot;,&quot;shadowBlur&quot;,&quot;shadowOffsetX&quot;,&quot;shadowOffsetY&quot;]));var s=a.get(&quot;size&quot;);rl.isArray(s)||(s=[s,s]),n.attr(&quot;scale&quot;,[s[0]/2,s[1]/2]),Ff.createOrUpdate(this,&quot;_doDispatchAxisPointer&quot;,a.get(&quot;throttle&quot;)||0,&quot;fixRate&quot;),this._moveHandleToValue(t,r)}},_moveHandleToValue:function(t,e){Po(this._axisPointerModel,!e&amp;&amp;this._moveAnimation,this._handle,zo(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(t,e){var i=this._handle;if(i){this._dragging=!0;var n=this.updateHandleTransform(zo(i),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=n,i.stopAnimation(),i.attr(zo(n)),DS(i).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:&quot;updateAxisPointer&quot;,x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},_onHandleDragEnd:function(t){this._dragging=!1;if(this._handle){var e=this._axisPointerModel.get(&quot;value&quot;);this._moveHandleToValue(e),this._api.dispatchAction({type:&quot;hideTip&quot;})}},getHandleTransform:null,updateHandleTransform:null,clear:function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),i=this._group,n=this._handle;e&amp;&amp;i&amp;&amp;(this._lastGraphicKey=null,i&amp;&amp;e.remove(i),n&amp;&amp;e.remove(n),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(t,e,i){return i=i||0,{x:t[i],y:t[1-i],width:e[i],height:e[1-i]}}}).constructor=Do,Bu.enableClassExtend(Do);var OS=Do,zS={buildElStyle:function(t){var e,i=t.get(&quot;type&quot;),n=t.getModel(i+&quot;Style&quot;);return&quot;line&quot;===i?(e=n.getLineStyle()).fill=null:&quot;shadow&quot;===i&amp;&amp;((e=n.getAreaStyle()).stroke=null),e},buildLabelElOption:Ro,getValueLabel:No,getTransformedPosition:Vo,buildCartesianSingleLabelElOption:function(t,e,i,n,a,o){var r=Cv.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=a.get(&quot;label.margin&quot;),Ro(e,n,a,o,{position:Vo(n.axis,t,i),align:r.textAlign,verticalAlign:r.textVerticalAlign})},makeLineShape:function(t,e,i){return i=i||0,{x1:t[i],y1:t[1-i],x2:e[i],y2:e[1-i]}},makeRectShape:function(t,e,i){return i=i||0,{x:t[i],y:t[1-i],width:e[i],height:e[1-i]}},makeSectorShape:function(t,e,i,n,a,o){return{cx:t,cy:e,r0:i,r:n,startAngle:a,endAngle:o,clockwise:!0}}},ES=OS.extend({makeElOption:function(t,e,i,n,a){var o=i.axis,r=o.grid,s=n.get(&quot;type&quot;),l=Bo(r,o).getOtherAxis(o).getGlobalExtent(),h=o.toGlobalCoord(o.dataToCoord(e,!0));if(s&amp;&amp;&quot;none&quot;!==s){var u=zS.buildElStyle(n),c=RS[s](o,h,l,u);c.style=u,t.graphicKey=c.type,t.pointer=c}var d=Ev.layout(r.model,i);zS.buildCartesianSingleLabelElOption(e,t,d,i,n,a)},getHandleTransform:function(t,e,i){var n=Ev.layout(e.axis.grid.model,e,{labelInside:!1});return n.labelMargin=i.get(&quot;handle.margin&quot;),{position:zS.getTransformedPosition(e.axis,t,n),rotation:n.rotation+(n.labelDirection&lt;0?Math.PI:0)}},updateHandleTransform:function(t,e,i,n){var a=i.axis,o=a.grid,r=a.getGlobalExtent(!0),s=Bo(o,a).getOtherAxis(a).getGlobalExtent(),l=&quot;x&quot;===a.dim?0:1,h=t.position;h[l]+=e[l],h[l]=Math.min(r[1],h[l]),h[l]=Math.max(r[0],h[l]);var u=(s[1]+s[0])/2,c=[u,u];c[l]=h[l];return{position:h,rotation:t.rotation,cursorPoint:c,tooltipOption:[{verticalAlign:&quot;middle&quot;},{align:&quot;center&quot;}][l]}}}),RS={line:function(t,e,i,n){var a=zS.makeLineShape([e,i[0]],[e,i[1]],Go(t));return fp.subPixelOptimizeLine({shape:a,style:n}),{type:&quot;Line&quot;,shape:a}},shadow:function(t,e,i,n){var a=t.getBandWidth(),o=i[1]-i[0];return{type:&quot;Rect&quot;,shape:zS.makeRectShape([e-a/2,i[0]],[a,o],Go(t))}}};zv.registerAxisPointerClass(&quot;CartesianAxisPointer&quot;,ES);ym.registerPreprocessor(function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&amp;&amp;(t.axisPointer={});var e=t.axisPointer.link;e&amp;&amp;!rl.isArray(e)&amp;&amp;(t.axisPointer.link=[e])}}),ym.registerProcessor(ym.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent(&quot;axisPointer&quot;).coordSysAxesInfo=Pv.collect(t,e)}),ym.registerAction({type:&quot;updateAxisPointer&quot;,event:&quot;updateAxisPointer&quot;,update:&quot;:updateAxisPointer&quot;},IS);var NS=[&quot;x&quot;,&quot;y&quot;],VS=[&quot;width&quot;,&quot;height&quot;],BS=OS.extend({makeElOption:function(t,e,i,n,a){var o=i.axis,r=o.coordinateSystem,s=Wo(r,1-Ho(o)),l=r.dataToPoint(e)[0],h=n.get(&quot;type&quot;);if(h&amp;&amp;&quot;none&quot;!==h){var u=zS.buildElStyle(n),c=GS[h](o,l,s,u);c.style=u,t.graphicKey=c.type,t.pointer=c}var d=gS.layout(i);zS.buildCartesianSingleLabelElOption(e,t,d,i,n,a)},getHandleTransform:function(t,e,i){var n=gS.layout(e,{labelInside:!1});return n.labelMargin=i.get(&quot;handle.margin&quot;),{position:zS.getTransformedPosition(e.axis,t,n),rotation:n.rotation+(n.labelDirection&lt;0?Math.PI:0)}},updateHandleTransform:function(t,e,i,n){var a=i.axis,o=a.coordinateSystem,r=Ho(a),s=Wo(o,r),l=t.position;l[r]+=e[r],l[r]=Math.min(s[1],l[r]),l[r]=Math.max(s[0],l[r]);var h=Wo(o,1-r),u=(h[1]+h[0])/2,c=[u,u];return c[r]=l[r],{position:l,rotation:t.rotation,cursorPoint:c,tooltipOption:{verticalAlign:&quot;middle&quot;}}}}),GS={line:function(t,e,i,n){var a=zS.makeLineShape([e,i[0]],[e,i[1]],Ho(t));return fp.subPixelOptimizeLine({shape:a,style:n}),{type:&quot;Line&quot;,shape:a}},shadow:function(t,e,i,n){var a=t.getBandWidth(),o=i[1]-i[0];return{type:&quot;Rect&quot;,shape:zS.makeRectShape([e-a/2,i[0]],[a,o],Ho(t))}}};zv.registerAxisPointerClass(&quot;SingleAxisPointer&quot;,BS);ym.extendComponentView({type:&quot;single&quot;});var HS=Eu.encodeHTML,WS=zf.extend({type:&quot;series.themeRiver&quot;,dependencies:[&quot;singleAxis&quot;],nameMap:null,init:function(t){WS.superApply(this,&quot;init&quot;,arguments),this.legendDataProvider=function(){return this.getRawData()}},fixData:function(t){for(var e=t.length,i=iw().key(function(t){return t[2]}).entries(t),n=rl.map(i,function(t){return{name:t.key,dataList:t.values}}),a=n.length,o=-1,r=-1,s=0;s&lt;a;++s){var l=n[s].dataList.length;l&gt;o&amp;&amp;(o=l,r=s)}for(var h=0;h&lt;a;++h)if(h!==r)for(var u=n[h].name,c=0;c&lt;o;++c){for(var d=n[r].dataList[c][0],p=n[h].dataList.length,f=-1,g=0;g&lt;p;++g){if(n[h].dataList[g][0]===d){f=g;break}}-1===f&amp;&amp;(t[e]=[],t[e][0]=d,t[e][1]=0,t[e][2]=u,e++)}return t},getInitialData:function(t,e){var i=[],n=e.queryComponents({mainType:&quot;singleAxis&quot;,index:this.get(&quot;singleAxisIndex&quot;),id:this.get(&quot;singleAxisId&quot;)})[0].get(&quot;type&quot;);i=[{name:&quot;time&quot;,type:&quot;category&quot;===n?&quot;ordinal&quot;:&quot;time&quot;===n?&quot;time&quot;:&quot;float&quot;},{name:&quot;value&quot;,type:&quot;float&quot;},{name:&quot;name&quot;,type:&quot;ordinal&quot;}];for(var a=rl.filter(t.data,function(t){return void 0!==t[2]}),o=this.fixData(a||[]),r=[],s=this.nameMap=rl.createHashMap(),l=0,h=0;h&lt;o.length;++h)r.push(o[h][2]),s.get(o[h][2])||(s.set(o[h][2],l),l++);i=sg(i,o);var u=new tg(i,this);return u.initData(o,r),u},coordDimToDataDim:function(t){return[&quot;time&quot;]},getLayerSeries:function(){for(var t=this.getData(),e=t.count(),i=[],n=0;n&lt;e;++n)i[n]=n;for(var a=iw().key(function(e){return t.get(&quot;name&quot;,e)}).entries(i),o=rl.map(a,function(t){return{name:t.key,indices:t.values}}),r=0;r&lt;o.length;++r)o[r].indices.sort(function(e,i){return t.get(&quot;time&quot;,e)-t.get(&quot;time&quot;,i)});return o},getAxisTooltipData:function(t,e,i){rl.isArray(t)||(t=t?[t]:[]);for(var n,a=this.getData(),o=this.getLayerSeries(),r=[],s=o.length,l=0;l&lt;s;++l){for(var h=Number.MAX_VALUE,u=-1,c=o[l].indices.length,d=0;d&lt;c;++d){var p=a.get(t[0],o[l].indices[d]),f=Math.abs(p-e);f&lt;=h&amp;&amp;(n=p,h=f,u=o[l].indices[d])}r.push(u)}return{dataIndices:r,nestestValue:n}},formatTooltip:function(t){var e=this.getData(),i=e.get(&quot;name&quot;,t),n=e.get(&quot;value&quot;,t);return(isNaN(n)||null==n)&amp;&amp;(n=&quot;-&quot;),HS(i+&quot; : &quot;+n)},defaultOption:{zlevel:0,z:2,coordinateSystem:&quot;singleAxis&quot;,boundaryGap:[&quot;10%&quot;,&quot;10%&quot;],singleAxisIndex:0,animationEasing:&quot;linear&quot;,label:{normal:{margin:4,textAlign:&quot;right&quot;,show:!0,position:&quot;left&quot;,color:&quot;#000&quot;,fontSize:11},emphasis:{show:!0}}}}),FS=Gm.Polygon,ZS=rl.bind,jS=rl.extend,US=(ym.extendChartView({type:&quot;themeRiver&quot;,init:function(){this._layers=[]},render:function(t,e,i){function n(t){return t.name}function a(e,i,n){var a=this._layers;if(&quot;remove&quot;!==e){for(var l,h=[],u=[],d=s[i].indices,p=0;p&lt;d.length;p++){var f=o.getItemLayout(d[p]),g=f.x,m=f.y0,v=f.y;h.push([g,m]),u.push([g,m+v]),l=o.getItemVisual(d[p],&quot;color&quot;)}var y,x,_=o.getItemLayout(d[0]),b=o.getItemModel(d[p-1]),w=b.getModel(&quot;label.normal&quot;),S=w.get(&quot;margin&quot;);if(&quot;add&quot;===e){M=c[i]=new fp.Group;y=new FS({shape:{points:h,stackedOnPoints:u,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),x=new fp.Text({style:{x:_.x-S,y:_.y0+_.y/2}}),M.add(y),M.add(x),r.add(M),y.setClipPath(function(t,e,i){var n=new fp.Rect({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return fp.initProps(n,{shape:{width:t.width+20,height:t.height+20}},e,i),n}(y.getBoundingRect(),t,function(){y.removeClipPath()}))}else{var M=a[n];y=M.childAt(0),x=M.childAt(1),r.add(M),c[i]=M,fp.updateProps(y,{shape:{points:h,stackedOnPoints:u}},t),fp.updateProps(x,{style:{x:_.x-S,y:_.y0+_.y/2}},t)}var I=b.getModel(&quot;itemStyle.emphasis&quot;),T=b.getModel(&quot;itemStyle.normal&quot;);fp.setTextStyle(x.style,w,{text:w.get(&quot;show&quot;)?t.getFormattedLabel(d[p-1],&quot;normal&quot;)||o.getName(d[p-1]):null,textVerticalAlign:&quot;middle&quot;}),y.setStyle(jS({fill:l},T.getItemStyle([&quot;color&quot;]))),fp.setHoverStyle(y,I.getItemStyle())}else r.remove(a[i])}var o=t.getData(),r=this.group,s=t.getLayerSeries(),l=o.getLayout(&quot;layoutInfo&quot;),h=l.rect,u=l.boundaryGap;r.attr(&quot;position&quot;,[0,h.y+u[0]]);var c={};new qf(this._layersSeries||[],s,n,n).add(ZS(a,this,&quot;add&quot;)).update(ZS(a,this,&quot;update&quot;)).remove(ZS(a,this,&quot;remove&quot;)).execute(),this._layersSeries=s,this._layers=c},dispose:function(){}}),function(t,e){t.eachSeriesByType(&quot;themeRiver&quot;,function(t){var e=t.getData(),i=t.coordinateSystem,n={},a=i.getRect();n.rect=a;var o=t.get(&quot;boundaryGap&quot;),r=i.getAxis();n.boundaryGap=o,&quot;horizontal&quot;===r.orient?(o[0]=Pu.parsePercent(o[0],a.height),o[1]=Pu.parsePercent(o[1],a.height),Fo(e,t,a.height-o[0]-o[1])):(o[0]=Pu.parsePercent(o[0],a.width),o[1]=Pu.parsePercent(o[1],a.width),Fo(e,t,a.width-o[0]-o[1])),e.setLayout(&quot;layoutInfo&quot;,n)})}),qS=rl.createHashMap,XS=function(t){t.eachSeriesByType(&quot;themeRiver&quot;,function(t){var e=t.getData(),i=t.getRawData(),n=t.get(&quot;color&quot;),a=qS();e.each(function(t){a.set(e.getRawIndex(t),t)}),i.each(function(o){var r=i.getName(o),s=n[(t.nameMap.get(r)-1)%n.length];i.setItemVisual(o,&quot;color&quot;,s);var l=a.get(o);null!=l&amp;&amp;e.setItemVisual(l,&quot;color&quot;,s)})})};ym.registerLayout(US),ym.registerVisual(XS),ym.registerProcessor(rl.curry(uy,&quot;themeRiver&quot;));var YS=_m.findLabelValueDim,$S=[&quot;itemStyle&quot;,&quot;normal&quot;],KS=[&quot;itemStyle&quot;,&quot;emphasis&quot;],JS=[&quot;label&quot;,&quot;normal&quot;],QS=[&quot;label&quot;,&quot;emphasis&quot;],tM=&quot;e\0\0&quot;,eM={cartesian2d:function(t){var e=t.grid.getRect();return{coordSys:{type:&quot;cartesian2d&quot;,x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:rl.bind(t.dataToPoint,t),size:rl.bind(function(t,e){return e=e||[0,0],rl.map([&quot;x&quot;,&quot;y&quot;],function(i,n){var a=this.getAxis(i),o=e[n],r=t[n]/2;return&quot;category&quot;===a.type?a.getBandWidth():Math.abs(a.dataToCoord(o-r)-a.dataToCoord(o+r))},this)},t)}}},geo:function(t){var e=t.getBoundingRect();return{coordSys:{type:&quot;geo&quot;,x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:rl.bind(t.dataToPoint,t),size:rl.bind(function(t,e){return e=e||[0,0],rl.map([0,1],function(i){var n=e[i],a=t[i]/2,o=[],r=[];return o[i]=n-a,r[i]=n+a,o[1-i]=r[1-i]=e[1-i],Math.abs(this.dataToPoint(o)[i]-this.dataToPoint(r)[i])},this)},t)}}},singleAxis:function(t){var e=t.getRect();return{coordSys:{type:&quot;singleAxis&quot;,x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:rl.bind(t.dataToPoint,t),size:rl.bind(function(t,e){var i=this.getAxis(),n=e instanceof Array?e[0]:e,a=(t instanceof Array?t[0]:t)/2;return&quot;category&quot;===i.type?i.getBandWidth():Math.abs(i.dataToCoord(n-a)-i.dataToCoord(n+a))},t)}}},polar:function(t){var e=t.getRadiusAxis(),i=t.getAngleAxis(),n=e.getExtent();return n[0]&gt;n[1]&amp;&amp;n.reverse(),{coordSys:{type:&quot;polar&quot;,cx:t.cx,cy:t.cy,r:n[1],r0:n[0]},api:{coord:rl.bind(function(n){var a=e.dataToRadius(n[0]),o=i.dataToAngle(n[1]),r=t.coordToPoint([a,o]);return r.push(a,o*Math.PI/180),r}),size:rl.bind(function(t,e){return rl.map([&quot;Radius&quot;,&quot;Angle&quot;],function(i,n){var a=this[&quot;get&quot;+i+&quot;Axis&quot;](),o=e[n],r=t[n]/2,s=&quot;dataTo&quot;+i,l=&quot;category&quot;===a.type?a.getBandWidth():Math.abs(a[s](o-r)-a[s](o+r));return&quot;Angle&quot;===i&amp;&amp;(l=l*Math.PI/180),l},this)},t)}}},calendar:function(t){var e=t.getRect(),i=t.getRangeInfo();return{coordSys:{type:&quot;calendar&quot;,x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:i.start,end:i.end,weeks:i.weeks,dayCount:i.allDay}},api:{coord:rl.bind(t.dataToPoint,t)}}}};ym.extendSeriesModel({type:&quot;series.custom&quot;,dependencies:[&quot;grid&quot;,&quot;polar&quot;,&quot;geo&quot;,&quot;singleAxis&quot;,&quot;calendar&quot;],defaultOption:{coordinateSystem:&quot;cartesian2d&quot;,zlevel:0,z:2,legendHoverLink:!0},getInitialData:function(t,e){return dg(t.data,this,e)}}),ym.extendChartView({type:&quot;custom&quot;,_data:null,render:function(t,e,i){var n=this._data,a=t.getData(),o=this.group,r=function(t,e,i,n){function a(t){null==t&amp;&amp;(t=l),m&amp;&amp;(h=e.getItemModel(t),u=h.getModel(JS),c=h.getModel(QS),d=YS(e),p=e.getItemVisual(t,&quot;color&quot;),m=!1)}var o=t.get(&quot;renderItem&quot;),r=t.coordinateSystem,s={};r&amp;&amp;(s=r.prepareCustoms?r.prepareCustoms():eM[r.type](r));var l,h,u,c,d,p,f=rl.defaults({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:function(t,i){return null==i&amp;&amp;(i=l),e.get(e.getDimension(t||0),i)},style:function(i,n){null==n&amp;&amp;(n=l),a(n);var o=h.getModel($S).getItemStyle();null!=p&amp;&amp;(o.fill=p);var r=e.getItemVisual(n,&quot;opacity&quot;);return null!=r&amp;&amp;(o.opacity=r),null!=d&amp;&amp;(fp.setTextStyle(o,u,null,{autoColor:p,isRectText:!0}),o.text=u.getShallow(&quot;show&quot;)?rl.retrieve2(t.getFormattedLabel(n,&quot;normal&quot;),e.get(d,n)):null),i&amp;&amp;rl.extend(o,i),o},styleEmphasis:function(i,n){null==n&amp;&amp;(n=l),a(n);var o=h.getModel(KS).getItemStyle();return null!=d&amp;&amp;(fp.setTextStyle(o,c,null,{isRectText:!0},!0),o.text=c.getShallow(&quot;show&quot;)?rl.retrieve3(t.getFormattedLabel(n,&quot;emphasis&quot;),t.getFormattedLabel(n,&quot;normal&quot;),e.get(d,n)):null),i&amp;&amp;rl.extend(o,i),o},visual:function(t,i){return null==i&amp;&amp;(i=l),e.getItemVisual(i,t)},barLayout:function(t){if(r.getBaseAxis){var e=r.getBaseAxis();return Fv.getLayoutOnAxis(rl.defaults({axis:e},t),n)}},currentSeriesIndices:function(){return i.getCurrentSeriesIndices()},font:function(t){return fp.getFont(t,i)}},s.api||{}),g={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:s.coordSys,dataInsideLength:e.count(),encode:function(t){var e={};return rl.each(t.dimensions,function(i,n){var a=t.getDimensionInfo(i);if(!a.isExtraCoord){var o=a.coordDim;(e[o]=e[o]||[])[a.coordDimIndex]=n}}),e}(t.getData())},m=!0;return function(t){return l=t,m=!0,o&amp;&amp;o(rl.defaults({dataIndexInside:t,dataIndex:e.getRawIndex(t)},g),f)||{}}}(t,a,e,i);a.diff(n).add(function(e){a.hasValue(e)&amp;&amp;jo(null,e,r(e),t,o,a)}).update(function(e,i){var s=n.getItemGraphicEl(i);a.hasValue(e)?jo(s,e,r(e),t,o,a):s&amp;&amp;o.remove(s)}).remove(function(t){var e=n.getItemGraphicEl(t);e&amp;&amp;o.remove(e)}).execute(),this._data=a},dispose:rl.noop});ym.registerPreprocessor(function(t){var e=t.graphic;rl.isArray(e)?e[0]&amp;&amp;e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:e}]:e&amp;&amp;!e.elements&amp;&amp;(t.graphic=[{elements:[e]}])});var iM=ym.extendComponentModel({type:&quot;graphic&quot;,defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(t){var e=this.option.elements;this.option.elements=null,iM.superApply(this,&quot;mergeOption&quot;,arguments),this.option.elements=e},optionUpdated:function(t,e){var i=this.option,n=(e?i:t).elements,a=i.elements=e?[]:i.elements,o=[];this._flatten(n,o);var r=Ip.mappingToExists(a,o);Ip.makeIdAndName(r);var s=this._elOptionsToUpdate=[];rl.each(r,function(t,e){var i=t.option;i&amp;&amp;(s.push(i),function(t,e){var i=t.exist;if(e.id=t.keyInfo.id,!e.type&amp;&amp;i&amp;&amp;(e.type=i.type),null==e.parentId){var n=e.parentOption;n?e.parentId=n.id:i&amp;&amp;(e.parentId=i.parentId)}e.parentOption=null}(t,i),function(t,e,i){var n=rl.extend({},i),a=t[e],o=i.$action||&quot;merge&quot;;&quot;merge&quot;===o?a?(rl.merge(a,n,!0),Np.mergeLayoutParam(a,n,{ignoreSize:!0}),Np.copyLayoutParams(i,a)):t[e]=n:&quot;replace&quot;===o?t[e]=n:&quot;remove&quot;===o&amp;&amp;a&amp;&amp;(t[e]=null)}(a,e,i),function(t,e){t&amp;&amp;(t.hv=e.hv=[Ko(e,[&quot;left&quot;,&quot;right&quot;]),Ko(e,[&quot;top&quot;,&quot;bottom&quot;])],&quot;group&quot;===t.type&amp;&amp;(null==t.width&amp;&amp;(t.width=e.width=0),null==t.height&amp;&amp;(t.height=e.height=0)))}(a[e],i))},this);for(var l=a.length-1;l&gt;=0;l--)null==a[l]?a.splice(l,1):delete a[l].$action},_flatten:function(t,e,i){rl.each(t,function(t){if(t){i&amp;&amp;(t.parentOption=i),e.push(t);var n=t.children;&quot;group&quot;===t.type&amp;&amp;n&amp;&amp;this._flatten(n,e,t),delete t.children}},this)},useElOptionsToUpdate:function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t}});ym.extendComponentView({type:&quot;graphic&quot;,init:function(t,e){this._elMap=rl.createHashMap(),this._lastGraphicModel},render:function(t,e,i){t!==this._lastGraphicModel&amp;&amp;this._clear(),this._lastGraphicModel=t,this._updateElements(t,i),this._relocate(t,i)},_updateElements:function(t,e){var i=t.useElOptionsToUpdate();if(i){var n=this._elMap,a=this.group;rl.each(i,function(t){var e=t.$action,i=t.id,o=n.get(i),r=t.parentId,s=null!=r?n.get(r):a;if(&quot;text&quot;===t.type){var l=t.style;t.hv&amp;&amp;t.hv[1]&amp;&amp;(l.textVerticalAlign=l.textBaseline=null),!l.hasOwnProperty(&quot;textFill&quot;)&amp;&amp;l.fill&amp;&amp;(l.textFill=l.fill),!l.hasOwnProperty(&quot;textStroke&quot;)&amp;&amp;l.stroke&amp;&amp;(l.textStroke=l.stroke)}var h=function(t){return t=rl.extend({},t),rl.each([&quot;id&quot;,&quot;parentId&quot;,&quot;$action&quot;,&quot;hv&quot;,&quot;bounding&quot;].concat(Np.LOCATION_PARAMS),function(e){delete t[e]}),t}(t);e&amp;&amp;&quot;merge&quot;!==e?&quot;replace&quot;===e?($o(o,n),Yo(i,s,h,n)):&quot;remove&quot;===e&amp;&amp;$o(o,n):o?o.attr(h):Yo(i,s,h,n);var u=n.get(i);u&amp;&amp;(u.__ecGraphicWidth=t.width,u.__ecGraphicHeight=t.height)})}},_relocate:function(t,e){for(var i=t.option.elements,n=this.group,a=this._elMap,o=i.length-1;o&gt;=0;o--){var r=i[o],s=a.get(r.id);if(s){var l=s.parent,h=l===n?{width:e.getWidth(),height:e.getHeight()}:{width:l.__ecGraphicWidth||0,height:l.__ecGraphicHeight||0};Np.positionElement(s,r,h,null,{hv:r.hv,boundingMode:r.bounding})}}},_clear:function(){var t=this._elMap;t.each(function(e){$o(e,t)}),this._elMap=rl.createHashMap()},dispose:function(){this._clear()}});var nM=ym.extendComponentModel({type:&quot;legend.plain&quot;,dependencies:[&quot;series&quot;],layoutMode:{type:&quot;box&quot;,ignoreSize:!0},init:function(t,e,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{}},mergeOption:function(t){nM.superCall(this,&quot;mergeOption&quot;,t)},optionUpdated:function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&amp;&amp;&quot;single&quot;===this.get(&quot;selectedMode&quot;)){for(var e=!1,i=0;i&lt;t.length;i++){var n=t[i].get(&quot;name&quot;);if(this.isSelected(n)){this.select(n),e=!0;break}}!e&amp;&amp;this.select(t[0].get(&quot;name&quot;))}},_updateData:function(t){var e=rl.map(this.get(&quot;data&quot;)||[],function(t){return&quot;string&quot;!=typeof t&amp;&amp;&quot;number&quot;!=typeof t||(t={name:t}),new _p(t,this,this.ecModel)},this);this._data=e;var i=rl.map(t.getSeries(),function(t){return t.name});t.eachSeries(function(t){if(t.legendDataProvider){var e=t.legendDataProvider();i=i.concat(e.mapArray(e.getName))}}),this._availableNames=i},getData:function(){return this._data},select:function(t){var e=this.option.selected;if(&quot;single&quot;===this.get(&quot;selectedMode&quot;)){var i=this._data;rl.each(i,function(t){e[t.get(&quot;name&quot;)]=!1})}e[t]=!0},unSelect:function(t){&quot;single&quot;!==this.get(&quot;selectedMode&quot;)&amp;&amp;(this.option.selected[t]=!1)},toggleSelected:function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?&quot;unSelect&quot;:&quot;select&quot;](t)},isSelected:function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&amp;&amp;!e[t])&amp;&amp;rl.indexOf(this._availableNames,t)&gt;=0},defaultOption:{zlevel:0,z:4,show:!0,orient:&quot;horizontal&quot;,left:&quot;center&quot;,top:0,align:&quot;auto&quot;,backgroundColor:&quot;rgba(0,0,0,0)&quot;,borderColor:&quot;#ccc&quot;,borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:&quot;#ccc&quot;,textStyle:{color:&quot;#333&quot;},selectedMode:!0,tooltip:{show:!1}}}),aM=nM;ym.registerAction(&quot;legendToggleSelect&quot;,&quot;legendselectchanged&quot;,rl.curry(Jo,&quot;toggleSelected&quot;)),ym.registerAction(&quot;legendSelect&quot;,&quot;legendselected&quot;,rl.curry(Jo,&quot;select&quot;)),ym.registerAction(&quot;legendUnSelect&quot;,&quot;legendunselected&quot;,rl.curry(Jo,&quot;unSelect&quot;));var oM=Np.getLayoutRect,rM=Np.box,sM=Np.positionElement,lM={layout:function(t,e,i){var n=e.getBoxLayoutParams(),a=e.get(&quot;padding&quot;),o={width:i.getWidth(),height:i.getHeight()},r=oM(n,o,a);rM(e.get(&quot;orient&quot;),t,e.get(&quot;itemGap&quot;),r.width,r.height),sM(t,n,o,a)},makeBackground:function(t,e){var i=Eu.normalizeCssArray(e.get(&quot;padding&quot;)),n=e.getItemStyle([&quot;color&quot;,&quot;opacity&quot;]);return n.fill=e.get(&quot;backgroundColor&quot;),t=new fp.Rect({shape:{x:t.x-i[3],y:t.y-i[0],width:t.width+i[1]+i[3],height:t.height+i[0]+i[2],r:e.get(&quot;borderRadius&quot;)},style:n,silent:!0,z2:-1})}},hM=Ug.createSymbol,uM=lM.makeBackground,cM=rl.curry,dM=rl.each,pM=fp.Group,fM=ym.extendComponentView({type:&quot;legend.plain&quot;,newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new pM),this._backgroundEl},getContentGroup:function(){return this._contentGroup},render:function(t,e,i){if(this.resetInner(),t.get(&quot;show&quot;,!0)){var n=t.get(&quot;align&quot;);n&amp;&amp;&quot;auto&quot;!==n||(n=&quot;right&quot;===t.get(&quot;left&quot;)&amp;&amp;&quot;vertical&quot;===t.get(&quot;orient&quot;)?&quot;right&quot;:&quot;left&quot;),this.renderInner(n,t,e,i);var a=t.getBoxLayoutParams(),o={width:i.getWidth(),height:i.getHeight()},r=t.get(&quot;padding&quot;),s=Np.getLayoutRect(a,o,r),l=this.layoutInner(t,n,s),h=Np.getLayoutRect(rl.defaults({width:l.width,height:l.height},a),o,r);this.group.attr(&quot;position&quot;,[h.x-l.x,h.y-l.y]),this.group.add(this._backgroundEl=uM(l,t))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&amp;&amp;this.group.remove(this._backgroundEl)},renderInner:function(t,e,i,n){var a=this.getContentGroup(),o=rl.createHashMap(),r=e.get(&quot;selectedMode&quot;);dM(e.getData(),function(s,l){var h=s.get(&quot;name&quot;);if(this.newlineDisabled||&quot;&quot;!==h&amp;&amp;&quot;\n&quot;!==h){var u=i.getSeriesByName(h)[0];if(!o.get(h))if(u){var c=u.getData(),d=c.getVisual(&quot;color&quot;);&quot;function&quot;==typeof d&amp;&amp;(d=d(u.getDataParams(0)));var p=c.getVisual(&quot;legendSymbol&quot;)||&quot;roundRect&quot;,f=c.getVisual(&quot;symbol&quot;);this._createItem(h,l,s,e,p,f,t,d,r).on(&quot;click&quot;,cM(Qo,h,n)).on(&quot;mouseover&quot;,cM(tr,u,null,n)).on(&quot;mouseout&quot;,cM(er,u,null,n)),o.set(h,!0)}else i.eachRawSeries(function(i){if(!o.get(h)&amp;&amp;i.legendDataProvider){var a=i.legendDataProvider(),u=a.indexOfName(h);if(u&lt;0)return;var c=a.getItemVisual(u,&quot;color&quot;);this._createItem(h,l,s,e,&quot;roundRect&quot;,null,t,c,r).on(&quot;click&quot;,cM(Qo,h,n)).on(&quot;mouseover&quot;,cM(tr,i,h,n)).on(&quot;mouseout&quot;,cM(er,i,h,n)),o.set(h,!0)}},this)}else a.add(new pM({newline:!0}))},this)},_createItem:function(t,e,i,n,a,o,r,s,l){var h=n.get(&quot;itemWidth&quot;),u=n.get(&quot;itemHeight&quot;),c=n.get(&quot;inactiveColor&quot;),d=n.isSelected(t),p=new pM,f=i.getModel(&quot;textStyle&quot;),g=i.get(&quot;icon&quot;),m=i.getModel(&quot;tooltip&quot;),v=m.parentModel;if(a=g||a,p.add(hM(a,0,0,h,u,d?s:c,!0)),!g&amp;&amp;o&amp;&amp;(o!==a||&quot;none&quot;==o)){var y=.8*u;&quot;none&quot;===o&amp;&amp;(o=&quot;circle&quot;),p.add(hM(o,(h-y)/2,(u-y)/2,y,y,d?s:c))}var x=&quot;left&quot;===r?h+5:-5,_=r,b=n.get(&quot;formatter&quot;),w=t;&quot;string&quot;==typeof b&amp;&amp;b?w=b.replace(&quot;{name}&quot;,null!=t?t:&quot;&quot;):&quot;function&quot;==typeof b&amp;&amp;(w=b(t)),p.add(new fp.Text({style:fp.setTextStyle({},f,{text:w,x:x,y:u/2,textFill:d?f.getTextColor():c,textAlign:_,textVerticalAlign:&quot;middle&quot;})}));var S=new fp.Rect({shape:p.getBoundingRect(),invisible:!0,tooltip:m.get(&quot;show&quot;)?rl.extend({content:t,formatter:v.get(&quot;formatter&quot;,!0)||function(){return t},formatterParams:{componentType:&quot;legend&quot;,legendIndex:n.componentIndex,name:t,$vars:[&quot;name&quot;]}},m.option):null});return p.add(S),p.eachChild(function(t){t.silent=!0}),S.silent=!l,this.getContentGroup().add(p),fp.setHoverStyle(p),p.__legendDataIndex=e,p},layoutInner:function(t,e,i){var n=this.getContentGroup();Np.box(t.get(&quot;orient&quot;),n,t.get(&quot;itemGap&quot;),i.width,i.height);var a=n.getBoundingRect();return n.attr(&quot;position&quot;,[-a.x,-a.y]),this.group.getBoundingRect()}}),gM=function(t){var e=t.findComponents({mainType:&quot;legend&quot;});e&amp;&amp;e.length&amp;&amp;t.filterSeries(function(t){for(var i=0;i&lt;e.length;i++)if(!e[i].isSelected(t.name))return!1;return!0})};ym.registerProcessor(gM),Hp.registerSubTypeDefaulter(&quot;legend&quot;,function(){return&quot;plain&quot;});var mM=Np.mergeLayoutParam,vM=Np.getLayoutParams,yM=aM.extend({type:&quot;legend.scroll&quot;,setScrollDataIndex:function(t){this.option.scrollDataIndex=t},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:&quot;end&quot;,pageFormatter:&quot;{current}/{total}&quot;,pageIcons:{horizontal:[&quot;M0,0L12,-10L12,10z&quot;,&quot;M0,0L-12,-10L-12,10z&quot;],vertical:[&quot;M0,0L20,0L10,-20z&quot;,&quot;M0,0L20,0L10,20z&quot;]},pageIconColor:&quot;#2f4554&quot;,pageIconInactiveColor:&quot;#aaa&quot;,pageIconSize:15,pageTextStyle:{color:&quot;#333&quot;},animationDurationUpdate:800},init:function(t,e,i,n){var a=vM(t);yM.superCall(this,&quot;init&quot;,t,e,i,n),ir(this,t,a)},mergeOption:function(t,e){yM.superCall(this,&quot;mergeOption&quot;,t,e),ir(this,this.option,t)},getOrient:function(){return&quot;vertical&quot;===this.get(&quot;orient&quot;)?{index:1,name:&quot;vertical&quot;}:{index:0,name:&quot;horizontal&quot;}}}),xM=fp.Group,_M=[&quot;width&quot;,&quot;height&quot;],bM=[&quot;x&quot;,&quot;y&quot;],wM=fM.extend({type:&quot;legend.scroll&quot;,newlineDisabled:!0,init:function(){wM.superCall(this,&quot;init&quot;),this._currentIndex=0,this.group.add(this._containerGroup=new xM),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new xM),this._showController},resetInner:function(){wM.superCall(this,&quot;resetInner&quot;),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(t,e,i,n){function a(t,i){var a=t+&quot;DataIndex&quot;,l=fp.createIcon(e.get(&quot;pageIcons&quot;,!0)[e.getOrient().name][i],{onclick:rl.bind(o._pageGo,o,a,e,n)},{x:-s[0]/2,y:-s[1]/2,width:s[0],height:s[1]});l.name=t,r.add(l)}var o=this;wM.superCall(this,&quot;renderInner&quot;,t,e,i,n);var r=this._controllerGroup,s=e.get(&quot;pageIconSize&quot;,!0);rl.isArray(s)||(s=[s,s]),a(&quot;pagePrev&quot;,0);var l=e.getModel(&quot;pageTextStyle&quot;);r.add(new fp.Text({name:&quot;pageText&quot;,style:{textFill:l.getTextColor(),font:l.getFont(),textVerticalAlign:&quot;middle&quot;,textAlign:&quot;center&quot;},silent:!0})),a(&quot;pageNext&quot;,1)},layoutInner:function(t,e,i){var n=this.getContentGroup(),a=this._containerGroup,o=this._controllerGroup,r=t.getOrient().index,s=_M[r],l=_M[1-r],h=bM[1-r];Np.box(t.get(&quot;orient&quot;),n,t.get(&quot;itemGap&quot;),r?i.width:null,r?null:i.height),Np.box(&quot;horizontal&quot;,o,t.get(&quot;pageButtonItemGap&quot;,!0));var u=n.getBoundingRect(),c=o.getBoundingRect(),d=this._showController=u[s]&gt;i[s],p=[-u.x,-u.y];p[r]=n.position[r];var f=[0,0],g=[-c.x,-c.y],m=rl.retrieve2(t.get(&quot;pageButtonGap&quot;,!0),t.get(&quot;itemGap&quot;,!0));if(d){&quot;end&quot;===t.get(&quot;pageButtonPosition&quot;,!0)?g[r]+=i[s]-c[s]:f[r]+=c[s]+m}g[1-r]+=u[l]/2-c[l]/2,n.attr(&quot;position&quot;,p),a.attr(&quot;position&quot;,f),o.attr(&quot;position&quot;,g);var v=this.group.getBoundingRect();if((v={x:0,y:0})[s]=d?i[s]:u[s],v[l]=Math.max(u[l],c[l]),v[h]=Math.min(0,c[h]+g[1-r]),a.__rectSize=i[s],d){var y={x:0,y:0};y[s]=Math.max(i[s]-c[s]-m,0),y[l]=v[l],a.setClipPath(new fp.Rect({shape:y})),a.__rectSize=y[s]}else o.eachChild(function(t){t.attr({invisible:!0,silent:!0})});var x=this._getPageInfo(t);return null!=x.pageIndex&amp;&amp;fp.updateProps(n,{position:x.contentPosition},!!d&amp;&amp;t),this._updatePageInfoView(t,x),v},_pageGo:function(t,e,i){var n=this._getPageInfo(e)[t];null!=n&amp;&amp;i.dispatchAction({type:&quot;legendScroll&quot;,scrollDataIndex:n,legendId:e.id})},_updatePageInfoView:function(t,e){var i=this._controllerGroup;rl.each([&quot;pagePrev&quot;,&quot;pageNext&quot;],function(n){var a=null!=e[n+&quot;DataIndex&quot;],o=i.childOfName(n);o&amp;&amp;(o.setStyle(&quot;fill&quot;,a?t.get(&quot;pageIconColor&quot;,!0):t.get(&quot;pageIconInactiveColor&quot;,!0)),o.cursor=a?&quot;pointer&quot;:&quot;default&quot;)});var n=i.childOfName(&quot;pageText&quot;),a=t.get(&quot;pageFormatter&quot;),o=e.pageIndex,r=null!=o?o+1:0,s=e.pageCount;n&amp;&amp;a&amp;&amp;n.setStyle(&quot;text&quot;,rl.isString(a)?a.replace(&quot;{current}&quot;,r).replace(&quot;{total}&quot;,s):a({current:r,total:s}))},_getPageInfo:function(t){function e(t){var e=t.getBoundingRect().clone();return e[p]+=t.position[u],e}var i,n,a,o,r=t.get(&quot;scrollDataIndex&quot;,!0),s=this.getContentGroup(),l=s.getBoundingRect(),h=this._containerGroup.__rectSize,u=t.getOrient().index,c=_M[u],d=_M[1-u],p=bM[u],f=s.position.slice();this._showController?s.eachChild(function(t){t.__legendDataIndex===r&amp;&amp;(o=t)}):o=s.childAt(0);var g=h?Math.ceil(l[c]/h):0;if(o){var m=o.getBoundingRect(),v=o.position[u]+m[p];f[u]=-v-l[p],i=Math.floor(g*(v+m[p]+h/2)/l[c]),i=l[c]&amp;&amp;g?Math.max(0,Math.min(g-1,i)):-1;var y={x:0,y:0};y[c]=h,y[d]=l[d],y[p]=-f[u]-l[p];var x,_=s.children();if(s.eachChild(function(t,i){var n=e(t);n.intersect(y)&amp;&amp;(null==x&amp;&amp;(x=i),a=t.__legendDataIndex),i===_.length-1&amp;&amp;n[p]+n[c]&lt;=y[p]+y[c]&amp;&amp;(a=null)}),null!=x){var b=e(_[x]);if(y[p]=b[p]+b[c]-y[c],x&lt;=0&amp;&amp;b[p]&gt;=y[p])n=null;else{for(;x&gt;0&amp;&amp;e(_[x-1]).intersect(y);)x--;n=_[x].__legendDataIndex}}}return{contentPosition:f,pageIndex:i,pageCount:g,pagePrevDataIndex:n,pageNextDataIndex:a}}});ym.registerAction(&quot;legendScroll&quot;,&quot;legendscroll&quot;,function(t,e){var i=t.scrollDataIndex;null!=i&amp;&amp;e.eachComponent({mainType:&quot;legend&quot;,subType:&quot;scroll&quot;,query:t},function(t){t.setScrollDataIndex(i)})});ym.extendComponentModel({type:&quot;tooltip&quot;,dependencies:[&quot;axisPointer&quot;],defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:&quot;item&quot;,triggerOn:&quot;mousemove|click&quot;,alwaysShowContent:!1,displayMode:&quot;single&quot;,confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:&quot;rgba(50,50,50,0.7)&quot;,borderColor:&quot;#333&quot;,borderRadius:4,borderWidth:0,padding:5,extraCssText:&quot;&quot;,axisPointer:{type:&quot;line&quot;,axis:&quot;auto&quot;,animation:&quot;auto&quot;,animationDurationUpdate:200,animationEasingUpdate:&quot;exponentialOut&quot;,crossStyle:{color:&quot;#999&quot;,width:1,type:&quot;dashed&quot;,textStyle:{}}},textStyle:{color:&quot;#fff&quot;,fontSize:14}}});var SM=rl.each,MM=Eu.toCamelCase,IM=[&quot;&quot;,&quot;-webkit-&quot;,&quot;-moz-&quot;,&quot;-o-&quot;];nr.prototype={constructor:nr,_enterable:!0,update:function(){var t=this._container,e=t.currentStyle||document.defaultView.getComputedStyle(t),i=t.style;&quot;absolute&quot;!==i.position&amp;&amp;&quot;absolute&quot;!==e.position&amp;&amp;(i.position=&quot;relative&quot;)},show:function(t){clearTimeout(this._hideTimeout);var e=this.el;e.style.cssText=&quot;position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;&quot;+function(t){var e=[],i=t.get(&quot;transitionDuration&quot;),n=t.get(&quot;backgroundColor&quot;),a=t.getModel(&quot;textStyle&quot;),o=t.get(&quot;padding&quot;);return i&amp;&amp;e.push(function(t){var e=&quot;left &quot;+t+&quot;s cubic-bezier(0.23, 1, 0.32, 1),top &quot;+t+&quot;s cubic-bezier(0.23, 1, 0.32, 1)&quot;;return rl.map(IM,function(t){return t+&quot;transition:&quot;+e}).join(&quot;;&quot;)}(i)),n&amp;&amp;(Us.canvasSupported?e.push(&quot;background-Color:&quot;+n):(e.push(&quot;background-Color:#&quot;+Nl.toHex(n)),e.push(&quot;filter:alpha(opacity=70)&quot;))),SM([&quot;width&quot;,&quot;color&quot;,&quot;radius&quot;],function(i){var n=&quot;border-&quot;+i,a=MM(n),o=t.get(a);null!=o&amp;&amp;e.push(n+&quot;:&quot;+o+(&quot;color&quot;===i?&quot;&quot;:&quot;px&quot;))}),e.push(function(t){var e=[],i=t.get(&quot;fontSize&quot;),n=t.getTextColor();return n&amp;&amp;e.push(&quot;color:&quot;+n),e.push(&quot;font:&quot;+t.getFont()),i&amp;&amp;e.push(&quot;line-height:&quot;+Math.round(3*i/2)+&quot;px&quot;),SM([&quot;decoration&quot;,&quot;align&quot;],function(i){var n=t.get(i);n&amp;&amp;e.push(&quot;text-&quot;+i+&quot;:&quot;+n)}),e.join(&quot;;&quot;)}(a)),null!=o&amp;&amp;e.push(&quot;padding:&quot;+Eu.normalizeCssArray(o).join(&quot;px &quot;)+&quot;px&quot;),e.join(&quot;;&quot;)+&quot;;&quot;}(t)+&quot;;left:&quot;+this._x+&quot;px;top:&quot;+this._y+&quot;px;&quot;+(t.get(&quot;extraCssText&quot;)||&quot;&quot;),e.style.display=e.innerHTML?&quot;block&quot;:&quot;none&quot;,this._show=!0},setContent:function(t){this.el.innerHTML=null==t?&quot;&quot;:t},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el;return[t.clientWidth,t.clientHeight]},moveTo:function(t,e){var i,n=this._zr;n&amp;&amp;n.painter&amp;&amp;(i=n.painter.getViewportRootOffset())&amp;&amp;(t+=i.offsetLeft,e+=i.offsetTop);var a=this.el.style;a.left=t+&quot;px&quot;,a.top=e+&quot;px&quot;,this._x=t,this._y=e},hide:function(){this.el.style.display=&quot;none&quot;,this._show=!1},hideLater:function(t){!this._show||this._inContent&amp;&amp;this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(rl.bind(this.hide,this),t)):this.hide())},isShow:function(){return this._show}};var TM=nr,AM=rl.bind,CM=rl.each,LM=Pu.parsePercent,DM=new fp.Rect({shape:{x:-1,y:-1,width:2,height:2}});ym.extendComponentView({type:&quot;tooltip&quot;,init:function(t,e){if(!Us.node){var i=new TM(e.getDom(),e);this._tooltipContent=i}},render:function(t,e,i){if(!Us.node){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=i,this._lastDataByCoordSys=null,this._alwaysShowContent=t.get(&quot;alwaysShowContent&quot;);var n=this._tooltipContent;n.update(),n.setEnterable(t.get(&quot;enterable&quot;)),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var t=this._tooltipModel.get(&quot;triggerOn&quot;);CS.register(&quot;itemTooltip&quot;,this._api,AM(function(e,i,n){&quot;none&quot;!==t&amp;&amp;(t.indexOf(e)&gt;=0?this._tryShow(i,n):&quot;leave&quot;===e&amp;&amp;this._hide(n))},this))},_keepShow:function(){var t=this._tooltipModel,e=this._ecModel,i=this._api;if(null!=this._lastX&amp;&amp;null!=this._lastY&amp;&amp;&quot;none&quot;!==t.get(&quot;triggerOn&quot;)){var n=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){n.manuallyShowTip(t,e,i,{x:n._lastX,y:n._lastY})})}},manuallyShowTip:function(t,e,i,n){if(n.from!==this.uid&amp;&amp;!Us.node){var a=or(n,i);this._ticket=&quot;&quot;;var o=n.dataByCoordSys;if(n.tooltip&amp;&amp;null!=n.x&amp;&amp;null!=n.y){var r=DM;r.position=[n.x,n.y],r.update(),r.tooltip=n.tooltip,this._tryShow({offsetX:n.x,offsetY:n.y,target:r},a)}else if(o)this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,event:{},dataByCoordSys:n.dataByCoordSys,tooltipOption:n.tooltipOption},a);else if(null!=n.seriesIndex){if(this._manuallyAxisShowTip(t,e,i,n))return;var s=bS(n,e),l=s.point[0],h=s.point[1];null!=l&amp;&amp;null!=h&amp;&amp;this._tryShow({offsetX:l,offsetY:h,position:n.position,target:s.el,event:{}},a)}else null!=n.x&amp;&amp;null!=n.y&amp;&amp;(i.dispatchAction({type:&quot;updateAxisPointer&quot;,x:n.x,y:n.y}),this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,target:i.getZr().findHover(n.x,n.y).target,event:{}},a))}},manuallyHideTip:function(t,e,i,n){var a=this._tooltipContent;this._alwaysShowContent||a.hideLater(this._tooltipModel.get(&quot;hideDelay&quot;)),this._lastX=this._lastY=null,n.from!==this.uid&amp;&amp;this._hide(or(n,i))},_manuallyAxisShowTip:function(t,e,i,n){var a=n.seriesIndex,o=n.dataIndex,r=e.getComponent(&quot;axisPointer&quot;).coordSysAxesInfo;if(null!=a&amp;&amp;null!=o&amp;&amp;null!=r){var s=e.getSeriesByIndex(a);if(s){if(&quot;axis&quot;===(t=ar([s.getData().getItemModel(o),s,(s.coordinateSystem||{}).model,t])).get(&quot;trigger&quot;))return i.dispatchAction({type:&quot;updateAxisPointer&quot;,seriesIndex:a,dataIndex:o,position:n.position}),!0}}},_tryShow:function(t,e){var i=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var n=t.dataByCoordSys;n&amp;&amp;n.length?this._showAxisTooltip(n,t):i&amp;&amp;null!=i.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,i,e)):i&amp;&amp;i.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,i,e)):(this._lastDataByCoordSys=null,this._hide(e))}},_showOrMove:function(t,e){var i=t.get(&quot;showDelay&quot;);e=rl.bind(e,this),clearTimeout(this._showTimout),i&gt;0?this._showTimout=setTimeout(e,i):e()},_showAxisTooltip:function(t,e){var i=this._ecModel,n=this._tooltipModel,a=[e.offsetX,e.offsetY],o=[],r=[],s=ar([e.tooltipOption,n]);CM(t,function(t){CM(t.dataByAxis,function(t){var e=i.getComponent(t.axisDim+&quot;Axis&quot;,t.axisIndex),n=t.value,a=[];if(e&amp;&amp;null!=n){var s=zS.getValueLabel(n,e.axis,i,t.seriesDataIndices,t.valueLabelOpt);rl.each(t.seriesDataIndices,function(o){var l=i.getSeriesByIndex(o.seriesIndex),h=o.dataIndexInside,u=l&amp;&amp;l.getDataParams(h);u.axisDim=t.axisDim,u.axisIndex=t.axisIndex,u.axisType=t.axisType,u.axisId=t.axisId,u.axisValue=Rg.getAxisRawValue(e.axis,n),u.axisValueLabel=s,u&amp;&amp;(r.push(u),a.push(l.formatTooltip(h,!0)))});var l=s;o.push((l?Eu.encodeHTML(l)+&quot;&lt;br /&gt;&quot;:&quot;&quot;)+a.join(&quot;&lt;br /&gt;&quot;))}})},this),o.reverse(),o=o.join(&quot;&lt;br /&gt;&lt;br /&gt;&quot;);var l=e.position;this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(s,l,a[0],a[1],this._tooltipContent,r):this._showTooltipContent(s,o,r,Math.random(),a[0],a[1],l)})},_showSeriesItemTooltip:function(t,e,i){var n=this._ecModel,a=e.seriesIndex,o=n.getSeriesByIndex(a),r=e.dataModel||o,s=e.dataIndex,l=e.dataType,h=r.getData(),u=ar([h.getItemModel(s),r,o&amp;&amp;(o.coordinateSystem||{}).model,this._tooltipModel]),c=u.get(&quot;trigger&quot;);if(null==c||&quot;item&quot;===c){var d=r.getDataParams(s,l),p=r.formatTooltip(s,!1,l),f=&quot;item_&quot;+r.name+&quot;_&quot;+s;this._showOrMove(u,function(){this._showTooltipContent(u,p,d,f,t.offsetX,t.offsetY,t.position,t.target)}),i({type:&quot;showTip&quot;,dataIndexInside:s,dataIndex:h.getRawIndex(s),seriesIndex:a,from:this.uid})}},_showComponentItemTooltip:function(t,e,i){var n=e.tooltip;if(&quot;string&quot;==typeof n){var a=n;n={content:a,formatter:a}}var o=new _p(n,this._tooltipModel,this._ecModel),r=o.get(&quot;content&quot;),s=Math.random();this._showOrMove(o,function(){this._showTooltipContent(o,r,o.get(&quot;formatterParams&quot;)||{},s,t.offsetX,t.offsetY,t.position,e)}),i({type:&quot;showTip&quot;,from:this.uid})},_showTooltipContent:function(t,e,i,n,a,o,r,s){if(this._ticket=&quot;&quot;,t.get(&quot;showContent&quot;)&amp;&amp;t.get(&quot;show&quot;)){var l=this._tooltipContent,h=t.get(&quot;formatter&quot;);r=r||t.get(&quot;position&quot;);var u=e;if(h&amp;&amp;&quot;string&quot;==typeof h)u=Eu.formatTpl(h,i,!0);else if(&quot;function&quot;==typeof h){var c=AM(function(e,n){e===this._ticket&amp;&amp;(l.setContent(n),this._updatePosition(t,r,a,o,l,i,s))},this);this._ticket=n,u=h(i,n,c)}l.setContent(u),l.show(t),this._updatePosition(t,r,a,o,l,i,s)}},_updatePosition:function(t,e,i,n,a,o,r){var s=this._api.getWidth(),l=this._api.getHeight();e=e||t.get(&quot;position&quot;);var h=a.getSize(),u=t.get(&quot;align&quot;),c=t.get(&quot;verticalAlign&quot;),d=r&amp;&amp;r.getBoundingRect().clone();if(r&amp;&amp;d.applyTransform(r.transform),&quot;function&quot;==typeof e&amp;&amp;(e=e([i,n],o,a.el,d,{viewSize:[s,l],contentSize:h.slice()})),rl.isArray(e))i=LM(e[0],s),n=LM(e[1],l);else if(rl.isObject(e)){e.width=h[0],e.height=h[1];var p=Np.getLayoutRect(e,{width:s,height:l});i=p.x,n=p.y,u=null,c=null}else if(&quot;string&quot;==typeof e&amp;&amp;r){f=function(t,e,i){var n=i[0],a=i[1],o=0,r=0,s=e.width,l=e.height;switch(t){case&quot;inside&quot;:o=e.x+s/2-n/2,r=e.y+l/2-a/2;break;case&quot;top&quot;:o=e.x+s/2-n/2,r=e.y-a-5;break;case&quot;bottom&quot;:o=e.x+s/2-n/2,r=e.y+l+5;break;case&quot;left&quot;:o=e.x-n-5,r=e.y+l/2-a/2;break;case&quot;right&quot;:o=e.x+s+5,r=e.y+l/2-a/2}return[o,r]}(e,d,h);i=f[0],n=f[1]}else{f=function(t,e,i,n,a,o,r){var s=rr(i),l=s.width,h=s.height;return null!=o&amp;&amp;(t+l+o&gt;n?t-=l+o:t+=o),null!=r&amp;&amp;(e+h+r&gt;a?e-=h+r:e+=r),[t,e]}(i,n,a.el,s,l,u?null:20,c?null:20);i=f[0],n=f[1]}if(u&amp;&amp;(i-=sr(u)?h[0]/2:&quot;right&quot;===u?h[0]:0),c&amp;&amp;(n-=sr(c)?h[1]/2:&quot;bottom&quot;===c?h[1]:0),t.get(&quot;confine&quot;)){var f=function(t,e,i,n,a){var o=rr(i),r=o.width,s=o.height;return t=Math.min(t+r,n)-r,e=Math.min(e+s,a)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}(i,n,a.el,s,l);i=f[0],n=f[1]}a.moveTo(i,n)},_updateContentNotChangedOnAxis:function(t){var e=this._lastDataByCoordSys,i=!!e&amp;&amp;e.length===t.length;return i&amp;&amp;CM(e,function(e,n){var a=e.dataByAxis||{},o=(t[n]||{}).dataByAxis||[];(i&amp;=a.length===o.length)&amp;&amp;CM(a,function(t,e){var n=o[e]||{},a=t.seriesDataIndices||[],r=n.seriesDataIndices||[];(i&amp;=t.value===n.value&amp;&amp;t.axisType===n.axisType&amp;&amp;t.axisId===n.axisId&amp;&amp;a.length===r.length)&amp;&amp;CM(a,function(t,e){var n=r[e];i&amp;=t.seriesIndex===n.seriesIndex&amp;&amp;t.dataIndex===n.dataIndex})})}),this._lastDataByCoordSys=t,!!i},_hide:function(t){this._lastDataByCoordSys=null,t({type:&quot;hideTip&quot;,from:this.uid})},dispose:function(t,e){Us.node||(this._tooltipContent.hide(),CS.unregister(&quot;itemTooltip&quot;,e))}});ym.registerAction({type:&quot;showTip&quot;,event:&quot;showTip&quot;,update:&quot;tooltip:manuallyShowTip&quot;},function(){}),ym.registerAction({type:&quot;hideTip&quot;,event:&quot;hideTip&quot;,update:&quot;tooltip:manuallyHideTip&quot;},function(){});var PM=Pu.parsePercent,kM=function(t,e,i){var n=i.getWidth(),a=i.getHeight(),o={},r={},s=function(t,e){var i={};rl.each(t,function(t,e){var n=t.getData(),a=t.coordinateSystem.getBaseAxis(),o=a.getExtent(),r=&quot;category&quot;===a.type?a.getBandWidth():Math.abs(o[1]-o[0])/n.count(),s=i[hr(a)]||{bandWidth:r,remainedWidth:r,autoWidthCount:0,categoryGap:&quot;20%&quot;,gap:&quot;30%&quot;,stacks:{}},l=s.stacks;i[hr(a)]=s;var h=lr(t);l[h]||s.autoWidthCount++,l[h]=l[h]||{width:0,maxWidth:0};var u=PM(t.get(&quot;barWidth&quot;),r),c=PM(t.get(&quot;barMaxWidth&quot;),r),d=t.get(&quot;barGap&quot;),p=t.get(&quot;barCategoryGap&quot;);u&amp;&amp;!l[h].width&amp;&amp;(u=Math.min(s.remainedWidth,u),l[h].width=u,s.remainedWidth-=u),c&amp;&amp;(l[h].maxWidth=c),null!=d&amp;&amp;(s.gap=d),null!=p&amp;&amp;(s.categoryGap=p)});var n={};return rl.each(i,function(t,e){n[e]={};var i=t.stacks,a=t.bandWidth,o=PM(t.categoryGap,a),r=PM(t.gap,1),s=t.remainedWidth,l=t.autoWidthCount,h=(s-o)/(l+(l-1)*r);h=Math.max(h,0),rl.each(i,function(t,e){var i=t.maxWidth;i&amp;&amp;i&lt;h&amp;&amp;(i=Math.min(i,s),t.width&amp;&amp;(i=Math.min(i,t.width)),s-=i,t.width=i,l--)}),h=(s-o)/(l+(l-1)*r),h=Math.max(h,0);var u,c=0;rl.each(i,function(t,e){t.width||(t.width=h),u=t,c+=t.width*(1+r)}),u&amp;&amp;(c-=u.width*r);var d=-c/2;rl.each(i,function(t,i){n[e][i]=n[e][i]||{offset:d,width:t.width},d+=t.width*(1+r)})}),n}(rl.filter(e.getSeriesByType(t),function(t){return!e.isSeriesFiltered(t)&amp;&amp;t.coordinateSystem&amp;&amp;&quot;polar&quot;===t.coordinateSystem.type}));e.eachSeriesByType(t,function(t){if(&quot;polar&quot;===t.coordinateSystem.type){var e=t.getData(),i=t.coordinateSystem,l=i.getAngleAxis(),h=i.getBaseAxis(),u=lr(t),c=s[hr(h)][u],d=c.offset,p=c.width,f=i.getOtherAxis(h),g=t.get(&quot;center&quot;)||[&quot;50%&quot;,&quot;50%&quot;],m=PM(g[0],n),v=PM(g[1],a),y=t.get(&quot;barMinHeight&quot;)||0,x=t.get(&quot;barMinAngle&quot;)||0,_=f.getExtent()[0],b=f.model.get(&quot;max&quot;),w=f.model.get(&quot;min&quot;),S=[t.coordDimToDataDim(&quot;radius&quot;)[0],t.coordDimToDataDim(&quot;angle&quot;)[0]],M=e.mapArray(S,function(t,e){return i.dataToPoint([t,e])},!0);o[u]=o[u]||[],r[u]=r[u]||[],e.each(t.coordDimToDataDim(f.dim)[0],function(t,n){if(!isNaN(t)){o[u][n]||(o[u][n]={p:_,n:_},r[u][n]={p:_,n:_});var a,s,h,c,g=t&gt;=0?&quot;p&quot;:&quot;n&quot;,S=i.pointToCoord(M[n]),I=r[u][n][g];if(&quot;radius&quot;===f.dim)a=I,s=S[0],c=(h=(-S[1]+d)*Math.PI/180)+p*Math.PI/180,Math.abs(s)&lt;y&amp;&amp;(s=a+(s&lt;0?-1:1)*y),r[u][n][g]=s;else{s=(a=S[0]+d)+p,null!=b&amp;&amp;(t=Math.min(t,b)),null!=w&amp;&amp;(t=Math.max(t,w));var T=l.dataToAngle(t);Math.abs(T-I)&lt;x&amp;&amp;(T=I-(t&lt;0?-1:1)*x),h=-I*Math.PI/180,c=-T*Math.PI/180;var A=l.getExtent(),C=T;C===A[0]&amp;&amp;t&gt;0?C=A[1]:C===A[1]&amp;&amp;t&lt;0&amp;&amp;(C=A[0]),r[u][n][g]=C}e.setItemLayout(n,{cx:m,cy:v,r0:a,r:s,startAngle:h,endAngle:c})}},!0)}},this)};ur.prototype={constructor:ur,pointToData:function(t,e){return this.polar.pointToData(t,e)[&quot;radius&quot;===this.dim?0:1]},dataToRadius:Kg.prototype.dataToCoord,radiusToData:Kg.prototype.coordToData},rl.inherits(ur,Kg);var OM=ur;cr.prototype={constructor:cr,pointToData:function(t,e){return this.polar.pointToData(t,e)[&quot;radius&quot;===this.dim?0:1]},dataToAngle:Kg.prototype.dataToCoord,angleToData:Kg.prototype.coordToData},rl.inherits(cr,Kg);var zM=cr,EM=function(t){this.name=t||&quot;&quot;,this.cx=0,this.cy=0,this._radiusAxis=new OM,this._angleAxis=new zM,this._radiusAxis.polar=this._angleAxis.polar=this};EM.prototype={type:&quot;polar&quot;,axisPointerEnabled:!0,constructor:EM,dimensions:[&quot;radius&quot;,&quot;angle&quot;],model:null,containPoint:function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&amp;&amp;this._angleAxis.contain(e[1])},containData:function(t){return this._radiusAxis.containData(t[0])&amp;&amp;this._angleAxis.containData(t[1])},getAxis:function(t){return this[&quot;_&quot;+t+&quot;Axis&quot;]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(t){var e=[],i=this._angleAxis,n=this._radiusAxis;return i.scale.type===t&amp;&amp;e.push(i),n.scale.type===t&amp;&amp;e.push(n),e},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},getBaseAxis:function(){return this.getAxesByScale(&quot;ordinal&quot;)[0]||this.getAxesByScale(&quot;time&quot;)[0]||this.getAngleAxis()},getTooltipAxes:function(t){var e=null!=t&amp;&amp;&quot;auto&quot;!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},dataToPoint:function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},pointToData:function(t,e){var i=this.pointToCoord(t);return[this._radiusAxis.radiusToData(i[0],e),this._angleAxis.angleToData(i[1],e)]},pointToCoord:function(t){var e=t[0]-this.cx,i=t[1]-this.cy,n=this.getAngleAxis(),a=n.getExtent(),o=Math.min(a[0],a[1]),r=Math.max(a[0],a[1]);n.inverse?o=r-360:r=o+360;var s=Math.sqrt(e*e+i*i);e/=s,i/=s;for(var l=Math.atan2(-i,e)/Math.PI*180,h=l&lt;o?1:-1;l&lt;o||l&gt;r;)l+=360*h;return[s,l]},coordToPoint:function(t){var e=t[0],i=t[1]/180*Math.PI;return[Math.cos(i)*e+this.cx,-Math.sin(i)*e+this.cy]}};var RM=EM,NM=Hp.extend({type:&quot;polarAxis&quot;,axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:&quot;polar&quot;,index:this.option.polarIndex,id:this.option.polarId})[0]}});rl.merge(NM.prototype,Ng);var VM={angle:{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{splitNumber:5}};ov(&quot;angle&quot;,NM,dr,VM.angle),ov(&quot;radius&quot;,NM,dr,VM.radius);ym.extendComponentModel({type:&quot;polar&quot;,dependencies:[&quot;polarAxis&quot;,&quot;angleAxis&quot;],coordinateSystem:null,findAxisModel:function(t){var e;return this.ecModel.eachComponent(t,function(t){t.getCoordSysModel()===this&amp;&amp;(e=t)},this),e},defaultOption:{zlevel:0,z:0,center:[&quot;50%&quot;,&quot;50%&quot;],radius:&quot;80%&quot;}});var BM=Pu.parsePercent,GM=Rg.createScaleByModel,HM=Rg.niceScaleExtent,WM={dimensions:RM.prototype.dimensions,create:function(t,e){var i=[];return t.eachComponent(&quot;polar&quot;,function(t,n){var a=new RM(n);a.update=function(t,e){var i=this,n=i.getAngleAxis(),a=i.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),a.scale.setExtent(1/0,-1/0),t.eachSeries(function(t){if(t.coordinateSystem===i){var e=t.getData();a.scale.unionExtentFromData(e,&quot;radius&quot;),n.scale.unionExtentFromData(e,&quot;angle&quot;)}}),HM(n.scale,n.model),HM(a.scale,a.model),&quot;category&quot;===n.type&amp;&amp;!n.onBand){var o=n.getExtent(),r=360/n.scale.count();n.inverse?o[1]+=r:o[1]-=r,n.setExtent(o[0],o[1])}};var o=a.getRadiusAxis(),r=a.getAngleAxis(),s=t.findAxisModel(&quot;radiusAxis&quot;),l=t.findAxisModel(&quot;angleAxis&quot;);pr(o,s),pr(r,l),function(t,e,i){var n=e.get(&quot;center&quot;),a=i.getWidth(),o=i.getHeight();t.cx=BM(n[0],a),t.cy=BM(n[1],o);var r=t.getRadiusAxis(),s=Math.min(a,o)/2,l=BM(e.get(&quot;radius&quot;),s);r.inverse?r.setExtent(l,0):r.setExtent(0,l)}(a,t,e),i.push(a),t.coordinateSystem=a,a.model=t}),t.eachSeries(function(e){if(&quot;polar&quot;===e.get(&quot;coordinateSystem&quot;)){var i=t.queryComponents({mainType:&quot;polar&quot;,index:e.get(&quot;polarIndex&quot;),id:e.get(&quot;polarId&quot;)})[0];e.coordinateSystem=i.coordinateSystem}}),i}};rf.register(&quot;polar&quot;,WM);var FM=[&quot;axisLine&quot;,&quot;axisLabel&quot;,&quot;axisTick&quot;,&quot;splitLine&quot;,&quot;splitArea&quot;],ZM=(zv.extend({type:&quot;angleAxis&quot;,axisPointerClass:&quot;PolarAxisPointer&quot;,render:function(t,e){if(this.group.removeAll(),t.get(&quot;show&quot;)){var i=t.axis,n=i.polar,a=n.getRadiusAxis().getExtent(),o=i.getTicksCoords();&quot;category&quot;!==i.type&amp;&amp;o.pop(),rl.each(FM,function(e){!t.get(e+&quot;.show&quot;)||i.scale.isBlank()&amp;&amp;&quot;axisLine&quot;!==e||this[&quot;_&quot;+e](t,n,o,a)},this)}},_axisLine:function(t,e,i,n){var a=t.getModel(&quot;axisLine.lineStyle&quot;),o=new fp.Circle({shape:{cx:e.cx,cy:e.cy,r:n[gr(e)]},style:a.getLineStyle(),z2:1,silent:!0});o.style.fill=null,this.group.add(o)},_axisTick:function(t,e,i,n){var a=t.getModel(&quot;axisTick&quot;),o=(a.get(&quot;inside&quot;)?-1:1)*a.get(&quot;length&quot;),r=n[gr(e)],s=rl.map(i,function(t){return new fp.Line({shape:fr(e,[r,r+o],t)})});this.group.add(fp.mergePath(s,{style:rl.defaults(a.getModel(&quot;lineStyle&quot;).getLineStyle(),{stroke:t.get(&quot;axisLine.lineStyle.color&quot;)})}))},_axisLabel:function(t,e,i,n){for(var a=t.axis,o=t.get(&quot;data&quot;),r=t.getModel(&quot;axisLabel&quot;),s=t.getFormattedLabels(),l=r.get(&quot;margin&quot;),h=a.getLabelsCoords(),u=0;u&lt;i.length;u++){var c=n[gr(e)],d=e.coordToPoint([c+l,h[u]]),p=e.cx,f=e.cy,g=Math.abs(d[0]-p)/c&lt;.3?&quot;center&quot;:d[0]&gt;p?&quot;left&quot;:&quot;right&quot;,m=Math.abs(d[1]-f)/c&lt;.3?&quot;middle&quot;:d[1]&gt;f?&quot;top&quot;:&quot;bottom&quot;;o&amp;&amp;o[u]&amp;&amp;o[u].textStyle&amp;&amp;(r=new _p(o[u].textStyle,r,r.ecModel));var v=new fp.Text({silent:!0});this.group.add(v),fp.setTextStyle(v.style,r,{x:d[0],y:d[1],textFill:r.getTextColor()||t.get(&quot;axisLine.lineStyle.color&quot;),text:s[u],textAlign:g,textVerticalAlign:m})}},_splitLine:function(t,e,i,n){var a=t.getModel(&quot;splitLine&quot;).getModel(&quot;lineStyle&quot;),o=a.get(&quot;color&quot;),r=0;o=o instanceof Array?o:[o];for(var s=[],l=0;l&lt;i.length;l++){var h=r++%o.length;s[h]=s[h]||[],s[h].push(new fp.Line({shape:fr(e,n,i[l])}))}for(l=0;l&lt;s.length;l++)this.group.add(fp.mergePath(s[l],{style:rl.defaults({stroke:o[l%o.length]},a.getLineStyle()),silent:!0,z:t.get(&quot;z&quot;)}))},_splitArea:function(t,e,i,n){var a=t.getModel(&quot;splitArea&quot;).getModel(&quot;areaStyle&quot;),o=a.get(&quot;color&quot;),r=0;o=o instanceof Array?o:[o];for(var s=[],l=Math.PI/180,h=-i[0]*l,u=Math.min(n[0],n[1]),c=Math.max(n[0],n[1]),d=t.get(&quot;clockwise&quot;),p=1;p&lt;i.length;p++){var f=r++%o.length;s[f]=s[f]||[],s[f].push(new fp.Sector({shape:{cx:e.cx,cy:e.cy,r0:u,r:c,startAngle:h,endAngle:-i[p]*l,clockwise:d},silent:!0})),h=-i[p]*l}for(p=0;p&lt;s.length;p++)this.group.add(fp.mergePath(s[p],{style:rl.defaults({fill:o[p%o.length]},a.getAreaStyle()),silent:!0}))}}),[&quot;axisLine&quot;,&quot;axisTickLabel&quot;,&quot;axisName&quot;]),jM=[&quot;splitLine&quot;,&quot;splitArea&quot;],UM=(zv.extend({type:&quot;radiusAxis&quot;,axisPointerClass:&quot;PolarAxisPointer&quot;,render:function(t,e){if(this.group.removeAll(),t.get(&quot;show&quot;)){var i=t.axis,n=i.polar,a=n.getAngleAxis(),o=i.getTicksCoords(),r=a.getExtent()[0],s=i.getExtent(),l=function(t,e,i){return{position:[t.cx,t.cy],rotation:i/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel(&quot;axisLabel&quot;).get(&quot;rotate&quot;),z2:1}}(n,t,r),h=new Cv(t,l);rl.each(ZM,h.add,h),this.group.add(h.getGroup()),rl.each(jM,function(e){t.get(e+&quot;.show&quot;)&amp;&amp;!i.scale.isBlank()&amp;&amp;this[&quot;_&quot;+e](t,n,r,s,o)},this)}},_splitLine:function(t,e,i,n,a){var o=t.getModel(&quot;splitLine&quot;).getModel(&quot;lineStyle&quot;),r=o.get(&quot;color&quot;),s=0;r=r instanceof Array?r:[r];for(var l=[],h=0;h&lt;a.length;h++){var u=s++%r.length;l[u]=l[u]||[],l[u].push(new fp.Circle({shape:{cx:e.cx,cy:e.cy,r:a[h]},silent:!0}))}for(h=0;h&lt;l.length;h++)this.group.add(fp.mergePath(l[h],{style:rl.defaults({stroke:r[h%r.length],fill:null},o.getLineStyle()),silent:!0}))},_splitArea:function(t,e,i,n,a){var o=t.getModel(&quot;splitArea&quot;).getModel(&quot;areaStyle&quot;),r=o.get(&quot;color&quot;),s=0;r=r instanceof Array?r:[r];for(var l=[],h=a[0],u=1;u&lt;a.length;u++){var c=s++%r.length;l[c]=l[c]||[],l[c].push(new fp.Sector({shape:{cx:e.cx,cy:e.cy,r0:h,r:a[u],startAngle:0,endAngle:2*Math.PI},silent:!0})),h=a[u]}for(u=0;u&lt;l.length;u++)this.group.add(fp.mergePath(l[u],{style:rl.defaults({fill:r[u%r.length]},o.getAreaStyle()),silent:!0}))}}),OS.extend({makeElOption:function(t,e,i,n,a){var o=i.axis;&quot;angle&quot;===o.dim&amp;&amp;(this.animationThreshold=Math.PI/18);var r,s=o.polar,l=s.getOtherAxis(o).getExtent();r=o[&quot;dataTo&quot;+Eu.capitalFirst(o.dim)](e);var h=n.get(&quot;type&quot;);if(h&amp;&amp;&quot;none&quot;!==h){var u=zS.buildElStyle(n),c=qM[h](o,s,r,l,u);c.style=u,t.graphicKey=c.type,t.pointer=c}var d=function(t,e,i,n,a){var o=e.axis,r=o.dataToCoord(t),s=n.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l,h,u,c=n.getRadiusAxis().getExtent();if(&quot;radius&quot;===o.dim){var d=yl.create();yl.rotate(d,d,s),yl.translate(d,d,[n.cx,n.cy]),l=fp.applyTransform([r,-a],d);var p=e.getModel(&quot;axisLabel&quot;).get(&quot;rotate&quot;)||0,f=Cv.innerTextLayout(s,p*Math.PI/180,-1);h=f.textAlign,u=f.textVerticalAlign}else{var g=c[1];l=n.coordToPoint([g+a,r]);var m=n.cx,v=n.cy;h=Math.abs(l[0]-m)/g&lt;.3?&quot;center&quot;:l[0]&gt;m?&quot;left&quot;:&quot;right&quot;,u=Math.abs(l[1]-v)/g&lt;.3?&quot;middle&quot;:l[1]&gt;v?&quot;top&quot;:&quot;bottom&quot;}return{position:l,align:h,verticalAlign:u}}(e,i,0,s,n.get(&quot;label.margin&quot;));zS.buildLabelElOption(t,i,n,a,d)}})),qM={line:function(t,e,i,n,a){return&quot;angle&quot;===t.dim?{type:&quot;Line&quot;,shape:zS.makeLineShape(e.coordToPoint([n[0],i]),e.coordToPoint([n[1],i]))}:{type:&quot;Circle&quot;,shape:{cx:e.cx,cy:e.cy,r:i}}},shadow:function(t,e,i,n,a){var o=t.getBandWidth(),r=Math.PI/180;return&quot;angle&quot;===t.dim?{type:&quot;Sector&quot;,shape:zS.makeSectorShape(e.cx,e.cy,n[0],n[1],(-i-o/2)*r,(o/2-i)*r)}:{type:&quot;Sector&quot;,shape:zS.makeSectorShape(e.cx,e.cy,i-o/2,i+o/2,0,2*Math.PI)}}};zv.registerAxisPointerClass(&quot;PolarAxisPointer&quot;,UM);ym.registerLayout(rl.curry(kM,&quot;bar&quot;)),ym.extendComponentView({type:&quot;polar&quot;});var XM=Hp.extend({type:&quot;geo&quot;,coordinateSystem:null,layoutMode:&quot;box&quot;,init:function(t){Hp.prototype.init.apply(this,arguments),Ip.defaultEmphasis(t.label,[&quot;show&quot;])},optionUpdated:function(){var t=this.option,e=this;t.regions=Ry.getFilledRegions(t.regions,t.map,t.nameMap),this._optionModelMap=rl.reduce(t.regions||[],function(t,i){return i.name&amp;&amp;t.set(i.name,new _p(i,e)),t},rl.createHashMap()),this.updateSelectedMap(t.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:&quot;center&quot;,top:&quot;center&quot;,aspectScale:.75,silent:!1,map:&quot;&quot;,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,color:&quot;#000&quot;},emphasis:{show:!0,color:&quot;rgb(100,0,0)&quot;}},itemStyle:{normal:{borderWidth:.5,borderColor:&quot;#444&quot;,color:&quot;#eee&quot;},emphasis:{color:&quot;rgba(255,215,0,0.8)&quot;}},regions:[]},getRegionModel:function(t){return this._optionModelMap.get(t)||new _p(null,this,this.ecModel)},getFormattedLabel:function(t,e){var i=this.getRegionModel(t).get(&quot;label.&quot;+e+&quot;.formatter&quot;),n={name:t};return&quot;function&quot;==typeof i?(n.status=e,i(n)):&quot;string&quot;==typeof i?i.replace(&quot;{a}&quot;,null!=t?t:&quot;&quot;):void 0},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t}});rl.mixin(XM,Jv);ym.extendComponentView({type:&quot;geo&quot;,init:function(t,e){var i=new qy(e,!0);this._mapDraw=i,this.group.add(i.group)},render:function(t,e,i,n){if(!n||&quot;geoToggleSelect&quot;!==n.type||n.from!==this.uid){var a=this._mapDraw;t.get(&quot;show&quot;)?a.draw(t,e,i,this,n):this._mapDraw.group.removeAll(),this.group.silent=t.get(&quot;silent&quot;)}},dispose:function(){this._mapDraw&amp;&amp;this._mapDraw.remove()}});mr(&quot;toggleSelected&quot;,{type:&quot;geoToggleSelect&quot;,event:&quot;geoselectchanged&quot;}),mr(&quot;select&quot;,{type:&quot;geoSelect&quot;,event:&quot;geoselected&quot;}),mr(&quot;unSelect&quot;,{type:&quot;geoUnSelect&quot;,event:&quot;geounselected&quot;});var YM=[&quot;rect&quot;,&quot;polygon&quot;,&quot;keep&quot;,&quot;clear&quot;],$M=function(t,e){var i=t&amp;&amp;t.brush;if(rl.isArray(i)||(i=i?[i]:[]),i.length){var n=[];rl.each(i,function(t){var e=t.hasOwnProperty(&quot;toolbox&quot;)?t.toolbox:[];e instanceof Array&amp;&amp;(n=n.concat(e))});var a=t&amp;&amp;t.toolbox;rl.isArray(a)&amp;&amp;(a=a[0]),a||(a={feature:{}},t.toolbox=[a]);var o=a.feature||(a.feature={}),r=o.brush||(o.brush={}),s=r.type||(r.type=[]);s.push.apply(s,n),function(t){var e={};rl.each(t,function(t){e[t]=1}),t.length=0,rl.each(e,function(e,i){t.push(i)})}(s),e&amp;&amp;!s.length&amp;&amp;s.push.apply(s,YM)}},KM=rl.each,JM={createVisualMappings:function(t,e,i){var n={};return KM(e,function(e){var a=n[e]=function(){var t=function(){};return t.prototype.__hidden=t.prototype,new t}();KM(t[e],function(t,n){if(Kx.isValidType(n)){var o={type:n,visual:t};i&amp;&amp;i(o,e),a[n]=new Kx(o),&quot;opacity&quot;===n&amp;&amp;((o=rl.clone(o)).type=&quot;colorAlpha&quot;,a.__hidden.__alphaForOpacity=new Kx(o))}})}),n},replaceVisualOption:function(t,e,i){var n;rl.each(i,function(t){e.hasOwnProperty(t)&amp;&amp;vr(e[t])&amp;&amp;(n=!0)}),n&amp;&amp;rl.each(i,function(i){e.hasOwnProperty(i)&amp;&amp;vr(e[i])?t[i]=rl.clone(e[i]):delete t[i]})},applyVisual:function(t,e,i,n,a,o){function r(t,r){l=null==o?t:r;var h=i.getRawDataItem(l);if(!h||!1!==h.visualMap)for(var u=n.call(a,t),c=e[u],d=s[u],p=0,f=d.length;p&lt;f;p++){var g=d[p];c[g]&amp;&amp;c[g].applyVisual(t,function(t){return i.getItemVisual(l,t)},function(t,e){i.setItemVisual(l,t,e)})}}var s={};rl.each(t,function(t){var i=Kx.prepareVisualTypes(e[t]);s[t]=i});var l;null==o?i.each(r,!0):i.each([o],r,!0)}},QM={lineX:yr(0),lineY:yr(1),rect:{point:function(t,e,i){return t&amp;&amp;i.boundingRect.contain(t[0],t[1])},rect:function(t,e,i){return t&amp;&amp;i.boundingRect.intersect(t)}},polygon:{point:function(t,e,i){return t&amp;&amp;i.boundingRect.contain(t[0],t[1])&amp;&amp;Qg.contain(i.range,t[0],t[1])},rect:function(t,e,i){var n=i.range;if(!t||n.length&lt;=1)return!1;var a=t.x,o=t.y,r=t.width,s=t.height,l=n[0];return!!(Qg.contain(n,a,o)||Qg.contain(n,a+r,o)||Qg.contain(n,a,o+s)||Qg.contain(n,a+r,o+s)||oh.create(t).contain(l[0],l[1])||_r(a,o,a+r,o,n)||_r(a,o,a,o+s,n)||_r(a+r,o,a+r,o+s,n)||_r(a,o+s,a+r,o+s,n))||void 0}}},tI=rl.each,eI=rl.indexOf,iI=rl.curry,nI=[&quot;dataToPoint&quot;,&quot;pointToData&quot;],aI=[&quot;grid&quot;,&quot;xAxis&quot;,&quot;yAxis&quot;,&quot;geo&quot;,&quot;graph&quot;,&quot;polar&quot;,&quot;radiusAxis&quot;,&quot;angleAxis&quot;,&quot;bmap&quot;],oI=wr.prototype;oI.setOutputRanges=function(t,e){this.matchOutputRanges(t,e,function(t,e,i){if((t.coordRanges||(t.coordRanges=[])).push(e),!t.coordRange){t.coordRange=e;var n=hI[t.brushType](0,i,e);t.__rangeOffset={offset:uI[t.brushType](n.values,t.range,[1,1]),xyMinMax:n.xyMinMax}}})},oI.matchOutputRanges=function(t,e,i){tI(t,function(t){var n=this.findTargetInfo(t,e);n&amp;&amp;!0!==n&amp;&amp;rl.each(n.coordSyses,function(n){var a=hI[t.brushType](1,n,t.range);i(t,a.values,n,e)})},this)},oI.setInputRanges=function(t,e){tI(t,function(t){var i=this.findTargetInfo(t,e);if(t.range=t.range||[],i&amp;&amp;!0!==i){t.panelId=i.panelId;var n=hI[t.brushType](0,i.coordSys,t.coordRange),a=t.__rangeOffset;t.range=a?uI[t.brushType](n.values,a.offset,function(t,e){var i=Ar(t),n=Ar(e),a=[i[0]/n[0],i[1]/n[1]];return isNaN(a[0])&amp;&amp;(a[0]=1),isNaN(a[1])&amp;&amp;(a[1]=1),a}(n.xyMinMax,a.xyMinMax)):n.values}},this)},oI.makePanelOpts=function(t,e){return rl.map(this._targetInfoList,function(i){var n=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:e&amp;&amp;e(i),clipPath:qb.makeRectPanelClipPath(n),isTargetByCursor:qb.makeRectIsTargetByCursor(n,t,i.coordSysModel),getLinearBrushOtherExtent:qb.makeLinearBrushOtherExtent(n)}})},oI.controlSeries=function(t,e,i){var n=this.findTargetInfo(t,i);return!0===n||n&amp;&amp;eI(n.coordSyses,e.coordinateSystem)&gt;=0},oI.findTargetInfo=function(t,e){for(var i=this._targetInfoList,n=Mr(e,t),a=0;a&lt;i.length;a++){var o=i[a],r=t.panelId;if(r){if(o.panelId===r)return o}else for(a=0;a&lt;sI.length;a++)if(sI[a](n,o))return o}return!0};var rI={grid:function(t,e){var i=t.xAxisModels,n=t.yAxisModels,a=t.gridModels,o=rl.createHashMap(),r={},s={};(i||n||a)&amp;&amp;(tI(i,function(t){var e=t.axis.grid.model;o.set(e.id,e),r[e.id]=!0}),tI(n,function(t){var e=t.axis.grid.model;o.set(e.id,e),s[e.id]=!0}),tI(a,function(t){o.set(t.id,t),r[t.id]=!0,s[t.id]=!0}),o.each(function(t){var a=t.coordinateSystem,o=[];tI(a.getCartesians(),function(t,e){(eI(i,t.getAxis(&quot;x&quot;).model)&gt;=0||eI(n,t.getAxis(&quot;y&quot;).model)&gt;=0)&amp;&amp;o.push(t)}),e.push({panelId:&quot;grid--&quot;+t.id,gridModel:t,coordSysModel:t,coordSys:o[0],coordSyses:o,getPanelRect:lI.grid,xAxisDeclared:r[t.id],yAxisDeclared:s[t.id]})}))},geo:function(t,e){tI(t.geoModels,function(t){var i=t.coordinateSystem;e.push({panelId:&quot;geo--&quot;+t.id,geoModel:t,coordSysModel:t,coordSys:i,coordSyses:[i],getPanelRect:lI.geo})})}},sI=[function(t,e){var i=t.xAxisModel,n=t.yAxisModel,a=t.gridModel;return!a&amp;&amp;i&amp;&amp;(a=i.axis.grid.model),!a&amp;&amp;n&amp;&amp;(a=n.axis.grid.model),a&amp;&amp;a===e.gridModel},function(t,e){var i=t.geoModel;return i&amp;&amp;i===e.geoModel}],lI={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(fp.getTransform(t)),e}},hI={lineX:iI(Ir,0),lineY:iI(Ir,1),rect:function(t,e,i){var n=e[nI[t]]([i[0][0],i[1][0]]),a=e[nI[t]]([i[0][1],i[1][1]]),o=[Sr([n[0],a[0]]),Sr([n[1],a[1]])];return{values:o,xyMinMax:o}},polygon:function(t,e,i){var n=[[1/0,-1/0],[1/0,-1/0]];return{values:rl.map(i,function(i){var a=e[nI[t]](i);return n[0][0]=Math.min(n[0][0],a[0]),n[1][0]=Math.min(n[1][0],a[1]),n[0][1]=Math.max(n[0][1],a[0]),n[1][1]=Math.max(n[1][1],a[1]),a}),xyMinMax:n}}},uI={lineX:iI(Tr,0),lineY:iI(Tr,1),rect:function(t,e,i){return[[t[0][0]-i[0]*e[0][0],t[0][1]-i[0]*e[0][1]],[t[1][0]-i[1]*e[1][0],t[1][1]-i[1]*e[1][1]]]},polygon:function(t,e,i){return rl.map(t,function(t,n){return[t[0]-i[0]*e[n][0],t[1]-i[1]*e[n][1]]})}},cI=wr,dI=[&quot;inBrush&quot;,&quot;outOfBrush&quot;],pI=&quot;__ecBrushSelect&quot;,fI=&quot;__ecInBrushSelectEvent&quot;,gI=ym.PRIORITY.VISUAL.BRUSH;ym.registerLayout(gI,function(t,e,i){t.eachComponent({mainType:&quot;brush&quot;},function(e){i&amp;&amp;&quot;takeGlobalCursor&quot;===i.type&amp;&amp;e.setBrushOption(&quot;brush&quot;===i.key?i.brushOption:{brushType:!1});(e.brushTargetManager=new cI(e.option,t)).setInputRanges(e.areas,t)})}),ym.registerVisual(gI,function(t,e,i){var n,a,o=[];t.eachComponent({mainType:&quot;brush&quot;},function(e,i){function r(t){return&quot;all&quot;===u||c[t]}function s(t){return!!t.length}var l={brushId:e.id,brushIndex:i,brushName:e.name,areas:rl.clone(e.areas),selected:[]};o.push(l);var h=e.option,u=h.brushLink,c=[],d=[],p=[],f=0;i||(n=h.throttleType,a=h.throttleDelay);var g=rl.map(e.areas,function(t){return function(t){var e=t.selectors={};return rl.each(QM[t.brushType],function(i,n){e[n]=function(n){return i(n,e,t)}}),t}(rl.defaults({boundingRect:mI[t.brushType](t)},t))}),m=JM.createVisualMappings(e.option,dI,function(t){t.mappingMethod=&quot;fixed&quot;});rl.isArray(u)&amp;&amp;rl.each(u,function(t){c[t]=1}),t.eachSeries(function(i,n){var a=p[n]=[];&quot;parallel&quot;===i.subType?function(t,e){var i=t.coordinateSystem;f|=i.hasAxisBrushed(),r(e)&amp;&amp;i.eachActiveState(t.getData(),function(t,e){&quot;active&quot;===t&amp;&amp;(d[e]=1)})}(i,n):function(i,n,a){var o=Lr(i);if(o&amp;&amp;!function(t,e){var i=t.option.seriesIndex;return null!=i&amp;&amp;&quot;all&quot;!==i&amp;&amp;(rl.isArray(i)?rl.indexOf(i,e)&lt;0:e!==i)}(e,n)&amp;&amp;(rl.each(g,function(n){o[n.brushType]&amp;&amp;e.brushTargetManager.controlSeries(n,i,t)&amp;&amp;a.push(n),f|=s(a)}),r(n)&amp;&amp;s(a))){var l=i.getData();l.each(function(t){Cr(o,a,l,t)&amp;&amp;(d[t]=1)})}}(i,n,a)}),t.eachSeries(function(t,e){var i={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};l.selected.push(i);var n=Lr(t),a=p[e],o=t.getData(),h=r(e)?function(t){return d[t]?(i.dataIndex.push(o.getRawIndex(t)),&quot;inBrush&quot;):&quot;outOfBrush&quot;}:function(t){return Cr(n,a,o,t)?(i.dataIndex.push(o.getRawIndex(t)),&quot;inBrush&quot;):&quot;outOfBrush&quot;};(r(e)?f:s(a))&amp;&amp;JM.applyVisual(dI,m,o,h)})}),function(t,e,i,n,a){if(a){var o=t.getZr();o[fI]||(o[pI]||(o[pI]=function(t,e){if(!t.isDisposed()){var i=t.getZr();i[fI]=!0,t.dispatchAction({type:&quot;brushSelect&quot;,batch:e}),i[fI]=!1}}),Ff.createOrUpdate(o,pI,i,e)(t,n))}}(e,n,a,o,i)});var mI={lineX:rl.noop,lineY:rl.noop,rect:function(t){return Dr(t.range)},polygon:function(t){for(var e,i=t.range,n=0,a=i.length;n&lt;a;n++){e=e||[[1/0,-1/0],[1/0,-1/0]];var o=i[n];o[0]&lt;e[0][0]&amp;&amp;(e[0][0]=o[0]),o[0]&gt;e[0][1]&amp;&amp;(e[0][1]=o[0]),o[1]&lt;e[1][0]&amp;&amp;(e[1][0]=o[1]),o[1]&gt;e[1][1]&amp;&amp;(e[1][1]=o[1])}return e&amp;&amp;Dr(e)}},vI=[&quot;#ddd&quot;];ym.extendComponentModel({type:&quot;brush&quot;,dependencies:[&quot;geo&quot;,&quot;grid&quot;,&quot;xAxis&quot;,&quot;yAxis&quot;,&quot;parallel&quot;,&quot;series&quot;],defaultOption:{toolbox:null,brushLink:null,seriesIndex:&quot;all&quot;,geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:&quot;rect&quot;,brushMode:&quot;single&quot;,transformable:!0,brushStyle:{borderWidth:1,color:&quot;rgba(120,140,180,0.3)&quot;,borderColor:&quot;rgba(120,140,180,0.8)&quot;},throttleType:&quot;fixRate&quot;,throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(t,e){var i=this.option;!e&amp;&amp;JM.replaceVisualOption(i,t,[&quot;inBrush&quot;,&quot;outOfBrush&quot;]),i.inBrush=i.inBrush||{},i.outOfBrush=i.outOfBrush||{color:vI}},setAreas:function(t){t&amp;&amp;(this.areas=rl.map(t,function(t){return Pr(this.option,t)},this))},setBrushOption:function(t){this.brushOption=Pr(this.option,t),this.brushType=this.brushOption.brushType}}),ym.extendComponentView({type:&quot;brush&quot;,init:function(t,e){this.ecModel=t,this.api=e,this.model,(this._brushController=new jb(e.getZr())).on(&quot;brush&quot;,rl.bind(this._onBrush,this)).mount()},render:function(t){return this.model=t,kr.apply(this,arguments)},updateView:kr,updateLayout:kr,updateVisual:kr,dispose:function(){this._brushController.dispose()},_onBrush:function(t,e){var i=this.model.id;this.model.brushTargetManager.setOutputRanges(t,this.ecModel),(!e.isEnd||e.removeOnClick)&amp;&amp;this.api.dispatchAction({type:&quot;brush&quot;,brushId:i,areas:rl.clone(t),$from:i})}});ym.registerAction({type:&quot;brush&quot;,event:&quot;brush&quot;,update:&quot;updateView&quot;},function(t,e){e.eachComponent({mainType:&quot;brush&quot;,query:t},function(e){e.setAreas(t.areas)})}),ym.registerAction({type:&quot;brushSelect&quot;,event:&quot;brushSelected&quot;,update:&quot;none&quot;},function(){});var yI={},xI={register:function(t,e){yI[t]=e},get:function(t){return yI[t]}},_I={toolbox:{brush:{title:{rect:&quot;ç©å½¢éæ©&quot;,polygon:&quot;åé&quot;,lineX:&quot;æ¨ªåéæ©&quot;,lineY:&quot;çºµåéæ©&quot;,keep:&quot;ä¿æéæ©&quot;,clear:&quot;æ¸é¤éæ©&quot;}},dataView:{title:&quot;æ°æ®è§å¾&quot;,lang:[&quot;æ°æ®è§å¾&quot;,&quot;å³é­&quot;,&quot;å·æ°&quot;]},dataZoom:{title:{zoom:&quot;åºåç¼©æ¾&quot;,back:&quot;åºåç¼©æ¾è¿å&quot;}},magicType:{title:{line:&quot;åæ¢ä¸ºæçº¿å¾&quot;,bar:&quot;åæ¢ä¸ºæ±ç¶å¾&quot;,stack:&quot;åæ¢ä¸ºå å &quot;,tiled:&quot;åæ¢ä¸ºå¹³éº&quot;}},restore:{title:&quot;è¿å&quot;},saveAsImage:{title:&quot;ä¿å­ä¸ºå¾ç&quot;,lang:[&quot;å³é®å¦å­ä¸ºå¾ç&quot;]}}},bI=_I.toolbox.brush;Or.defaultOption={show:!0,type:[&quot;rect&quot;,&quot;polygon&quot;,&quot;lineX&quot;,&quot;lineY&quot;,&quot;keep&quot;,&quot;clear&quot;],icon:{rect:&quot;M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13&quot;,polygon:&quot;M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2&quot;,lineX:&quot;M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4&quot;,lineY:&quot;M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4&quot;,keep:&quot;M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z&quot;,clear:&quot;M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2&quot;},title:rl.clone(bI.title)};var wI=Or.prototype;wI.render=wI.updateView=wI.updateLayout=function(t,e,i){var n,a,o;e.eachComponent({mainType:&quot;brush&quot;},function(t){n=t.brushType,a=t.brushOption.brushMode||&quot;single&quot;,o|=t.areas.length}),this._brushType=n,this._brushMode=a,rl.each(t.get(&quot;type&quot;,!0),function(e){t.setIconStatus(e,(&quot;keep&quot;===e?&quot;multiple&quot;===a:&quot;clear&quot;===e?o:e===n)?&quot;emphasis&quot;:&quot;normal&quot;)})},wI.getIcons=function(){var t=this.model,e=t.get(&quot;icon&quot;,!0),i={};return rl.each(t.get(&quot;type&quot;,!0),function(t){e[t]&amp;&amp;(i[t]=e[t])}),i},wI.onclick=function(t,e,i){var n=this._brushType,a=this._brushMode;&quot;clear&quot;===i?(e.dispatchAction({type:&quot;axisAreaSelect&quot;,intervals:[]}),e.dispatchAction({type:&quot;brush&quot;,command:&quot;clear&quot;,areas:[]})):e.dispatchAction({type:&quot;takeGlobalCursor&quot;,key:&quot;brush&quot;,brushOption:{brushType:&quot;keep&quot;===i?n:n!==i&amp;&amp;i,brushMode:&quot;keep&quot;===i?&quot;multiple&quot;===a?&quot;single&quot;:&quot;multiple&quot;:a}})},xI.register(&quot;brush&quot;,Or);ym.registerPreprocessor($M);zr.prototype={constructor:zr,type:&quot;calendar&quot;,dimensions:[&quot;time&quot;,&quot;value&quot;],getDimensionsInfo:function(){return[{name:&quot;time&quot;,type:&quot;time&quot;}]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(t){var e=(t=Pu.parseDate(t)).getFullYear(),i=t.getMonth()+1;i=i&lt;10?&quot;0&quot;+i:i;var n=t.getDate();n=n&lt;10?&quot;0&quot;+n:n;var a=t.getDay();return a=Math.abs((a+7-this.getFirstDayOfWeek())%7),{y:e,m:i,d:n,day:a,time:t.getTime(),formatedDate:e+&quot;-&quot;+i+&quot;-&quot;+n,date:t}},getNextNDay:function(t,e){return 0===(e=e||0)?this.getDateInfo(t):((t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t))},update:function(t,e){function i(t,e){return null!=t[e]&amp;&amp;&quot;auto&quot;!==t[e]}this._firstDayOfWeek=+this._model.getModel(&quot;dayLabel&quot;).get(&quot;firstDay&quot;),this._orient=this._model.get(&quot;orient&quot;),this._lineWidth=this._model.getModel(&quot;itemStyle.normal&quot;).getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,a=[&quot;width&quot;,&quot;height&quot;],o=this._model.get(&quot;cellSize&quot;).slice(),r=this._model.getBoxLayoutParams(),s=&quot;horizontal&quot;===this._orient?[n,7]:[7,n];rl.each([0,1],function(t){i(o,t)&amp;&amp;(r[a[t]]=o[t]*s[t])});var l={width:e.getWidth(),height:e.getHeight()},h=this._rect=Np.getLayoutRect(r,l);rl.each([0,1],function(t){i(o,t)||(o[t]=h[a[t]]/s[t])}),this._sw=o[0],this._sh=o[1]},dataToPoint:function(t,e){rl.isArray(t)&amp;&amp;(t=t[0]),null==e&amp;&amp;(e=!0);var i=this.getDateInfo(t),n=this._rangeInfo,a=i.formatedDate;if(e&amp;&amp;!(i.time&gt;=n.start.time&amp;&amp;i.time&lt;=n.end.time))return[NaN,NaN];var o=i.day,r=this._getRangeInfo([n.start.time,a]).nthWeek;return&quot;vertical&quot;===this._orient?[this._rect.x+o*this._sw+this._sw/2,this._rect.y+r*this._sh+this._sh/2]:[this._rect.x+r*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]},pointToData:function(t){var e=this.pointToDate(t);return e&amp;&amp;e.time},dataToRect:function(t,e){var i=this.dataToPoint(t,e);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},pointToDate:function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,i=Math.floor((t[1]-this._rect.y)/this._sh)+1,n=this._rangeInfo.range;return&quot;vertical&quot;===this._orient?this._getDateByWeeksAndDay(i,e-1,n):this._getDateByWeeksAndDay(e,i-1,n)},convertToPixel:rl.curry(Er,&quot;dataToPoint&quot;),convertFromPixel:rl.curry(Er,&quot;pointToData&quot;),_initRangeOption:function(){var t=this._model.get(&quot;range&quot;),e=t;if(rl.isArray(e)&amp;&amp;1===e.length&amp;&amp;(e=e[0]),/^\d{4}$/.test(e)&amp;&amp;(t=[e+&quot;-01-01&quot;,e+&quot;-12-31&quot;]),/^\d{4}[\/|-]\d{1,2}$/.test(e)){var i=this.getDateInfo(e),n=i.date;n.setMonth(n.getMonth()+1);var a=this.getNextNDay(n,-1);t=[i.formatedDate,a.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(e)&amp;&amp;(t=[e,e]);var o=this._getRangeInfo(t);return o.start.time&gt;o.end.time&amp;&amp;t.reverse(),t},_getRangeInfo:function(t){var e;(t=[this.getDateInfo(t[0]),this.getDateInfo(t[1])])[0].time&gt;t[1].time&amp;&amp;(e=!0,t.reverse());var i=Math.floor(t[1].time/864e5)-Math.floor(t[0].time/864e5)+1,n=new Date(t[0].time),a=n.getDate(),o=t[1].date.getDate();if(n.setDate(a+i-1),n.getDate()!==o)for(var r=n.getTime()-t[1].time&gt;0?1:-1;n.getDate()!==o&amp;&amp;(n.getTime()-t[1].time)*r&gt;0;)i-=r,n.setDate(a+i-1);var s=Math.floor((i+t[0].day+6)/7),l=e?1-s:s-1;return e&amp;&amp;t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:i,weeks:s,nthWeek:l,fweek:t[0].day,lweek:t[1].day}},_getDateByWeeksAndDay:function(t,e,i){var n=this._getRangeInfo(i);if(t&gt;n.weeks||0===t&amp;&amp;e&lt;n.fweek||t===n.weeks&amp;&amp;e&gt;n.lweek)return!1;var a=7*(t-1)-n.fweek+e,o=new Date(n.start.time);return o.setDate(n.start.d+a),this.getDateInfo(o)}},zr.dimensions=zr.prototype.dimensions,zr.getDimensionsInfo=zr.prototype.getDimensionsInfo,zr.create=function(t,e){var i=[];return t.eachComponent(&quot;calendar&quot;,function(n){var a=new zr(n,t,e);i.push(a),n.coordinateSystem=a}),t.eachSeries(function(t){&quot;calendar&quot;===t.get(&quot;coordinateSystem&quot;)&amp;&amp;(t.coordinateSystem=i[t.get(&quot;calendarIndex&quot;)||0])}),i},rf.register(&quot;calendar&quot;,zr);var SI=Np.getLayoutParams,MI=Np.sizeCalculable,II=Np.mergeLayoutParam,TI=Hp.extend({type:&quot;calendar&quot;,coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:&quot;horizontal&quot;,splitLine:{show:!0,lineStyle:{color:&quot;#000&quot;,width:1,type:&quot;solid&quot;}},itemStyle:{normal:{color:&quot;#fff&quot;,borderWidth:1,borderColor:&quot;#ccc&quot;}},dayLabel:{show:!0,firstDay:0,position:&quot;start&quot;,margin:&quot;50%&quot;,nameMap:&quot;en&quot;,color:&quot;#000&quot;},monthLabel:{show:!0,position:&quot;start&quot;,margin:5,align:&quot;center&quot;,nameMap:&quot;en&quot;,formatter:null,color:&quot;#000&quot;},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:&quot;#ccc&quot;,fontFamily:&quot;sans-serif&quot;,fontWeight:&quot;bolder&quot;,fontSize:20}},init:function(t,e,i,n){var a=SI(t);TI.superApply(this,&quot;init&quot;,arguments),Rr(t,a)},mergeOption:function(t,e){TI.superApply(this,&quot;mergeOption&quot;,arguments),Rr(this.option,t)}}),AI={EN:[&quot;Jan&quot;,&quot;Feb&quot;,&quot;Mar&quot;,&quot;Apr&quot;,&quot;May&quot;,&quot;Jun&quot;,&quot;Jul&quot;,&quot;Aug&quot;,&quot;Sep&quot;,&quot;Oct&quot;,&quot;Nov&quot;,&quot;Dec&quot;],CN:[&quot;ä¸æ&quot;,&quot;äºæ&quot;,&quot;ä¸æ&quot;,&quot;åæ&quot;,&quot;äºæ&quot;,&quot;å­æ&quot;,&quot;ä¸æ&quot;,&quot;å«æ&quot;,&quot;ä¹æ&quot;,&quot;åæ&quot;,&quot;åä¸æ&quot;,&quot;åäºæ&quot;]},CI={EN:[&quot;S&quot;,&quot;M&quot;,&quot;T&quot;,&quot;W&quot;,&quot;T&quot;,&quot;F&quot;,&quot;S&quot;],CN:[&quot;æ¥&quot;,&quot;ä¸&quot;,&quot;äº&quot;,&quot;ä¸&quot;,&quot;å&quot;,&quot;äº&quot;,&quot;å­&quot;]},LI=(ym.extendComponentView({type:&quot;calendar&quot;,_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(t,e,i){var n=this.group;n.removeAll();var a=t.coordinateSystem,o=a.getRangeInfo(),r=a.getOrient();this._renderDayRect(t,o,n),this._renderLines(t,o,r,n),this._renderYearText(t,o,r,n),this._renderMonthText(t,r,n),this._renderWeekText(t,o,r,n)},_renderDayRect:function(t,e,i){for(var n=t.coordinateSystem,a=t.getModel(&quot;itemStyle.normal&quot;).getItemStyle(),o=n.getCellWidth(),r=n.getCellHeight(),s=e.start.time;s&lt;=e.end.time;s=n.getNextNDay(s,1).time){var l=n.dataToRect([s],!1).tl,h=new fp.Rect({shape:{x:l[0],y:l[1],width:o,height:r},cursor:&quot;default&quot;,style:a});i.add(h)}},_renderLines:function(t,e,i,n){function a(e){o._firstDayOfMonth.push(r.getDateInfo(e)),o._firstDayPoints.push(r.dataToRect([e],!1).tl);var a=o._getLinePointsOfOneWeek(t,e,i);o._tlpoints.push(a[0]),o._blpoints.push(a[a.length-1]),l&amp;&amp;o._drawSplitline(a,s,n)}var o=this,r=t.coordinateSystem,s=t.getModel(&quot;splitLine.lineStyle&quot;).getLineStyle(),l=t.get(&quot;splitLine.show&quot;),h=s.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var u=e.start,c=0;u.time&lt;=e.end.time;c++){a(u.formatedDate),0===c&amp;&amp;(u=r.getDateInfo(e.start.y+&quot;-&quot;+e.start.m));var d=u.date;d.setMonth(d.getMonth()+1),u=r.getDateInfo(d)}a(r.getNextNDay(e.end.time,1).formatedDate),l&amp;&amp;this._drawSplitline(o._getEdgesPoints(o._tlpoints,h,i),s,n),l&amp;&amp;this._drawSplitline(o._getEdgesPoints(o._blpoints,h,i),s,n)},_getEdgesPoints:function(t,e,i){var n=[t[0].slice(),t[t.length-1].slice()],a=&quot;horizontal&quot;===i?0:1;return n[0][a]=n[0][a]-e/2,n[1][a]=n[1][a]+e/2,n},_drawSplitline:function(t,e,i){var n=new fp.Polyline({z2:20,shape:{points:t},style:e});i.add(n)},_getLinePointsOfOneWeek:function(t,e,i){var n=t.coordinateSystem;e=n.getDateInfo(e);for(var a=[],o=0;o&lt;7;o++){var r=n.getNextNDay(e.time,o),s=n.dataToRect([r.time],!1);a[2*r.day]=s.tl,a[2*r.day+1]=s[&quot;horizontal&quot;===i?&quot;bl&quot;:&quot;tr&quot;]}return a},_formatterLabel:function(t,e){return&quot;string&quot;==typeof t&amp;&amp;t?Eu.formatTplSimple(t,e):&quot;function&quot;==typeof t?t(e):e.nameMap},_yearTextPositionControl:function(t,e,i,n,a){e=e.slice();var o=[&quot;center&quot;,&quot;bottom&quot;];&quot;bottom&quot;===n?(e[1]+=a,o=[&quot;center&quot;,&quot;top&quot;]):&quot;left&quot;===n?e[0]-=a:&quot;right&quot;===n?(e[0]+=a,o=[&quot;center&quot;,&quot;top&quot;]):e[1]-=a;var r=0;return&quot;left&quot;!==n&amp;&amp;&quot;right&quot;!==n||(r=Math.PI/2),{rotation:r,position:e,style:{textAlign:o[0],textVerticalAlign:o[1]}}},_renderYearText:function(t,e,i,n){var a=t.getModel(&quot;yearLabel&quot;);if(a.get(&quot;show&quot;)){var o=a.get(&quot;margin&quot;),r=a.get(&quot;position&quot;);r||(r=&quot;horizontal&quot;!==i?&quot;top&quot;:&quot;left&quot;);var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],l=(s[0][0]+s[1][0])/2,h=(s[0][1]+s[1][1])/2,u=&quot;horizontal&quot;===i?0:1,c={top:[l,s[u][1]],bottom:[l,s[1-u][1]],left:[s[1-u][0],h],right:[s[u][0],h]},d=e.start.y;+e.end.y&gt;+e.start.y&amp;&amp;(d=d+&quot;-&quot;+e.end.y);var p=a.get(&quot;formatter&quot;),f={start:e.start.y,end:e.end.y,nameMap:d},g=this._formatterLabel(p,f),m=new fp.Text({z2:30});fp.setTextStyle(m.style,a,{text:g}),m.attr(this._yearTextPositionControl(m,c[r],i,r,o)),n.add(m)}},_monthTextPositionControl:function(t,e,i,n,a){var o=&quot;left&quot;,r=&quot;top&quot;,s=t[0],l=t[1];return&quot;horizontal&quot;===i?(l+=a,e&amp;&amp;(o=&quot;center&quot;),&quot;start&quot;===n&amp;&amp;(r=&quot;bottom&quot;)):(s+=a,e&amp;&amp;(r=&quot;middle&quot;),&quot;start&quot;===n&amp;&amp;(o=&quot;right&quot;)),{x:s,y:l,textAlign:o,textVerticalAlign:r}},_renderMonthText:function(t,e,i){var n=t.getModel(&quot;monthLabel&quot;);if(n.get(&quot;show&quot;)){var a=n.get(&quot;nameMap&quot;),o=n.get(&quot;margin&quot;),r=n.get(&quot;position&quot;),s=n.get(&quot;align&quot;),l=[this._tlpoints,this._blpoints];rl.isString(a)&amp;&amp;(a=AI[a.toUpperCase()]||[]);var h=&quot;start&quot;===r?0:1,u=&quot;horizontal&quot;===e?0:1;o=&quot;start&quot;===r?-o:o;for(var c=&quot;center&quot;===s,d=0;d&lt;l[h].length-1;d++){var p=l[h][d].slice(),f=this._firstDayOfMonth[d];if(c){var g=this._firstDayPoints[d];p[u]=(g[u]+l[0][d+1][u])/2}var m=n.get(&quot;formatter&quot;),v=a[+f.m-1],y={yyyy:f.y,yy:(f.y+&quot;&quot;).slice(2),MM:f.m,M:+f.m,nameMap:v},x=this._formatterLabel(m,y),_=new fp.Text({z2:30});rl.extend(fp.setTextStyle(_.style,n,{text:x}),this._monthTextPositionControl(p,c,e,r,o)),i.add(_)}}},_weekTextPositionControl:function(t,e,i,n,a){var o=&quot;center&quot;,r=&quot;middle&quot;,s=t[0],l=t[1],h=&quot;start&quot;===i;return&quot;horizontal&quot;===e?(s=s+n+(h?1:-1)*a[0]/2,o=h?&quot;right&quot;:&quot;left&quot;):(l=l+n+(h?1:-1)*a[1]/2,r=h?&quot;bottom&quot;:&quot;top&quot;),{x:s,y:l,textAlign:o,textVerticalAlign:r}},_renderWeekText:function(t,e,i,n){var a=t.getModel(&quot;dayLabel&quot;);if(a.get(&quot;show&quot;)){var o=t.coordinateSystem,r=a.get(&quot;position&quot;),s=a.get(&quot;nameMap&quot;),l=a.get(&quot;margin&quot;),h=o.getFirstDayOfWeek();rl.isString(s)&amp;&amp;(s=CI[s.toUpperCase()]||[]);var u=o.getNextNDay(e.end.time,7-e.lweek).time,c=[o.getCellWidth(),o.getCellHeight()];l=Pu.parsePercent(l,c[&quot;horizontal&quot;===i?0:1]),&quot;start&quot;===r&amp;&amp;(u=o.getNextNDay(e.start.time,-(7+e.fweek)).time,l=-l);for(var d=0;d&lt;7;d++){var p=o.getNextNDay(u,d),f=o.dataToRect([p.time],!1).center,g=d;g=Math.abs((d+h)%7);var m=new fp.Text({z2:30});rl.extend(fp.setTextStyle(m.style,a,{text:s[g]}),this._weekTextPositionControl(f,i,r,l,c)),n.add(m)}}}}),Np.getLayoutRect);ym.extendComponentModel({type:&quot;title&quot;,layoutMode:{type:&quot;box&quot;,ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:&quot;&quot;,target:&quot;blank&quot;,subtext:&quot;&quot;,subtarget:&quot;blank&quot;,left:0,top:0,backgroundColor:&quot;rgba(0,0,0,0)&quot;,borderColor:&quot;#ccc&quot;,borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:&quot;bolder&quot;,color:&quot;#333&quot;},subtextStyle:{color:&quot;#aaa&quot;}}}),ym.extendComponentView({type:&quot;title&quot;,render:function(t,e,i){if(this.group.removeAll(),t.get(&quot;show&quot;)){var n=this.group,a=t.getModel(&quot;textStyle&quot;),o=t.getModel(&quot;subtextStyle&quot;),r=t.get(&quot;textAlign&quot;),s=t.get(&quot;textBaseline&quot;),l=new fp.Text({style:fp.setTextStyle({},a,{text:t.get(&quot;text&quot;),textFill:a.getTextColor()},{disableBox:!0}),z2:10}),h=l.getBoundingRect(),u=t.get(&quot;subtext&quot;),c=new fp.Text({style:fp.setTextStyle({},o,{text:u,textFill:o.getTextColor(),y:h.height+t.get(&quot;itemGap&quot;),textVerticalAlign:&quot;top&quot;},{disableBox:!0}),z2:10}),d=t.get(&quot;link&quot;),p=t.get(&quot;sublink&quot;);l.silent=!d,c.silent=!p,d&amp;&amp;l.on(&quot;click&quot;,function(){window.open(d,&quot;_&quot;+t.get(&quot;target&quot;))}),p&amp;&amp;c.on(&quot;click&quot;,function(){window.open(p,&quot;_&quot;+t.get(&quot;subtarget&quot;))}),n.add(l),u&amp;&amp;n.add(c);var f=n.getBoundingRect(),g=t.getBoxLayoutParams();g.width=f.width,g.height=f.height;var m=LI(g,{width:i.getWidth(),height:i.getHeight()},t.get(&quot;padding&quot;));r||(&quot;middle&quot;===(r=t.get(&quot;left&quot;)||t.get(&quot;right&quot;))&amp;&amp;(r=&quot;center&quot;),&quot;right&quot;===r?m.x+=m.width:&quot;center&quot;===r&amp;&amp;(m.x+=m.width/2)),s||(&quot;center&quot;===(s=t.get(&quot;top&quot;)||t.get(&quot;bottom&quot;))&amp;&amp;(s=&quot;middle&quot;),&quot;bottom&quot;===s?m.y+=m.height:&quot;middle&quot;===s&amp;&amp;(m.y+=m.height/2),s=s||&quot;top&quot;),n.attr(&quot;position&quot;,[m.x,m.y]);var v={textAlign:r,textVerticalAlign:s};l.setStyle(v),c.setStyle(v),f=n.getBoundingRect();var y=m.margin,x=t.getItemStyle([&quot;color&quot;,&quot;opacity&quot;]);x.fill=t.get(&quot;backgroundColor&quot;);var _=new fp.Rect({shape:{x:f.x-y[3],y:f.y-y[0],width:f.width+y[1]+y[3],height:f.height+y[0]+y[2],r:t.get(&quot;borderRadius&quot;)},style:x,silent:!0});fp.subPixelOptimizeRect(_),n.add(_)}}}),Hp.registerSubTypeDefaulter(&quot;dataZoom&quot;,function(){return&quot;slider&quot;});var DI=[&quot;cartesian2d&quot;,&quot;polar&quot;,&quot;singleAxis&quot;],PI={isCoordSupported:function(t){return rl.indexOf(DI,t)&gt;=0},createNameEach:Nr,eachAxisDim:Nr([&quot;x&quot;,&quot;y&quot;,&quot;z&quot;,&quot;radius&quot;,&quot;angle&quot;,&quot;single&quot;],[&quot;axisIndex&quot;,&quot;axis&quot;,&quot;index&quot;,&quot;id&quot;]),createLinkedNodesFinder:function(t,e,i){function n(t,n){n.nodes.push(t),e(function(e){rl.each(i(t,e)||[],function(t){n.records[e.name][t]=!0})})}return function(a){var o={nodes:[],records:{}};if(e(function(t){o.records[t.name]={}}),!a)return o;n(a,o);var r;do{r=!1,t(function(t){!function(t,e){return rl.indexOf(e.nodes,t)&gt;=0}(t,o)&amp;&amp;function(t,n){var a=!1;return e(function(e){rl.each(i(t,e)||[],function(t){n.records[e.name][t]&amp;&amp;(a=!0)})}),a}(t,o)&amp;&amp;(n(t,o),r=!0)})}while(r);return o}}},kI=rl.each,OI=Pu.asc,zI=function(t,e,i,n){this._dimName=t,this._axisIndex=e,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=n,this._dataZoomModel=i};zI.prototype={constructor:zI,hostedBy:function(t){return this._dataZoomModel===t},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var t=[],e=this.ecModel;return e.eachSeries(function(i){if(PI.isCoordSupported(i.get(&quot;coordinateSystem&quot;))){var n=this._dimName,a=e.queryComponents({mainType:n+&quot;Axis&quot;,index:i.get(n+&quot;AxisIndex&quot;),id:i.get(n+&quot;AxisId&quot;)})[0];this._axisIndex===(a&amp;&amp;a.componentIndex)&amp;&amp;t.push(i)}},this),t},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+&quot;Axis&quot;,this._axisIndex)},getOtherAxisModel:function(){var t,e,i=this._dimName,n=this.ecModel,a=this.getAxisModel();&quot;x&quot;===i||&quot;y&quot;===i?(e=&quot;gridIndex&quot;,t=&quot;x&quot;===i?&quot;y&quot;:&quot;x&quot;):(e=&quot;polarIndex&quot;,t=&quot;angle&quot;===i?&quot;radius&quot;:&quot;angle&quot;);var o;return n.eachComponent(t+&quot;Axis&quot;,function(t){(t.get(e)||0)===(a.get(e)||0)&amp;&amp;(o=t)}),o},getMinMaxSpan:function(){return rl.clone(this._minMaxSpan)},calculateDataWindow:function(t){var e=this._dataExtent,i=this.getAxisModel().axis.scale,n=this._dataZoomModel.getRangePropMode(),a=[0,100],o=[t.start,t.end],r=[];return kI([&quot;startValue&quot;,&quot;endValue&quot;],function(e){r.push(null!=t[e]?i.parse(t[e]):null)}),kI([0,1],function(t){var s=r[t],l=o[t];&quot;percent&quot;===n[t]?(null==l&amp;&amp;(l=a[t]),s=i.parse(Pu.linearMap(l,a,e,!0))):l=Pu.linearMap(s,e,a,!0),r[t]=s,o[t]=l}),{valueWindow:OI(r),percentWindow:OI(o)}},reset:function(t){if(t===this._dataZoomModel){this._dataExtent=function(t,e,i){var n=[1/0,-1/0];return kI(i,function(t){var i=t.getData();i&amp;&amp;kI(t.coordDimToDataDim(e),function(t){var e=i.getDataExtent(t);e[0]&lt;n[0]&amp;&amp;(n[0]=e[0]),e[1]&gt;n[1]&amp;&amp;(n[1]=e[1])})}),n[1]&lt;n[0]&amp;&amp;(n=[NaN,NaN]),function(t,e){var i=t.getAxisModel(),n=i.getMin(!0),a=&quot;category&quot;===i.get(&quot;type&quot;),o=a&amp;&amp;(i.get(&quot;data&quot;)||[]).length;null!=n&amp;&amp;&quot;dataMin&quot;!==n&amp;&amp;&quot;function&quot;!=typeof n?e[0]=n:a&amp;&amp;(e[0]=o&gt;0?0:NaN);var r=i.getMax(!0);null!=r&amp;&amp;&quot;dataMax&quot;!==r&amp;&amp;&quot;function&quot;!=typeof r?e[1]=r:a&amp;&amp;(e[1]=o&gt;0?o-1:NaN),i.get(&quot;scale&quot;,!0)||(e[0]&gt;0&amp;&amp;(e[0]=0),e[1]&lt;0&amp;&amp;(e[1]=0))}(t,n),n}(this,this._dimName,this.getTargetSeriesModels());var e=this.calculateDataWindow(t.option);this._valueWindow=e.valueWindow,this._percentWindow=e.percentWindow,function(t){var e=t._minMaxSpan={},i=t._dataZoomModel;kI([&quot;min&quot;,&quot;max&quot;],function(n){e[n+&quot;Span&quot;]=i.get(n+&quot;Span&quot;);var a=i.get(n+&quot;ValueSpan&quot;);if(null!=a&amp;&amp;(e[n+&quot;ValueSpan&quot;]=a,null!=(a=t.getAxisModel().axis.scale.parse(a)))){var o=t._dataExtent;e[n+&quot;Span&quot;]=Pu.linearMap(o[0]+a,o,[0,100],!0)}})}(this),Vr(this)}},restore:function(t){t===this._dataZoomModel&amp;&amp;(this._valueWindow=this._percentWindow=null,Vr(this,!0))},filterData:function(t){function e(t){return t&gt;=o[0]&amp;&amp;t&lt;=o[1]}if(t===this._dataZoomModel){var i=this._dimName,n=this.getTargetSeriesModels(),a=t.get(&quot;filterMode&quot;),o=this._valueWindow;if(&quot;none&quot;!==a){var r=this.getOtherAxisModel();t.get(&quot;$fromToolbox&quot;)&amp;&amp;r&amp;&amp;&quot;category&quot;===r.get(&quot;type&quot;)&amp;&amp;(a=&quot;empty&quot;),kI(n,function(t){var n=t.getData(),r=t.coordDimToDataDim(i);&quot;weakFilter&quot;===a?n&amp;&amp;n.filterSelf(function(t){for(var e,i,a,s=0;s&lt;r.length;s++){var l=n.get(r[s],t),h=!isNaN(l),u=l&lt;o[0],c=l&gt;o[1];if(h&amp;&amp;!u&amp;&amp;!c)return!0;h&amp;&amp;(a=!0),u&amp;&amp;(e=!0),c&amp;&amp;(i=!0)}return a&amp;&amp;e&amp;&amp;i}):n&amp;&amp;kI(r,function(i){&quot;empty&quot;===a?t.setData(n.map(i,function(t){return e(t)?t:NaN})):n.filterSelf(i,e)})})}}}};var EI=zI,RI=rl.each,NI=PI.eachAxisDim,VI=ym.extendComponentModel({type:&quot;dataZoom&quot;,dependencies:[&quot;xAxis&quot;,&quot;yAxis&quot;,&quot;zAxis&quot;,&quot;radiusAxis&quot;,&quot;angleAxis&quot;,&quot;singleAxis&quot;,&quot;series&quot;],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:&quot;filter&quot;,throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(t,e,i){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=[&quot;percent&quot;,&quot;percent&quot;];var n=Br(t);this.mergeDefaultAndTheme(t,i),this.doInit(n)},mergeOption:function(t){var e=Br(t);rl.merge(this.option,t,!0),this.doInit(e)},doInit:function(t){var e=this.option;Us.canvasSupported||(e.realtime=!1),this._setDefaultThrottle(t),Gr(this,t),RI([[&quot;start&quot;,&quot;startValue&quot;],[&quot;end&quot;,&quot;endValue&quot;]],function(t,i){&quot;value&quot;===this._rangePropMode[i]&amp;&amp;(e[t[0]]=null)},this),this.textStyleModel=this.getModel(&quot;textStyle&quot;),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var t=this._axisProxies;this.eachTargetAxis(function(e,i,n,a){var o=this.dependentModels[e.axis][i],r=o.__dzAxisProxy||(o.__dzAxisProxy=new EI(e.name,i,this,a));t[e.name+&quot;_&quot;+i]=r},this)},_resetTarget:function(){var t=this.option,e=this._judgeAutoMode();NI(function(e){var i=e.axisIndex;t[i]=Ip.normalizeToArray(t[i])},this),&quot;axisIndex&quot;===e?this._autoSetAxisIndex():&quot;orient&quot;===e&amp;&amp;this._autoSetOrient()},_judgeAutoMode:function(){var t=this.option,e=!1;NI(function(i){null!=t[i.axisIndex]&amp;&amp;(e=!0)},this);var i=t.orient;return null==i&amp;&amp;e?&quot;orient&quot;:e?void 0:(null==i&amp;&amp;(t.orient=&quot;horizontal&quot;),&quot;axisIndex&quot;)},_autoSetAxisIndex:function(){var t=!0,e=this.get(&quot;orient&quot;,!0),i=this.option,n=this.dependentModels;if(t){var a=&quot;vertical&quot;===e?&quot;y&quot;:&quot;x&quot;;n[a+&quot;Axis&quot;].length?(i[a+&quot;AxisIndex&quot;]=[0],t=!1):RI(n.singleAxis,function(n){t&amp;&amp;n.get(&quot;orient&quot;,!0)===e&amp;&amp;(i.singleAxisIndex=[n.componentIndex],t=!1)})}t&amp;&amp;NI(function(e){if(t){var n=[],a=this.dependentModels[e.axis];if(a.length&amp;&amp;!n.length)for(var o=0,r=a.length;o&lt;r;o++)&quot;category&quot;===a[o].get(&quot;type&quot;)&amp;&amp;n.push(o);i[e.axisIndex]=n,n.length&amp;&amp;(t=!1)}},this),t&amp;&amp;this.ecModel.eachSeries(function(t){this._isSeriesHasAllAxesTypeOf(t,&quot;value&quot;)&amp;&amp;NI(function(e){var n=i[e.axisIndex],a=t.get(e.axisIndex),o=t.get(e.axisId);a=t.ecModel.queryComponents({mainType:e.axis,index:a,id:o})[0].componentIndex,rl.indexOf(n,a)&lt;0&amp;&amp;n.push(a)})},this)},_autoSetOrient:function(){var t;this.eachTargetAxis(function(e){!t&amp;&amp;(t=e.name)},this),this.option.orient=&quot;y&quot;===t?&quot;vertical&quot;:&quot;horizontal&quot;},_isSeriesHasAllAxesTypeOf:function(t,e){var i=!0;return NI(function(n){var a=t.get(n.axisIndex),o=this.dependentModels[n.axis][a];o&amp;&amp;o.get(&quot;type&quot;)===e||(i=!1)},this),i},_setDefaultThrottle:function(t){if(t.hasOwnProperty(&quot;throttle&quot;)&amp;&amp;(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&amp;&amp;e.animationDurationUpdate&gt;0?100:20}},getFirstTargetAxisModel:function(){var t;return NI(function(e){if(null==t){var i=this.get(e.axisIndex);i.length&amp;&amp;(t=this.dependentModels[e.axis][i[0]])}},this),t},eachTargetAxis:function(t,e){var i=this.ecModel;NI(function(n){RI(this.get(n.axisIndex),function(a){t.call(e,n,a,this,i)},this)},this)},getAxisProxy:function(t,e){return this._axisProxies[t+&quot;_&quot;+e]},getAxisModel:function(t,e){var i=this.getAxisProxy(t,e);return i&amp;&amp;i.getAxisModel()},setRawRange:function(t,e){var i=this.option;RI([[&quot;start&quot;,&quot;startValue&quot;],[&quot;end&quot;,&quot;endValue&quot;]],function(e){null==t[e[0]]&amp;&amp;null==t[e[1]]||(i[e[0]]=t[e[0]],i[e[1]]=t[e[1]])},this),!e&amp;&amp;Gr(this,t)},getPercentRange:function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},getValueRange:function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var i=this.findRepresentativeAxisProxy();return i?i.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(t){if(t)return t.__dzAxisProxy;var e=this._axisProxies;for(var i in e)if(e.hasOwnProperty(i)&amp;&amp;e[i].hostedBy(this))return e[i];for(var i in e)if(e.hasOwnProperty(i)&amp;&amp;!e[i].hostedBy(this))return e[i]},getRangePropMode:function(){return this._rangePropMode.slice()}}),BI=Nf.extend({type:&quot;dataZoom&quot;,render:function(t,e,i,n){this.dataZoomModel=t,this.ecModel=e,this.api=i},getTargetCoordInfo:function(){var t=this.dataZoomModel,e=this.ecModel,i={};return t.eachTargetAxis(function(t,n){var a=e.getComponent(t.axis,n);if(a){var o=a.getCoordSysModel();o&amp;&amp;function(t,e,i,n){for(var a,o=0;o&lt;i.length;o++)if(i[o].model===t){a=i[o];break}a||i.push(a={model:t,axisModels:[],coordIndex:n}),a.axisModels.push(e)}(o,a,i[o.mainType]||(i[o.mainType]=[]),o.componentIndex)}},this),i}}),GI=(VI.extend({type:&quot;dataZoom.slider&quot;,layoutMode:&quot;box&quot;,defaultOption:{show:!0,right:&quot;ph&quot;,top:&quot;ph&quot;,width:&quot;ph&quot;,height:&quot;ph&quot;,left:null,bottom:null,backgroundColor:&quot;rgba(47,69,84,0)&quot;,dataBackground:{lineStyle:{color:&quot;#2f4554&quot;,width:.5,opacity:.3},areaStyle:{color:&quot;rgba(47,69,84,0.3)&quot;,opacity:.3}},borderColor:&quot;#ddd&quot;,fillerColor:&quot;rgba(167,183,204,0.4)&quot;,handleIcon:&quot;M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z&quot;,handleSize:&quot;100%&quot;,handleStyle:{color:&quot;#a7b7cc&quot;},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:&quot;auto&quot;,realtime:!0,zoomLock:!1,textStyle:{color:&quot;#333&quot;}}}),fp.Rect),HI=Pu.linearMap,WI=Pu.asc,FI=rl.bind,ZI=rl.each,jI=&quot;horizontal&quot;,UI=5,qI=[&quot;line&quot;,&quot;bar&quot;,&quot;candlestick&quot;,&quot;scatter&quot;],XI=BI.extend({type:&quot;dataZoom.slider&quot;,init:function(t,e){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=e},render:function(t,e,i,n){XI.superApply(this,&quot;render&quot;,arguments),Ff.createOrUpdate(this,&quot;_dispatchZoomAction&quot;,this.dataZoomModel.get(&quot;throttle&quot;),&quot;fixRate&quot;),this._orient=t.get(&quot;orient&quot;),!1!==this.dataZoomModel.get(&quot;show&quot;)?(n&amp;&amp;&quot;dataZoom&quot;===n.type&amp;&amp;n.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){XI.superApply(this,&quot;remove&quot;,arguments),Ff.clear(this,&quot;_dispatchZoomAction&quot;)},dispose:function(){XI.superApply(this,&quot;dispose&quot;,arguments),Ff.clear(this,&quot;_dispatchZoomAction&quot;)},_buildView:function(){var t=this.group;t.removeAll(),this._resetLocation(),this._resetInterval();var e=this._displayables.barGroup=new fp.Group;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},_resetLocation:function(){var t=this.dataZoomModel,e=this.api,i=this._findCoordRect(),n={width:e.getWidth(),height:e.getHeight()},a=this._orient===jI?{right:n.width-i.x-i.width,top:n.height-30-7,width:i.width,height:30}:{right:7,top:i.y,width:30,height:i.height},o=Np.getLayoutParams(t.option);rl.each([&quot;right&quot;,&quot;top&quot;,&quot;width&quot;,&quot;height&quot;],function(t){&quot;ph&quot;===o[t]&amp;&amp;(o[t]=a[t])});var r=Np.getLayoutRect(o,n,t.padding);this._location={x:r.x,y:r.y},this._size=[r.width,r.height],&quot;vertical&quot;===this._orient&amp;&amp;this._size.reverse()},_positionGroup:function(){var t=this.group,e=this._location,i=this._orient,n=this.dataZoomModel.getFirstTargetAxisModel(),a=n&amp;&amp;n.get(&quot;inverse&quot;),o=this._displayables.barGroup,r=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(i!==jI||a?i===jI&amp;&amp;a?{scale:r?[-1,1]:[-1,-1]}:&quot;vertical&quot;!==i||a?{scale:r?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:r?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:r?[1,1]:[1,-1]});var s=t.getBoundingRect([o]);t.attr(&quot;position&quot;,[e.x-s.x,e.y-s.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var t=this.dataZoomModel,e=this._size,i=this._displayables.barGroup;i.add(new GI({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get(&quot;backgroundColor&quot;)},z2:-40})),i.add(new GI({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:&quot;transparent&quot;},z2:0,onclick:rl.bind(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(t){var e=this._size,i=t.series,n=i.getRawData(),a=i.getShadowDim?i.getShadowDim():t.otherDim;if(null!=a){var o=n.getDataExtent(a),r=.3*(o[1]-o[0]);o=[o[0]-r,o[1]+r];var s,l=[0,e[1]],h=[0,e[0]],u=[[e[0],0],[0,0]],c=[],d=h[1]/(n.count()-1),p=0,f=Math.round(n.count()/e[0]);n.each([a],function(t,e){if(f&gt;0&amp;&amp;e%f)p+=d;else{var i=null==t||isNaN(t)||&quot;&quot;===t,n=i?0:HI(t,o,l,!0);i&amp;&amp;!s&amp;&amp;e?(u.push([u[u.length-1][0],0]),c.push([c[c.length-1][0],0])):!i&amp;&amp;s&amp;&amp;(u.push([p,0]),c.push([p,0])),u.push([p,n]),c.push([p,n]),p+=d,s=i}});var g=this.dataZoomModel;this._displayables.barGroup.add(new fp.Polygon({shape:{points:u},style:rl.defaults({fill:g.get(&quot;dataBackgroundColor&quot;)},g.getModel(&quot;dataBackground.areaStyle&quot;).getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new fp.Polyline({shape:{points:c},style:g.getModel(&quot;dataBackground.lineStyle&quot;).getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var t=this.dataZoomModel,e=t.get(&quot;showDataShadow&quot;);if(!1!==e){var i,n=this.ecModel;return t.eachTargetAxis(function(a,o){var r=t.getAxisProxy(a.name,o).getTargetSeriesModels();rl.each(r,function(t){if(!(i||!0!==e&amp;&amp;rl.indexOf(qI,t.get(&quot;type&quot;))&lt;0)){var r,s=n.getComponent(a.axis,o).axis,l=function(t){return{x:&quot;y&quot;,y:&quot;x&quot;,radius:&quot;angle&quot;,angle:&quot;radius&quot;}[t]}(a.name),h=t.coordinateSystem;null!=l&amp;&amp;h.getOtherAxis&amp;&amp;(r=h.getOtherAxis(s).inverse),i={thisAxis:s,series:t,thisDim:a.name,otherDim:l,otherAxisInverse:r}}},this)},this),i}},_renderHandle:function(){var t=this._displayables,e=t.handles=[],i=t.handleLabels=[],n=this._displayables.barGroup,a=this._size,o=this.dataZoomModel;n.add(t.filler=new GI({draggable:!0,cursor:Hr(this._orient),drift:FI(this._onDragMove,this,&quot;all&quot;),onmousemove:function(t){su.stop(t.event)},ondragstart:FI(this._showDataInfo,this,!0),ondragend:FI(this._onDragEnd,this),onmouseover:FI(this._showDataInfo,this,!0),onmouseout:FI(this._showDataInfo,this,!1),style:{fill:o.get(&quot;fillerColor&quot;),textPosition:&quot;inside&quot;}})),n.add(new GI(fp.subPixelOptimizeRect({silent:!0,shape:{x:0,y:0,width:a[0],height:a[1]},style:{stroke:o.get(&quot;dataBackgroundColor&quot;)||o.get(&quot;borderColor&quot;),lineWidth:1,fill:&quot;rgba(0,0,0,0)&quot;}}))),ZI([0,1],function(t){var a=fp.createIcon(o.get(&quot;handleIcon&quot;),{cursor:Hr(this._orient),draggable:!0,drift:FI(this._onDragMove,this,t),onmousemove:function(t){su.stop(t.event)},ondragend:FI(this._onDragEnd,this),onmouseover:FI(this._showDataInfo,this,!0),onmouseout:FI(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),r=a.getBoundingRect();this._handleHeight=Pu.parsePercent(o.get(&quot;handleSize&quot;),this._size[1]),this._handleWidth=r.width/r.height*this._handleHeight,a.setStyle(o.getModel(&quot;handleStyle&quot;).getItemStyle());var s=o.get(&quot;handleColor&quot;);null!=s&amp;&amp;(a.style.fill=s),n.add(e[t]=a);var l=o.textStyleModel;this.group.add(i[t]=new fp.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:&quot;&quot;,textVerticalAlign:&quot;middle&quot;,textAlign:&quot;center&quot;,textFill:l.getTextColor(),textFont:l.getFont()},z2:10}))},this)},_resetInterval:function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[HI(t[0],[0,100],e,!0),HI(t[1],[0,100],e,!0)]},_updateInterval:function(t,e){var i=this.dataZoomModel,n=this._handleEnds,a=this._getViewExtent(),o=i.findRepresentativeAxisProxy().getMinMaxSpan(),r=[0,100];xb(e,n,a,i.get(&quot;zoomLock&quot;)?&quot;all&quot;:t,null!=o.minSpan?HI(o.minSpan,r,a,!0):null,null!=o.maxSpan?HI(o.maxSpan,r,a,!0):null),this._range=WI([HI(n[0],a,r,!0),HI(n[1],a,r,!0)])},_updateView:function(t){var e=this._displayables,i=this._handleEnds,n=WI(i.slice()),a=this._size;ZI([0,1],function(t){var n=e.handles[t],o=this._handleHeight;n.attr({scale:[o/2,o/2],position:[i[t],a[1]/2-o/2]})},this),e.filler.setShape({x:n[0],y:0,width:n[1]-n[0],height:a[1]}),this._updateDataInfo(t)},_updateDataInfo:function(t){function e(t){var e=fp.getTransform(n.handles[t].parent,this.group),i=fp.transformDirection(0===t?&quot;right&quot;:&quot;left&quot;,e),s=this._handleWidth/2+UI,l=fp.applyTransform([c[t]+(0===t?-s:s),this._size[1]/2],e);a[t].setStyle({x:l[0],y:l[1],textVerticalAlign:o===jI?&quot;middle&quot;:i,textAlign:o===jI?i:&quot;center&quot;,text:r[t]})}var i=this.dataZoomModel,n=this._displayables,a=n.handleLabels,o=this._orient,r=[&quot;&quot;,&quot;&quot;];if(i.get(&quot;showDetail&quot;)){var s=i.findRepresentativeAxisProxy();if(s){var l=s.getAxisModel().axis,h=this._range,u=t?s.calculateDataWindow({start:h[0],end:h[1]}).valueWindow:s.getDataValueWindow();r=[this._formatLabel(u[0],l),this._formatLabel(u[1],l)]}}var c=WI(this._handleEnds.slice());e.call(this,0),e.call(this,1)},_formatLabel:function(t,e){var i=this.dataZoomModel,n=i.get(&quot;labelFormatter&quot;),a=i.get(&quot;labelPrecision&quot;);null!=a&amp;&amp;&quot;auto&quot;!==a||(a=e.getPixelPrecision());var o=null==t||isNaN(t)?&quot;&quot;:&quot;category&quot;===e.type||&quot;time&quot;===e.type?e.scale.getLabel(Math.round(t)):t.toFixed(Math.min(a,20));return rl.isFunction(n)?n(t,o):rl.isString(n)?n.replace(&quot;{value}&quot;,o):o},_showDataInfo:function(t){t=this._dragging||t;var e=this._displayables.handleLabels;e[0].attr(&quot;invisible&quot;,!t),e[1].attr(&quot;invisible&quot;,!t)},_onDragMove:function(t,e,i){this._dragging=!0;var n=this._displayables.barGroup.getLocalTransform(),a=fp.applyTransform([e,i],n,!0);this._updateInterval(t,a[0]);var o=this.dataZoomModel.get(&quot;realtime&quot;);this._updateView(!o),o&amp;&amp;o&amp;&amp;this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),this._dispatchZoomAction()},_onClickPanelClick:function(t){var e=this._size,i=this._displayables.barGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(i[0]&lt;0||i[0]&gt;e[0]||i[1]&lt;0||i[1]&gt;e[1])){var n=this._handleEnds,a=(n[0]+n[1])/2;this._updateInterval(&quot;all&quot;,i[0]-a),this._updateView(),this._dispatchZoomAction()}},_dispatchZoomAction:function(){var t=this._range;this.api.dispatchAction({type:&quot;dataZoom&quot;,from:this.uid,dataZoomId:this.dataZoomModel.id,start:t[0],end:t[1]})},_findCoordRect:function(){var t;if(ZI(this.getTargetCoordInfo(),function(e){if(!t&amp;&amp;e.length){var i=e[0].model.coordinateSystem;t=i.getRect&amp;&amp;i.getRect()}}),!t){var e=this.api.getWidth(),i=this.api.getHeight();t={x:.2*e,y:.2*i,width:.6*e,height:.6*i}}return t}}),YI=(VI.extend({type:&quot;dataZoom.inside&quot;,defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}}),rl.curry),$I=&quot;\0_ec_dataZoom_roams&quot;,KI={register:function(t,e){var i=Wr(t),n=e.dataZoomId,a=e.coordId;rl.each(i,function(t,i){var o=t.dataZoomInfos;o[n]&amp;&amp;rl.indexOf(e.allCoordIds,a)&lt;0&amp;&amp;(delete o[n],t.count--)}),Fr(i);var o=i[a];o||((o=i[a]={coordId:a,dataZoomInfos:{},count:0}).controller=function(t,e){var i=new Wy(t.getZr());return i.on(&quot;pan&quot;,YI(function(t,e,i,n,a,o,r){Zr(t,function(s){return s.panGetRange(t.controller,e,i,n,a,o,r)})},e)),i.on(&quot;zoom&quot;,YI(function(t,e,i,n){Zr(t,function(a){return a.zoomGetRange(t.controller,e,i,n)})},e)),i}(t,o),o.dispatchAction=rl.curry(function(t,e){t.dispatchAction({type:&quot;dataZoom&quot;,batch:e})},t)),!o.dataZoomInfos[n]&amp;&amp;o.count++,o.dataZoomInfos[n]=e;var r=function(t){var e,i={},n={true:2,move:1,false:0,undefined:-1};return rl.each(t,function(t){var a=!t.disabled&amp;&amp;(!t.zoomLock||&quot;move&quot;);n[a]&gt;n[e]&amp;&amp;(e=a),rl.extend(i,t.roamControllerOpt)}),{controlType:e,opt:i}}(o.dataZoomInfos);o.controller.enable(r.controlType,r.opt),o.controller.setPointerChecker(e.containsPoint),Ff.createOrUpdate(o,&quot;dispatchAction&quot;,e.throttleRate,&quot;fixRate&quot;)},unregister:function(t,e){var i=Wr(t);rl.each(i,function(t){t.controller.dispose();var i=t.dataZoomInfos;i[e]&amp;&amp;(delete i[e],t.count--)}),Fr(i)},shouldRecordRange:function(t,e){if(t&amp;&amp;&quot;dataZoom&quot;===t.type&amp;&amp;t.batch)for(var i=0,n=t.batch.length;i&lt;n;i++)if(t.batch[i].dataZoomId===e)return!1;return!0},generateCoordId:function(t){return t.type+&quot;\0_&quot;+t.id}},JI=rl.bind,QI=BI.extend({type:&quot;dataZoom.inside&quot;,init:function(t,e){this._range},render:function(t,e,i,n){QI.superApply(this,&quot;render&quot;,arguments),KI.shouldRecordRange(n,t.id)&amp;&amp;(this._range=t.getPercentRange()),rl.each(this.getTargetCoordInfo(),function(e,n){var a=rl.map(e,function(t){return KI.generateCoordId(t.model)});rl.each(e,function(e){var o=e.model,r=t.option;KI.register(i,{coordId:KI.generateCoordId(o),allCoordIds:a,containsPoint:function(t,e,i){return o.coordinateSystem.containPoint([e,i])},dataZoomId:t.id,throttleRate:t.get(&quot;throttle&quot;,!0),panGetRange:JI(this._onPan,this,e,n),zoomGetRange:JI(this._onZoom,this,e,n),zoomLock:r.zoomLock,disabled:r.disabled,roamControllerOpt:{zoomOnMouseWheel:r.zoomOnMouseWheel,moveOnMouseMove:r.moveOnMouseMove,preventDefaultMouseMove:r.preventDefaultMouseMove}})},this)},this)},dispose:function(){KI.unregister(this.api,this.dataZoomModel.id),QI.superApply(this,&quot;dispose&quot;,arguments),this._range=null},_onPan:function(t,e,i,n,a,o,r,s,l){var h=this._range.slice(),u=t.axisModels[0];if(u){var c=tT[e]([o,r],[s,l],u,i,t),d=c.signal*(h[1]-h[0])*c.pixel/c.pixelLength;return xb(d,h,[0,100],&quot;all&quot;),this._range=h}},_onZoom:function(t,e,i,n,a,o){var r=this._range.slice(),s=t.axisModels[0];if(s){var l=tT[e](null,[a,o],s,i,t),h=(l.signal&gt;0?l.pixelStart+l.pixelLength-l.pixel:l.pixel-l.pixelStart)/l.pixelLength*(r[1]-r[0])+r[0];n=Math.max(1/n,0),r[0]=(r[0]-h)*n+h,r[1]=(r[1]-h)*n+h;var u=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return xb(0,r,[0,100],0,u.minSpan,u.maxSpan),this._range=r}}}),tT={grid:function(t,e,i,n,a){var o=i.axis,r={},s=a.model.coordinateSystem.getRect();return t=t||[0,0],&quot;x&quot;===o.dim?(r.pixel=e[0]-t[0],r.pixelLength=s.width,r.pixelStart=s.x,r.signal=o.inverse?1:-1):(r.pixel=e[1]-t[1],r.pixelLength=s.height,r.pixelStart=s.y,r.signal=o.inverse?-1:1),r},polar:function(t,e,i,n,a){var o=i.axis,r={},s=a.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),h=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),&quot;radiusAxis&quot;===i.mainType?(r.pixel=e[0]-t[0],r.pixelLength=l[1]-l[0],r.pixelStart=l[0],r.signal=o.inverse?1:-1):(r.pixel=e[1]-t[1],r.pixelLength=h[1]-h[0],r.pixelStart=h[0],r.signal=o.inverse?-1:1),r},singleAxis:function(t,e,i,n,a){var o=i.axis,r=a.model.coordinateSystem.getRect(),s={};return t=t||[0,0],&quot;horizontal&quot;===o.orient?(s.pixel=e[0]-t[0],s.pixelLength=r.width,s.pixelStart=r.x,s.signal=o.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=r.height,s.pixelStart=r.y,s.signal=o.inverse?-1:1),s}};ym.registerProcessor(function(t,e){t.eachComponent(&quot;dataZoom&quot;,function(t){t.eachTargetAxis(function(t,e,i){i.getAxisProxy(t.name,e).reset(i)}),t.eachTargetAxis(function(t,e,i){i.getAxisProxy(t.name,e).filterData(i)})}),t.eachComponent(&quot;dataZoom&quot;,function(t){var e=t.findRepresentativeAxisProxy(),i=e.getDataPercentWindow(),n=e.getDataValueWindow();t.setRawRange({start:i[0],end:i[1],startValue:n[0],endValue:n[1]},!0)})}),ym.registerAction(&quot;dataZoom&quot;,function(t,e){var i=PI.createLinkedNodesFinder(rl.bind(e.eachComponent,e,&quot;dataZoom&quot;),PI.eachAxisDim,function(t,e){return t.get(e.axisIndex)}),n=[];e.eachComponent({mainType:&quot;dataZoom&quot;,query:t},function(t,e){n.push.apply(n,i(t).nodes)}),rl.each(n,function(e,i){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})});var eT=rl.each,iT=function(t){var e=t&amp;&amp;t.visualMap;rl.isArray(e)||(e=e?[e]:[]),eT(e,function(t){if(t){jr(t,&quot;splitList&quot;)&amp;&amp;!jr(t,&quot;pieces&quot;)&amp;&amp;(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&amp;&amp;rl.isArray(e)&amp;&amp;eT(e,function(t){rl.isObject(t)&amp;&amp;(jr(t,&quot;start&quot;)&amp;&amp;!jr(t,&quot;min&quot;)&amp;&amp;(t.min=t.start),jr(t,&quot;end&quot;)&amp;&amp;!jr(t,&quot;max&quot;)&amp;&amp;(t.max=t.end))})}})};Hp.registerSubTypeDefaulter(&quot;visualMap&quot;,function(t){return t.categories||(t.pieces?t.pieces.length&gt;0:t.splitNumber&gt;0)&amp;&amp;!t.calculable?&quot;piecewise&quot;:&quot;continuous&quot;}),ym.registerVisual(ym.PRIORITY.VISUAL.COMPONENT,function(t){t.eachComponent(&quot;visualMap&quot;,function(t){!function(t,e){t.eachTargetSeries(function(e){var i=e.getData();JM.applyVisual(t.stateList,t.targetVisuals,i,t.getValueState,t,t.getDataDimension(i))})}(t)}),function(t){t.eachSeries(function(e){var i=e.getData(),n=[];t.eachComponent(&quot;visualMap&quot;,function(t){if(t.isTargetSeries(e)){var a=t.getVisualMeta(rl.bind(function(t,e,i,n){for(var a=e.targetVisuals[n],o=Kx.prepareVisualTypes(a),r={color:t.getData().getVisual(&quot;color&quot;)},s=0,l=o.length;s&lt;l;s++){var h=o[s],u=a[&quot;opacity&quot;===h?&quot;__alphaForOpacity&quot;:h];u&amp;&amp;u.applyVisual(i,function(t){return r[t]},function(t,e){r[t]=e})}return r.color},null,e,t))||{stops:[],outerColors:[]};a.dimension=t.getDataDimension(i),n.push(a)}}),e.getData().setVisual(&quot;visualMeta&quot;,n)})}(t)});var nT={get:function(t,e,i){var n=rl.clone((aT[t]||{})[e]);return i&amp;&amp;rl.isArray(n)?n[n.length-1]:n}},aT={color:{active:[&quot;#006edd&quot;,&quot;#e0ffff&quot;],inactive:[&quot;rgba(0,0,0,0)&quot;]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:[&quot;circle&quot;,&quot;roundRect&quot;,&quot;diamond&quot;],inactive:[&quot;none&quot;]},symbolSize:{active:[10,50],inactive:[0,0]}},oT=nT,rT=Kx.mapVisual,sT=Kx.eachVisual,lT=rl.isArray,hT=rl.each,uT=Pu.asc,cT=Pu.linearMap,dT=rl.noop,pT=[&quot;#f6efa6&quot;,&quot;#d88273&quot;,&quot;#bf444c&quot;],fT=ym.extendComponentModel({type:&quot;visualMap&quot;,dependencies:[&quot;series&quot;],stateList:[&quot;inRange&quot;,&quot;outOfRange&quot;],replacableOptionKeys:[&quot;inRange&quot;,&quot;outOfRange&quot;,&quot;target&quot;,&quot;controller&quot;,&quot;color&quot;],dataBound:[-1/0,1/0],layoutMode:{type:&quot;box&quot;,ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:&quot;all&quot;,min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:&quot;vertical&quot;,backgroundColor:&quot;rgba(0,0,0,0)&quot;,borderColor:&quot;#ccc&quot;,contentColor:&quot;#5793f3&quot;,inactiveColor:&quot;#aaa&quot;,borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:&quot;#333&quot;}},init:function(t,e,i){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(t,i)},optionUpdated:function(t,e){var i=this.option;Us.canvasSupported||(i.realtime=!1),!e&amp;&amp;JM.replaceVisualOption(i,t,this.replacableOptionKeys),this.textStyleModel=this.getModel(&quot;textStyle&quot;),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(t){var e=this.stateList;t=rl.bind(t,this),this.controllerVisuals=JM.createVisualMappings(this.option.controller,e,t),this.targetVisuals=JM.createVisualMappings(this.option.target,e,t)},getTargetSeriesIndices:function(){var t=this.option.seriesIndex,e=[];return null==t||&quot;all&quot;===t?this.ecModel.eachSeries(function(t,i){e.push(i)}):e=Ip.normalizeToArray(t),e},eachTargetSeries:function(t,e){rl.each(this.getTargetSeriesIndices(),function(i){t.call(e,this.ecModel.getSeriesByIndex(i))},this)},isTargetSeries:function(t){var e=!1;return this.eachTargetSeries(function(i){i===t&amp;&amp;(e=!0)}),e},formatValueText:function(t,e,i){function n(t){return t===l[0]?&quot;min&quot;:t===l[1]?&quot;max&quot;:(+t).toFixed(Math.min(s,20))}var a,o,r=this.option,s=r.precision,l=this.dataBound,h=r.formatter;return i=i||[&quot;&lt;&quot;,&quot;&gt;&quot;],rl.isArray(t)&amp;&amp;(t=t.slice(),a=!0),o=e?t:a?[n(t[0]),n(t[1])]:n(t),rl.isString(h)?h.replace(&quot;{value}&quot;,a?o[0]:o).replace(&quot;{value2}&quot;,a?o[1]:o):rl.isFunction(h)?a?h(t[0],t[1]):h(t):a?t[0]===l[0]?i[0]+&quot; &quot;+o[1]:t[1]===l[1]?i[1]+&quot; &quot;+o[0]:o[0]+&quot; - &quot;+o[1]:o},resetExtent:function(){var t=this.option,e=uT([t.min,t.max]);this._dataExtent=e},getDataDimension:function(t){var e=this.option.dimension;return null!=e?e:t.dimensions.length-1},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function t(t){lT(e.color)&amp;&amp;!t.inRange&amp;&amp;(t.inRange={color:e.color.slice().reverse()}),t.inRange=t.inRange||{color:pT},hT(this.stateList,function(e){var i=t[e];if(rl.isString(i)){var n=oT.get(i,&quot;active&quot;,o);n?(t[e]={},t[e][i]=n):delete t[e]}},this)}var e=this.option,i={inRange:e.inRange,outOfRange:e.outOfRange},n=e.target||(e.target={}),a=e.controller||(e.controller={});rl.merge(n,i),rl.merge(a,i);var o=this.isCategory();t.call(this,n),t.call(this,a),function(t,e,i){var n=t[e],a=t[i];n&amp;&amp;!a&amp;&amp;(a=t[i]={},hT(n,function(t,e){if(Kx.isValidType(e)){var i=oT.get(e,&quot;inactive&quot;,o);null!=i&amp;&amp;(a[e]=i,&quot;color&quot;!==e||a.hasOwnProperty(&quot;opacity&quot;)||a.hasOwnProperty(&quot;colorAlpha&quot;)||(a.opacity=[0,0]))}}))}.call(this,n,&quot;inRange&quot;,&quot;outOfRange&quot;),function(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,i=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,n=this.get(&quot;inactiveColor&quot;);hT(this.stateList,function(a){var r=this.itemSize,s=t[a];s||(s=t[a]={color:o?n:[n]}),null==s.symbol&amp;&amp;(s.symbol=e&amp;&amp;rl.clone(e)||(o?&quot;roundRect&quot;:[&quot;roundRect&quot;])),null==s.symbolSize&amp;&amp;(s.symbolSize=i&amp;&amp;rl.clone(i)||(o?r[0]:[r[0],r[0]])),s.symbol=rT(s.symbol,function(t){return&quot;none&quot;===t||&quot;square&quot;===t?&quot;roundRect&quot;:t});var l=s.symbolSize;if(null!=l){var h=-1/0;sT(l,function(t){t&gt;h&amp;&amp;(h=t)}),s.symbolSize=rT(l,function(t){return cT(t,[0,h],[0,r[0]],!0)})}},this)}.call(this,a)},resetItemSize:function(){this.itemSize=[parseFloat(this.get(&quot;itemWidth&quot;)),parseFloat(this.get(&quot;itemHeight&quot;))]},isCategory:function(){return!!this.option.categories},setSelected:dT,getValueState:dT,getVisualMeta:dT}),gT=[20,140],mT=fT.extend({type:&quot;visualMap.continuous&quot;,defaultOption:{align:&quot;auto&quot;,calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(t,e){mT.superApply(this,&quot;optionUpdated&quot;,arguments),this.resetExtent(),this.resetVisual(function(t){t.mappingMethod=&quot;linear&quot;,t.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){mT.superApply(this,&quot;resetItemSize&quot;,arguments);var t=this.itemSize;&quot;horizontal&quot;===this._orient&amp;&amp;t.reverse(),(null==t[0]||isNaN(t[0]))&amp;&amp;(t[0]=gT[0]),(null==t[1]||isNaN(t[1]))&amp;&amp;(t[1]=gT[1])},_resetRange:function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):rl.isArray(e)&amp;&amp;(e[0]&gt;e[1]&amp;&amp;e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},completeVisualOption:function(){fT.prototype.completeVisualOption.apply(this,arguments),rl.each(this.stateList,function(t){var e=this.option.controller[t].symbolSize;e&amp;&amp;e[0]!==e[1]&amp;&amp;(e[0]=0)},this)},setSelected:function(t){this.option.range=t.slice(),this._resetRange()},getSelected:function(){var t=this.getExtent(),e=Pu.asc((this.get(&quot;range&quot;)||[]).slice());return e[0]&gt;t[1]&amp;&amp;(e[0]=t[1]),e[1]&gt;t[1]&amp;&amp;(e[1]=t[1]),e[0]&lt;t[0]&amp;&amp;(e[0]=t[0]),e[1]&lt;t[0]&amp;&amp;(e[1]=t[0]),e},getValueState:function(t){var e=this.option.range,i=this.getExtent();return(e[0]&lt;=i[0]||e[0]&lt;=t)&amp;&amp;(e[1]&gt;=i[1]||t&lt;=e[1])?&quot;inRange&quot;:&quot;outOfRange&quot;},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries(function(i){var n=[],a=i.getData();a.each(this.getDataDimension(a),function(e,i){t[0]&lt;=e&amp;&amp;e&lt;=t[1]&amp;&amp;n.push(i)},!0,this),e.push({seriesId:i.id,dataIndex:n})},this),e},getVisualMeta:function(t){function e(e,i){a.push({value:e,color:t(e,i)})}for(var i=Ur(0,0,this.getExtent()),n=Ur(0,0,this.option.range.slice()),a=[],o=0,r=0,s=n.length,l=i.length;r&lt;l&amp;&amp;(!n.length||i[r]&lt;=n[0]);r++)i[r]&lt;n[o]&amp;&amp;e(i[r],&quot;outOfRange&quot;);for(h=1;o&lt;s;o++,h=0)h&amp;&amp;a.length&amp;&amp;e(n[o],&quot;outOfRange&quot;),e(n[o],&quot;inRange&quot;);for(var h=1;r&lt;l;r++)(!n.length||n[n.length-1]&lt;i[r])&amp;&amp;(h&amp;&amp;(a.length&amp;&amp;e(a[a.length-1].value,&quot;outOfRange&quot;),h=0),e(i[r],&quot;outOfRange&quot;));var u=a.length;return{stops:a,outerColors:[u?a[0].color:&quot;transparent&quot;,u?a[u-1].color:&quot;transparent&quot;]}}}),vT=ym.extendComponentView({type:&quot;visualMap&quot;,autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(t,e){this.ecModel=t,this.api=e,this.visualMapModel},render:function(t,e,i,n){this.visualMapModel=t,!1!==t.get(&quot;show&quot;)?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(t){var e=this.visualMapModel,i=Eu.normalizeCssArray(e.get(&quot;padding&quot;)||0),n=t.getBoundingRect();t.add(new fp.Rect({z2:-1,silent:!0,shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[3]+i[1],height:n.height+i[0]+i[2]},style:{fill:e.get(&quot;backgroundColor&quot;),stroke:e.get(&quot;borderColor&quot;),lineWidth:e.get(&quot;borderWidth&quot;)}}))},getControllerVisual:function(t,e,i){var n=(i=i||{}).forceState,a=this.visualMapModel,o={};if(&quot;symbol&quot;===e&amp;&amp;(o.symbol=a.get(&quot;itemSymbol&quot;)),&quot;color&quot;===e){var r=a.get(&quot;contentColor&quot;);o.color=r}var s=a.controllerVisuals[n||a.getValueState(t)],l=Kx.prepareVisualTypes(s);return rl.each(l,function(n){var a=s[n];i.convertOpacityToAlpha&amp;&amp;&quot;opacity&quot;===n&amp;&amp;(n=&quot;colorAlpha&quot;,a=s.__alphaForOpacity),Kx.dependsOn(n,e)&amp;&amp;a&amp;&amp;a.applyVisual(t,function(t){return o[t]},function(t,e){o[t]=e})}),o[e]},positionGroup:function(t){var e=this.visualMapModel,i=this.api;Np.positionElement(t,e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},doRender:rl.noop}),yT=Np.getLayoutRect,xT={getItemAlign:function(t,e,i){var n=t.option,a=n.align;if(null!=a&amp;&amp;&quot;auto&quot;!==a)return a;for(var o={width:e.getWidth(),height:e.getHeight()},r=&quot;horizontal&quot;===n.orient?1:0,s=[[&quot;left&quot;,&quot;right&quot;,&quot;width&quot;],[&quot;top&quot;,&quot;bottom&quot;,&quot;height&quot;]],l=s[r],h=[0,null,10],u={},c=0;c&lt;3;c++)u[s[1-r][c]]=h[c],u[l[c]]=2===c?i[0]:n[l[c]];var d=[[&quot;x&quot;,&quot;width&quot;,3],[&quot;y&quot;,&quot;height&quot;,0]][r],p=yT(u,o,n.padding);return l[(p.margin[d[2]]||0)+p[d[0]]+.5*p[d[1]]&lt;.5*o[d[1]]?0:1]},convertDataIndex:function(t){return rl.each(t||[],function(e){null!=t.dataIndex&amp;&amp;(t.dataIndexInside=t.dataIndex,t.dataIndex=null)}),t}},_T=Pu.linearMap,bT=rl.each,wT=Math.min,ST=Math.max,MT=12,IT=6,TT=vT.extend({type:&quot;visualMap.continuous&quot;,init:function(){TT.superApply(this,&quot;init&quot;,arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(t,e,i,n){n&amp;&amp;&quot;selectDataRange&quot;===n.type&amp;&amp;n.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get(&quot;orient&quot;),this._useHandle=t.get(&quot;calculable&quot;),this._resetInterval(),this._renderBar(e);var i=t.get(&quot;text&quot;);this._renderEndsText(e,i,0),this._renderEndsText(e,i,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},_renderEndsText:function(t,e,i){if(e){var n=e[1-i];n=null!=n?n+&quot;&quot;:&quot;&quot;;var a=this.visualMapModel,o=a.get(&quot;textGap&quot;),r=a.itemSize,s=this._shapes.barGroup,l=this._applyTransform([r[0]/2,0===i?-o:r[1]+o],s),h=this._applyTransform(0===i?&quot;bottom&quot;:&quot;top&quot;,s),u=this._orient,c=this.visualMapModel.textStyleModel;this.group.add(new fp.Text({style:{x:l[0],y:l[1],textVerticalAlign:&quot;horizontal&quot;===u?&quot;middle&quot;:h,textAlign:&quot;horizontal&quot;===u?h:&quot;center&quot;,text:n,textFont:c.getFont(),textFill:c.getTextColor()}}))}},_renderBar:function(t){var e=this.visualMapModel,i=this._shapes,n=e.itemSize,a=this._orient,o=this._useHandle,r=xT.getItemAlign(e,this.api,n),s=i.barGroup=this._createBarGroup(r);s.add(i.outOfRange=qr()),s.add(i.inRange=qr(null,o?Yr(this._orient):null,rl.bind(this._dragHandle,this,&quot;all&quot;,!1),rl.bind(this._dragHandle,this,&quot;all&quot;,!0)));var l=e.textStyleModel.getTextRect(&quot;å½&quot;),h=ST(l.width,l.height);o&amp;&amp;(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(s,0,n,h,a,r),this._createHandle(s,1,n,h,a,r)),this._createIndicator(s,n,h,a),t.add(s)},_createHandle:function(t,e,i,n,a){var o=rl.bind(this._dragHandle,this,e,!1),r=rl.bind(this._dragHandle,this,e,!0),s=qr(function(t,e){return 0===t?[[0,0],[e,0],[e,-e]]:[[0,0],[e,0],[e,e]]}(e,n),Yr(this._orient),o,r);s.position[0]=i[0],t.add(s);var l=this.visualMapModel.textStyleModel,h=new fp.Text({draggable:!0,drift:o,onmousemove:function(t){su.stop(t.event)},ondragend:r,style:{x:0,y:0,text:&quot;&quot;,textFont:l.getFont(),textFill:l.getTextColor()}});this.group.add(h);var u=[&quot;horizontal&quot;===a?n/2:1.5*n,&quot;horizontal&quot;===a?0===e?-1.5*n:1.5*n:0===e?-n/2:n/2],c=this._shapes;c.handleThumbs[e]=s,c.handleLabelPoints[e]=u,c.handleLabels[e]=h},_createIndicator:function(t,e,i,n){var a=qr([[0,0]],&quot;move&quot;);a.position[0]=e[0],a.attr({invisible:!0,silent:!0}),t.add(a);var o=this.visualMapModel.textStyleModel,r=new fp.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:&quot;&quot;,textFont:o.getFont(),textFill:o.getTextColor()}});this.group.add(r);var s=[&quot;horizontal&quot;===n?i/2:IT+3,0],l=this._shapes;l.indicator=a,l.indicatorLabel=r,l.indicatorLabelPoint=s},_dragHandle:function(t,e,i,n){if(this._useHandle){if(this._dragging=!e,!e){var a=this._applyTransform([i,n],this._shapes.barGroup,!0);this._updateInterval(t,a[1]),this._updateView()}e===!this.visualMapModel.get(&quot;realtime&quot;)&amp;&amp;this.api.dispatchAction({type:&quot;selectDataRange&quot;,from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?!this._hovering&amp;&amp;this._clearHoverLinkToSeries():Xr(this.visualMapModel)&amp;&amp;this._doHoverLinkToSeries(this._handleEnds[t],!1)}},_resetInterval:function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),i=t.getExtent(),n=[0,t.itemSize[1]];this._handleEnds=[_T(e[0],i,n,!0),_T(e[1],i,n,!0)]},_updateInterval:function(t,e){e=e||0;var i=this.visualMapModel,n=this._handleEnds,a=[0,i.itemSize[1]];xb(e,n,a,t,0);var o=i.getExtent();this._dataInterval=[_T(n[0],a,o,!0),_T(n[1],a,o,!0)]},_updateView:function(t){var e=this.visualMapModel,i=e.getExtent(),n=this._shapes,a=[0,e.itemSize[1]],o=t?a:this._handleEnds,r=this._createBarVisual(this._dataInterval,i,o,&quot;inRange&quot;),s=this._createBarVisual(i,i,a,&quot;outOfRange&quot;);n.inRange.setStyle({fill:r.barColor,opacity:r.opacity}).setShape(&quot;points&quot;,r.barPoints),n.outOfRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape(&quot;points&quot;,s.barPoints),this._updateHandle(o,r)},_createBarVisual:function(t,e,i,n){var a={forceState:n,convertOpacityToAlpha:!0},o=this._makeColorGradient(t,a),r=[this.getControllerVisual(t[0],&quot;symbolSize&quot;,a),this.getControllerVisual(t[1],&quot;symbolSize&quot;,a)],s=this._createBarPoints(i,r);return{barColor:new Ud(0,0,0,1,o),barPoints:s,handlesColor:[o[0].color,o[o.length-1].color]}},_makeColorGradient:function(t,e){var i=[],n=(t[1]-t[0])/100;i.push({color:this.getControllerVisual(t[0],&quot;color&quot;,e),offset:0});for(var a=1;a&lt;100;a++){var o=t[0]+n*a;if(o&gt;t[1])break;i.push({color:this.getControllerVisual(o,&quot;color&quot;,e),offset:a/100})}return i.push({color:this.getControllerVisual(t[1],&quot;color&quot;,e),offset:1}),i},_createBarPoints:function(t,e){var i=this.visualMapModel.itemSize;return[[i[0]-e[0],t[0]],[i[0],t[0]],[i[0],t[1]],[i[0]-e[1],t[1]]]},_createBarGroup:function(t){var e=this._orient,i=this.visualMapModel.get(&quot;inverse&quot;);return new fp.Group(&quot;horizontal&quot;!==e||i?&quot;horizontal&quot;===e&amp;&amp;i?{scale:&quot;bottom&quot;===t?[-1,1]:[1,1],rotation:-Math.PI/2}:&quot;vertical&quot;!==e||i?{scale:&quot;left&quot;===t?[1,1]:[-1,1]}:{scale:&quot;left&quot;===t?[1,-1]:[-1,-1]}:{scale:&quot;bottom&quot;===t?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(t,e){if(this._useHandle){var i=this._shapes,n=this.visualMapModel,a=i.handleThumbs,o=i.handleLabels;bT([0,1],function(r){var s=a[r];s.setStyle(&quot;fill&quot;,e.handlesColor[r]),s.position[1]=t[r];var l=fp.applyTransform(i.handleLabelPoints[r],fp.getTransform(s,this.group));o[r].setStyle({x:l[0],y:l[1],text:n.formatValueText(this._dataInterval[r]),textVerticalAlign:&quot;middle&quot;,textAlign:this._applyTransform(&quot;horizontal&quot;===this._orient?0===r?&quot;bottom&quot;:&quot;top&quot;:&quot;left&quot;,i.barGroup)})},this)}},_showIndicator:function(t,e,i,n){var a=this.visualMapModel,o=a.getExtent(),r=a.itemSize,s=[0,r[1]],l=_T(t,o,s,!0),h=this._shapes,u=h.indicator;if(u){u.position[1]=l,u.attr(&quot;invisible&quot;,!1),u.setShape(&quot;points&quot;,function(t,e,i,n){return t?[[0,-wT(e,ST(i,0))],[IT,0],[0,wT(e,ST(n-i,0))]]:[[0,0],[5,-5],[5,5]]}(!!i,n,l,r[1]));var c=this.getControllerVisual(t,&quot;color&quot;,{convertOpacityToAlpha:!0});u.setStyle(&quot;fill&quot;,c);var d=fp.applyTransform(h.indicatorLabelPoint,fp.getTransform(u,this.group)),p=h.indicatorLabel;p.attr(&quot;invisible&quot;,!1);var f=this._applyTransform(&quot;left&quot;,h.barGroup),g=this._orient;p.setStyle({text:(i||&quot;&quot;)+a.formatValueText(e),textVerticalAlign:&quot;horizontal&quot;===g?f:&quot;middle&quot;,textAlign:&quot;horizontal&quot;===g?&quot;center&quot;:f,x:d[0],y:d[1]})}},_enableHoverLinkToSeries:function(){var t=this;this._shapes.barGroup.on(&quot;mousemove&quot;,function(e){if(t._hovering=!0,!t._dragging){var i=t.visualMapModel.itemSize,n=t._applyTransform([e.offsetX,e.offsetY],t._shapes.barGroup,!0,!0);n[1]=wT(ST(0,n[1]),i[1]),t._doHoverLinkToSeries(n[1],0&lt;=n[0]&amp;&amp;n[0]&lt;=i[0])}}).on(&quot;mouseout&quot;,function(){t._hovering=!1,!t._dragging&amp;&amp;t._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on(&quot;mouseover&quot;,this._hoverLinkFromSeriesMouseOver,this),t.on(&quot;mouseout&quot;,this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(t,e){var i=this.visualMapModel,n=i.itemSize;if(i.option.hoverLink){var a=[0,n[1]],o=i.getExtent();t=wT(ST(a[0],t),a[1]);var r=function(t,e,i){var n=MT/2,a=t.get(&quot;hoverLinkDataSize&quot;);return a&amp;&amp;(n=_T(a,e,i,!0)/2),n}(i,o,a),s=[t-r,t+r],l=_T(t,a,o,!0),h=[_T(s[0],a,o,!0),_T(s[1],a,o,!0)];s[0]&lt;a[0]&amp;&amp;(h[0]=-1/0),s[1]&gt;a[1]&amp;&amp;(h[1]=1/0),e&amp;&amp;(h[0]===-1/0?this._showIndicator(l,h[1],&quot;&lt; &quot;,r):h[1]===1/0?this._showIndicator(l,h[0],&quot;&gt; &quot;,r):this._showIndicator(l,l,&quot;â &quot;,r));var u=this._hoverLinkDataIndices,c=[];(e||Xr(i))&amp;&amp;(c=this._hoverLinkDataIndices=i.findTargetDataIndices(h));var d=Ip.compressBatches(u,c);this._dispatchHighDown(&quot;downplay&quot;,xT.convertDataIndex(d[0])),this._dispatchHighDown(&quot;highlight&quot;,xT.convertDataIndex(d[1]))}},_hoverLinkFromSeriesMouseOver:function(t){var e=t.target,i=this.visualMapModel;if(e&amp;&amp;null!=e.dataIndex){var n=this.ecModel.getSeriesByIndex(e.seriesIndex);if(i.isTargetSeries(n)){var a=n.getData(e.dataType),o=a.getDimension(i.getDataDimension(a)),r=a.get(o,e.dataIndex,!0);isNaN(r)||this._showIndicator(r,r)}}},_hideIndicator:function(){var t=this._shapes;t.indicator&amp;&amp;t.indicator.attr(&quot;invisible&quot;,!0),t.indicatorLabel&amp;&amp;t.indicatorLabel.attr(&quot;invisible&quot;,!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown(&quot;downplay&quot;,xT.convertDataIndex(t)),t.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var t=this.api.getZr();t.off(&quot;mouseover&quot;,this._hoverLinkFromSeriesMouseOver),t.off(&quot;mouseout&quot;,this._hideIndicator)},_applyTransform:function(t,e,i,n){var a=fp.getTransform(e,n?null:this.group);return fp[rl.isArray(t)?&quot;applyTransform&quot;:&quot;transformDirection&quot;](t,a,i)},_dispatchHighDown:function(t,e){e&amp;&amp;e.length&amp;&amp;this.api.dispatchAction({type:t,batch:e})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});ym.registerAction({type:&quot;selectDataRange&quot;,event:&quot;dataRangeSelected&quot;,update:&quot;update&quot;},function(t,e){e.eachComponent({mainType:&quot;visualMap&quot;,query:t},function(e){e.setSelected(t.selected)})}),ym.registerPreprocessor(iT);var AT=Pu.reformIntervals,CT=fT.extend({type:&quot;visualMap.piecewise&quot;,defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:&quot;auto&quot;,itemWidth:20,itemHeight:14,itemSymbol:&quot;roundRect&quot;,pieceList:null,categories:null,splitNumber:5,selectedMode:&quot;multiple&quot;,itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(t,e){CT.superApply(this,&quot;optionUpdated&quot;,arguments),this._pieceList=[],this.resetExtent();var i=this._mode=this._determineMode();LT[this._mode].call(this),this._resetSelected(t,e);var n=this.option.categories;this.resetVisual(function(t,e){&quot;categories&quot;===i?(t.mappingMethod=&quot;category&quot;,t.categories=rl.clone(n)):(t.dataExtent=this.getExtent(),t.mappingMethod=&quot;piecewise&quot;,t.pieceList=rl.map(this._pieceList,function(t){t=rl.clone(t);return&quot;inRange&quot;!==e&amp;&amp;(t.visual=null),t}))})},completeVisualOption:function(){function t(t,e,i){return t&amp;&amp;t[e]&amp;&amp;(rl.isObject(t[e])?t[e].hasOwnProperty(i):t[e]===i)}var e=this.option,i={},n=Kx.listVisualTypes(),a=this.isCategory();rl.each(e.pieces,function(t){rl.each(n,function(e){t.hasOwnProperty(e)&amp;&amp;(i[e]=1)})}),rl.each(i,function(i,n){var o=0;rl.each(this.stateList,function(i){o|=t(e,i,n)||t(e.target,i,n)},this),!o&amp;&amp;rl.each(this.stateList,function(t){(e[t]||(e[t]={}))[n]=oT.get(n,&quot;inRange&quot;===t?&quot;active&quot;:&quot;inactive&quot;,a)})},this),fT.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(t,e){var i=this.option,n=this._pieceList,a=(e?i:t).selected||{};if(i.selected=a,rl.each(n,function(t,e){var i=this.getSelectedMapKey(t);a.hasOwnProperty(i)||(a[i]=!0)},this),&quot;single&quot;===i.selectedMode){var o=!1;rl.each(n,function(t,e){var i=this.getSelectedMapKey(t);a[i]&amp;&amp;(o?a[i]=!1:o=!0)},this)}},getSelectedMapKey:function(t){return&quot;categories&quot;===this._mode?t.value+&quot;&quot;:t.index+&quot;&quot;},getPieceList:function(){return this._pieceList},_determineMode:function(){var t=this.option;return t.pieces&amp;&amp;t.pieces.length&gt;0?&quot;pieces&quot;:this.option.categories?&quot;categories&quot;:&quot;splitNumber&quot;},setSelected:function(t){this.option.selected=rl.clone(t)},getValueState:function(t){var e=Kx.findPieceIndex(t,this._pieceList);return null!=e&amp;&amp;this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?&quot;inRange&quot;:&quot;outOfRange&quot;},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries(function(i){var n=[],a=i.getData();a.each(this.getDataDimension(a),function(e,i){Kx.findPieceIndex(e,this._pieceList)===t&amp;&amp;n.push(i)},!0,this),e.push({seriesId:i.id,dataIndex:n})},this),e},getRepresentValue:function(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var i=t.interval||[];e=i[0]===-1/0&amp;&amp;i[1]===1/0?0:(i[0]+i[1])/2}return e},getVisualMeta:function(t){function e(e,o){var r=a.getRepresentValue({interval:e});o||(o=a.getValueState(r));var s=t(r,o);e[0]===-1/0?n[0]=s:e[1]===1/0?n[1]=s:i.push({value:e[0],color:s},{value:e[1],color:s})}if(!this.isCategory()){var i=[],n=[],a=this,o=this._pieceList.slice();if(o.length){var r=o[0].interval[0];r!==-1/0&amp;&amp;o.unshift({interval:[-1/0,r]}),(r=o[o.length-1].interval[1])!==1/0&amp;&amp;o.push({interval:[r,1/0]})}else o.push({interval:[-1/0,1/0]});var s=-1/0;return rl.each(o,function(t){var i=t.interval;i&amp;&amp;(i[0]&gt;s&amp;&amp;e([s,i[0]],&quot;outOfRange&quot;),e(i.slice()),s=i[1])},this),{stops:i,outerColors:n}}}}),LT={splitNumber:function(){var t=this.option,e=this._pieceList,i=Math.min(t.precision,20),n=this.getExtent(),a=t.splitNumber;a=Math.max(parseInt(a,10),1),t.splitNumber=a;for(var o=(n[1]-n[0])/a;+o.toFixed(i)!==o&amp;&amp;i&lt;5;)i++;t.precision=i,o=+o.toFixed(i);var r=0;t.minOpen&amp;&amp;e.push({index:r++,interval:[-1/0,n[0]],close:[0,0]});for(var s=n[0],l=r+a;r&lt;l;s+=o){var h=r===a-1?n[1]:s+o;e.push({index:r++,interval:[s,h],close:[1,1]})}t.maxOpen&amp;&amp;e.push({index:r++,interval:[n[1],1/0],close:[0,0]}),AT(e),rl.each(e,function(t){t.text=this.formatValueText(t.interval)},this)},categories:function(){var t=this.option;rl.each(t.categories,function(t){this._pieceList.push({text:this.formatValueText(t,!0),value:t})},this),$r(t,this._pieceList)},pieces:function(){var t=this.option,e=this._pieceList;rl.each(t.pieces,function(t,i){rl.isObject(t)||(t={value:t});var n={text:&quot;&quot;,index:i};if(null!=t.label&amp;&amp;(n.text=t.label),t.hasOwnProperty(&quot;value&quot;)){var a=n.value=t.value;n.interval=[a,a],n.close=[1,1]}else{for(var o=n.interval=[],r=n.close=[0,0],s=[1,0,1],l=[-1/0,1/0],h=[],u=0;u&lt;2;u++){for(var c=[[&quot;gte&quot;,&quot;gt&quot;,&quot;min&quot;],[&quot;lte&quot;,&quot;lt&quot;,&quot;max&quot;]][u],d=0;d&lt;3&amp;&amp;null==o[u];d++)o[u]=t[c[d]],r[u]=s[d],h[u]=2===d;null==o[u]&amp;&amp;(o[u]=l[u])}h[0]&amp;&amp;o[1]===1/0&amp;&amp;(r[0]=0),h[1]&amp;&amp;o[0]===-1/0&amp;&amp;(r[1]=0),o[0]===o[1]&amp;&amp;r[0]&amp;&amp;r[1]&amp;&amp;(n.value=o[0])}n.visual=Kx.retrieveVisuals(t),e.push(n)},this),$r(t,e),AT(e),rl.each(e,function(t){var e=t.close,i=[[&quot;&lt;&quot;,&quot;â¤&quot;][e[1]],[&quot;&gt;&quot;,&quot;â¥&quot;][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,i)},this)}},DT=Ug.createSymbol;vT.extend({type:&quot;visualMap.piecewise&quot;,doRender:function(){var t=this.group;t.removeAll();var e=this.visualMapModel,i=e.get(&quot;textGap&quot;),n=e.textStyleModel,a=n.getFont(),o=n.getTextColor(),r=this._getItemAlign(),s=e.itemSize,l=this._getViewData(),h=l.endsText,u=rl.retrieve(e.get(&quot;showLabel&quot;,!0),!h);h&amp;&amp;this._renderEndsText(t,h[0],s,u,r),rl.each(l.viewPieceList,function(n){var l=n.piece,h=new fp.Group;h.onclick=rl.bind(this._onItemClick,this,l),this._enableHoverLink(h,n.indexInModelPieceList);var c=e.getRepresentValue(l);if(this._createItemSymbol(h,c,[0,0,s[0],s[1]]),u){var d=this.visualMapModel.getValueState(c);h.add(new fp.Text({style:{x:&quot;right&quot;===r?-i:s[0]+i,y:s[1]/2,text:l.text,textVerticalAlign:&quot;middle&quot;,textAlign:r,textFont:a,textFill:o,opacity:&quot;outOfRange&quot;===d?.5:1}}))}t.add(h)},this),h&amp;&amp;this._renderEndsText(t,h[1],s,u,r),Np.box(e.get(&quot;orient&quot;),t,e.get(&quot;itemGap&quot;)),this.renderBackground(t),this.positionGroup(t)},_enableHoverLink:function(t,e){function i(t){var i=this.visualMapModel;i.option.hoverLink&amp;&amp;this.api.dispatchAction({type:t,batch:xT.convertDataIndex(i.findTargetDataIndices(e))})}t.on(&quot;mouseover&quot;,rl.bind(i,this,&quot;highlight&quot;)).on(&quot;mouseout&quot;,rl.bind(i,this,&quot;downplay&quot;))},_getItemAlign:function(){var t=this.visualMapModel,e=t.option;if(&quot;vertical&quot;===e.orient)return xT.getItemAlign(t,this.api,t.itemSize);var i=e.align;return i&amp;&amp;&quot;auto&quot;!==i||(i=&quot;left&quot;),i},_renderEndsText:function(t,e,i,n,a){if(e){var o=new fp.Group,r=this.visualMapModel.textStyleModel;o.add(new fp.Text({style:{x:n?&quot;right&quot;===a?i[0]:0:i[0]/2,y:i[1]/2,textVerticalAlign:&quot;middle&quot;,textAlign:n?a:&quot;center&quot;,text:e,textFont:r.getFont(),textFill:r.getTextColor()}})),t.add(o)}},_getViewData:function(){var t=this.visualMapModel,e=rl.map(t.getPieceList(),function(t,e){return{piece:t,indexInModelPieceList:e}}),i=t.get(&quot;text&quot;),n=t.get(&quot;orient&quot;),a=t.get(&quot;inverse&quot;);return(&quot;horizontal&quot;===n?a:!a)?e.reverse():i&amp;&amp;(i=i.slice().reverse()),{viewPieceList:e,endsText:i}},_createItemSymbol:function(t,e,i){t.add(DT(this.getControllerVisual(e,&quot;symbol&quot;),i[0],i[1],i[2],i[3],this.getControllerVisual(e,&quot;color&quot;)))},_onItemClick:function(t){var e=this.visualMapModel,i=e.option,n=rl.clone(i.selected),a=e.getSelectedMapKey(t);&quot;single&quot;===i.selectedMode?(n[a]=!0,rl.each(n,function(t,e){n[e]=e===a})):n[a]=!n[a],this.api.dispatchAction({type:&quot;selectDataRange&quot;,from:this.uid,visualMapId:this.visualMapModel.id,selected:n})}});ym.registerPreprocessor(iT);var PT=Eu.addCommas,kT=Eu.encodeHTML,OT=ym.extendComponentModel({type:&quot;marker&quot;,dependencies:[&quot;series&quot;,&quot;grid&quot;,&quot;polar&quot;,&quot;geo&quot;],init:function(t,e,i,n){this.mergeDefaultAndTheme(t,i),this.mergeOption(t,i,n.createdBySelf,!0)},isAnimationEnabled:function(){if(Us.node)return!1;var t=this.__hostSeries;return this.getShallow(&quot;animation&quot;)&amp;&amp;t&amp;&amp;t.isAnimationEnabled()},mergeOption:function(t,e,i,n){var a=this.constructor,o=this.mainType+&quot;Model&quot;;i||e.eachSeries(function(t){var i=t.get(this.mainType),r=t[o];i&amp;&amp;i.data?(r?r.mergeOption(i,e,!0):(n&amp;&amp;Kr(i),rl.each(i.data,function(t){t instanceof Array?(Kr(t[0]),Kr(t[1])):Kr(t)}),r=new a(i,this,e),rl.extend(r,{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),r.__hostSeries=t),t[o]=r):t[o]=null},this)},formatTooltip:function(t){var e=this.getData(),i=this.getRawValue(t),n=rl.isArray(i)?rl.map(i,PT).join(&quot;, &quot;):PT(i),a=e.getName(t),o=kT(this.name);return(null!=i||a)&amp;&amp;(o+=&quot;&lt;br /&gt;&quot;),a&amp;&amp;(o+=kT(a),null!=i&amp;&amp;(o+=&quot; : &quot;)),null!=i&amp;&amp;(o+=kT(n)),o},getData:function(){return this._data},setData:function(t){this._data=t}});rl.mixin(OT,Ip.dataFormatMixin);var zT=OT,ET=(zT.extend({type:&quot;markPoint&quot;,defaultOption:{zlevel:0,z:5,symbol:&quot;pin&quot;,symbolSize:50,tooltip:{trigger:&quot;item&quot;},label:{normal:{show:!0,position:&quot;inside&quot;},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:2}}}}),rl.indexOf),RT=rl.curry,NT={min:RT(Jr,&quot;min&quot;),max:RT(Jr,&quot;max&quot;),average:RT(Jr,&quot;average&quot;)},VT={dataTransform:function(t,e){var i=t.getData(),n=t.coordinateSystem;if(e&amp;&amp;!function(t){return!isNaN(parseFloat(t.x))&amp;&amp;!isNaN(parseFloat(t.y))}(e)&amp;&amp;!rl.isArray(e.coord)&amp;&amp;n){var a=n.dimensions,o=Qr(e,i,n,t);if((e=rl.clone(e)).type&amp;&amp;NT[e.type]&amp;&amp;o.baseAxis&amp;&amp;o.valueAxis){var r=ET(a,o.baseAxis.dim),s=ET(a,o.valueAxis.dim);e.coord=NT[e.type](i,o.baseDataDim,o.valueDataDim,r,s),e.value=e.coord[s]}else{for(var l=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],h=0;h&lt;2;h++)if(NT[l[h]]){var u=t.coordDimToDataDim(a[h])[0];l[h]=ts(i,u,l[h])}e.coord=l}}return e},getAxisInfo:Qr,dataFilter:function(t,e){return!(t&amp;&amp;t.containData&amp;&amp;e.coord&amp;&amp;!function(t){return!(isNaN(parseFloat(t.x))&amp;&amp;isNaN(parseFloat(t.y)))}(e))||t.containData(e.coord)},dimValueGetter:function(t,e,i,n){return n&lt;2?t.coord&amp;&amp;t.coord[n]:t.value},numCalculate:ts},BT=ym.extendComponentView({type:&quot;marker&quot;,init:function(){this.markerGroupMap=rl.createHashMap()},render:function(t,e,i){var n=this.markerGroupMap;n.each(function(t){t.__keep=!1});var a=this.type+&quot;Model&quot;;e.eachSeries(function(t){var n=t[a];n&amp;&amp;this.renderSeries(t,n,e,i)},this),n.each(function(t){!t.__keep&amp;&amp;this.group.remove(t.group)},this)},renderSeries:function(){}});BT.extend({type:&quot;markPoint&quot;,updateLayout:function(t,e,i){e.eachSeries(function(t){var e=t.markPointModel;e&amp;&amp;(es(e.getData(),t,i),this.markerGroupMap.get(t.id).updateLayout(e))},this)},renderSeries:function(t,e,i,n){var a=t.coordinateSystem,o=t.id,r=t.getData(),s=this.markerGroupMap,l=s.get(o)||s.set(o,new Pm),h=function(t,e,i){var n;n=t?rl.map(t&amp;&amp;t.dimensions,function(t){var i=e.getData().getDimensionInfo(e.coordDimToDataDim(t)[0])||{};return i.name=t,i}):[{name:&quot;value&quot;,type:&quot;float&quot;}];var a=new tg(n,i),o=rl.map(i.get(&quot;data&quot;),rl.curry(VT.dataTransform,e));return t&amp;&amp;(o=rl.filter(o,rl.curry(VT.dataFilter,t))),a.initData(o,null,t?VT.dimValueGetter:function(t){return t.value}),a}(a,t,e);e.setData(h),es(e.getData(),t,n),h.each(function(t){var i=h.getItemModel(t),n=i.getShallow(&quot;symbolSize&quot;);&quot;function&quot;==typeof n&amp;&amp;(n=n(e.getRawValue(t),e.getDataParams(t))),h.setItemVisual(t,{symbolSize:n,color:i.get(&quot;itemStyle.normal.color&quot;)||r.getVisual(&quot;color&quot;),symbol:i.getShallow(&quot;symbol&quot;)})}),l.updateData(h),this.group.add(l.group),h.eachItemGraphicEl(function(t){t.traverse(function(t){t.dataModel=e})}),l.__keep=!0,l.group.silent=e.get(&quot;silent&quot;)||t.get(&quot;silent&quot;)}});ym.registerPreprocessor(function(t){t.markPoint=t.markPoint||{}});zT.extend({type:&quot;markLine&quot;,defaultOption:{zlevel:0,z:5,symbol:[&quot;circle&quot;,&quot;arrow&quot;],symbolSize:[8,16],precision:2,tooltip:{trigger:&quot;item&quot;},label:{normal:{show:!0,position:&quot;end&quot;},emphasis:{show:!0}},lineStyle:{normal:{type:&quot;dashed&quot;},emphasis:{width:3}},animationEasing:&quot;linear&quot;}});var GT=function(t,e,i,n){var a=t.getData(),o=n.type;if(!rl.isArray(n)&amp;&amp;(&quot;min&quot;===o||&quot;max&quot;===o||&quot;average&quot;===o||null!=n.xAxis||null!=n.yAxis)){var r,s;if(null!=n.yAxis||null!=n.xAxis)r=null!=n.yAxis?&quot;y&quot;:&quot;x&quot;,e.getAxis(r),s=rl.retrieve(n.yAxis,n.xAxis);else{var l=VT.getAxisInfo(n,a,e,t);r=l.valueDataDim,l.valueAxis,s=VT.numCalculate(a,r,o)}var h=&quot;x&quot;===r?0:1,u=1-h,c=rl.clone(n),d={};c.type=null,c.coord=[],d.coord=[],c.coord[u]=-1/0,d.coord[u]=1/0;var p=i.get(&quot;precision&quot;);p&gt;=0&amp;&amp;&quot;number&quot;==typeof s&amp;&amp;(s=+s.toFixed(Math.min(p,20))),c.coord[h]=d.coord[h]=s,n=[c,d,{type:o,valueIndex:n.valueIndex,value:s}]}return n=[VT.dataTransform(t,n[0]),VT.dataTransform(t,n[1]),rl.extend({},n[2])],n[2].type=n[2].type||&quot;&quot;,rl.merge(n[2],n[0]),rl.merge(n[2],n[1]),n};BT.extend({type:&quot;markLine&quot;,updateLayout:function(t,e,i){e.eachSeries(function(t){var e=t.markLineModel;if(e){var n=e.getData(),a=e.__from,o=e.__to;a.each(function(e){as(a,e,!0,t,i),as(o,e,!1,t,i)}),n.each(function(t){n.setItemLayout(t,[a.getItemLayout(t),o.getItemLayout(t)])}),this.markerGroupMap.get(t.id).updateLayout()}},this)},renderSeries:function(t,e,i,n){function a(e,i,a){var o=e.getItemModel(i);as(e,i,a,t,n),e.setItemVisual(i,{symbolSize:o.get(&quot;symbolSize&quot;)||g[a?0:1],symbol:o.get(&quot;symbol&quot;,!0)||f[a?0:1],color:o.get(&quot;itemStyle.normal.color&quot;)||s.getVisual(&quot;color&quot;)})}var o=t.coordinateSystem,r=t.id,s=t.getData(),l=this.markerGroupMap,h=l.get(r)||l.set(r,new C_);this.group.add(h.group);var u=function(t,e,i){var n;n=t?rl.map(t&amp;&amp;t.dimensions,function(t){var i=e.getData().getDimensionInfo(e.coordDimToDataDim(t)[0])||{};return i.name=t,i}):[{name:&quot;value&quot;,type:&quot;float&quot;}];var a=new tg(n,i),o=new tg(n,i),r=new tg([],i),s=rl.map(i.get(&quot;data&quot;),rl.curry(GT,e,t,i));t&amp;&amp;(s=rl.filter(s,rl.curry(function(t,e){if(&quot;cartesian2d&quot;===t.type){var i=e[0].coord,n=e[1].coord;if(i&amp;&amp;n&amp;&amp;(ns(1,i,n,t)||ns(0,i,n,t)))return!0}return VT.dataFilter(t,e[0])&amp;&amp;VT.dataFilter(t,e[1])},t)));var l=t?VT.dimValueGetter:function(t){return t.value};return a.initData(rl.map(s,function(t){return t[0]}),null,l),o.initData(rl.map(s,function(t){return t[1]}),null,l),r.initData(rl.map(s,function(t){return t[2]})),r.hasItemOption=!0,{from:a,to:o,line:r}}(o,t,e),c=u.from,d=u.to,p=u.line;e.__from=c,e.__to=d,e.setData(p);var f=e.get(&quot;symbol&quot;),g=e.get(&quot;symbolSize&quot;);rl.isArray(f)||(f=[f,f]),&quot;number&quot;==typeof g&amp;&amp;(g=[g,g]),u.from.each(function(t){a(c,t,!0),a(d,t,!1)}),p.each(function(t){var e=p.getItemModel(t).get(&quot;lineStyle.normal.color&quot;);p.setItemVisual(t,{color:e||c.getItemVisual(t,&quot;color&quot;)}),p.setItemLayout(t,[c.getItemLayout(t),d.getItemLayout(t)]),p.setItemVisual(t,{fromSymbolSize:c.getItemVisual(t,&quot;symbolSize&quot;),fromSymbol:c.getItemVisual(t,&quot;symbol&quot;),toSymbolSize:d.getItemVisual(t,&quot;symbolSize&quot;),toSymbol:d.getItemVisual(t,&quot;symbol&quot;)})}),h.updateData(p),u.line.eachItemGraphicEl(function(t,i){t.traverse(function(t){t.dataModel=e})}),h.__keep=!0,h.group.silent=e.get(&quot;silent&quot;)||t.get(&quot;silent&quot;)}});ym.registerPreprocessor(function(t){t.markLine=t.markLine||{}});zT.extend({type:&quot;markArea&quot;,defaultOption:{zlevel:0,z:1,tooltip:{trigger:&quot;item&quot;},animation:!1,label:{normal:{show:!0,position:&quot;top&quot;},emphasis:{show:!0,position:&quot;top&quot;}},itemStyle:{normal:{borderWidth:0}}}});var HT=function(t,e,i,n){var a=VT.dataTransform(t,n[0]),o=VT.dataTransform(t,n[1]),r=rl.retrieve,s=a.coord,l=o.coord;s[0]=r(s[0],-1/0),s[1]=r(s[1],-1/0),l[0]=r(l[0],1/0),l[1]=r(l[1],1/0);var h=rl.mergeAll([{},a,o]);return h.coord=[a.coord,o.coord],h.x0=a.x,h.y0=a.y,h.x1=o.x,h.y1=o.y,h},WT=[[&quot;x0&quot;,&quot;y0&quot;],[&quot;x1&quot;,&quot;y0&quot;],[&quot;x1&quot;,&quot;y1&quot;],[&quot;x0&quot;,&quot;y1&quot;]];BT.extend({type:&quot;markArea&quot;,updateLayout:function(t,e,i){e.eachSeries(function(t){var e=t.markAreaModel;if(e){var n=e.getData();n.each(function(e){var a=rl.map(WT,function(a){return ss(n,e,a,t,i)});n.setItemLayout(e,a);n.getItemGraphicEl(e).setShape(&quot;points&quot;,a)})}},this)},renderSeries:function(t,e,i,n){var a=t.coordinateSystem,o=t.name,r=t.getData(),s=this.markerGroupMap,l=s.get(o)||s.set(o,{group:new fp.Group});this.group.add(l.group),l.__keep=!0;var h=function(t,e,i){var n,a;t?(n=rl.map(t&amp;&amp;t.dimensions,function(t){var i=e.getData().getDimensionInfo(e.coordDimToDataDim(t)[0])||{};return i.name=t,i}),a=new tg(rl.map([&quot;x0&quot;,&quot;y0&quot;,&quot;x1&quot;,&quot;y1&quot;],function(t,e){return{name:t,type:n[e%2].type}}),i)):a=new tg(n=[{name:&quot;value&quot;,type:&quot;float&quot;}],i);var o=rl.map(i.get(&quot;data&quot;),rl.curry(HT,e,t,i));t&amp;&amp;(o=rl.filter(o,rl.curry(function(t,e){var i=e.coord[0],n=e.coord[1];return!(&quot;cartesian2d&quot;!==t.type||!i||!n||!rs(1,i,n)&amp;&amp;!rs(0,i,n))||VT.dataFilter(t,{coord:i,x:e.x0,y:e.y0})||VT.dataFilter(t,{coord:n,x:e.x1,y:e.y1})},t)));var r=t?function(t,e,i,n){return t.coord[Math.floor(n/2)][n%2]}:function(t){return t.value};return a.initData(o,null,r),a.hasItemOption=!0,a}(a,t,e);e.setData(h),h.each(function(e){h.setItemLayout(e,rl.map(WT,function(i){return ss(h,e,i,t,n)})),h.setItemVisual(e,{color:r.getVisual(&quot;color&quot;)})}),h.diff(l.__data).add(function(t){var e=new fp.Polygon({shape:{points:h.getItemLayout(t)}});h.setItemGraphicEl(t,e),l.group.add(e)}).update(function(t,i){var n=l.__data.getItemGraphicEl(i);fp.updateProps(n,{shape:{points:h.getItemLayout(t)}},e,t),l.group.add(n),h.setItemGraphicEl(t,n)}).remove(function(t){var e=l.__data.getItemGraphicEl(t);l.group.remove(e)}).execute(),h.eachItemGraphicEl(function(t,i){var n=h.getItemModel(i),a=n.getModel(&quot;label.normal&quot;),o=n.getModel(&quot;label.emphasis&quot;),r=h.getItemVisual(i,&quot;color&quot;);t.useStyle(rl.defaults(n.getModel(&quot;itemStyle.normal&quot;).getItemStyle(),{fill:Nl.modifyAlpha(r,.4),stroke:r})),t.hoverStyle=n.getModel(&quot;itemStyle.emphasis&quot;).getItemStyle(),fp.setLabelStyle(t.style,t.hoverStyle,a,o,{labelFetcher:e,labelDataIndex:i,defaultText:h.getName(i)||&quot;&quot;,isRectText:!0,autoColor:r}),fp.setHoverStyle(t,{}),t.dataModel=e}),l.__data=h,l.group.silent=e.get(&quot;silent&quot;)||t.get(&quot;silent&quot;)}}),ym.registerPreprocessor(function(t){t.markArea=t.markArea||{}});var FT=function(t){var e=t&amp;&amp;t.timeline;rl.isArray(e)||(e=e?[e]:[]),rl.each(e,function(t){t&amp;&amp;function(t){var e=t.type,i={number:&quot;value&quot;,time:&quot;time&quot;};if(i[e]&amp;&amp;(t.axisType=i[e],delete t.type),ls(t),hs(t,&quot;controlPosition&quot;)){var n=t.controlStyle||(t.controlStyle={});hs(n,&quot;position&quot;)||(n.position=t.controlPosition),&quot;none&quot;!==n.position||hs(n,&quot;show&quot;)||(n.show=!1,delete n.position),delete t.controlPosition}rl.each(t.data||[],function(t){rl.isObject(t)&amp;&amp;!rl.isArray(t)&amp;&amp;(!hs(t,&quot;value&quot;)&amp;&amp;hs(t,&quot;name&quot;)&amp;&amp;(t.value=t.name),ls(t))})}(t)})};Hp.registerSubTypeDefaulter(&quot;timeline&quot;,function(){return&quot;slider&quot;}),ym.registerAction({type:&quot;timelineChange&quot;,event:&quot;timelineChanged&quot;,update:&quot;prepareAndUpdate&quot;},function(t,e){var i=e.getComponent(&quot;timeline&quot;);return i&amp;&amp;null!=t.currentIndex&amp;&amp;(i.setCurrentIndex(t.currentIndex),!i.get(&quot;loop&quot;,!0)&amp;&amp;i.isIndexMax()&amp;&amp;i.setPlayState(!1)),e.resetOption(&quot;timeline&quot;),rl.defaults({currentIndex:i.option.currentIndex},t)}),ym.registerAction({type:&quot;timelinePlayChange&quot;,event:&quot;timelinePlayChanged&quot;,update:&quot;update&quot;},function(t,e){var i=e.getComponent(&quot;timeline&quot;);i&amp;&amp;null!=t.playState&amp;&amp;i.setPlayState(t.playState)});var ZT=Hp.extend({type:&quot;timeline&quot;,layoutMode:&quot;box&quot;,defaultOption:{zlevel:0,z:4,show:!0,axisType:&quot;time&quot;,realtime:!0,left:&quot;20%&quot;,top:null,right:&quot;20%&quot;,bottom:0,width:null,height:40,padding:5,controlPosition:&quot;left&quot;,autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{normal:{},emphasis:{}},label:{normal:{color:&quot;#000&quot;},emphasis:{}},data:[]},init:function(t,e,i){this._data,this._names,this.mergeDefaultAndTheme(t,i),this._initData()},mergeOption:function(t){ZT.superApply(this,&quot;mergeOption&quot;,arguments),this._initData()},setCurrentIndex:function(t){null==t&amp;&amp;(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t&gt;=e&amp;&amp;(t=e-1),t&lt;0&amp;&amp;(t=0)),this.option.currentIndex=t},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()&gt;=this._data.count()-1},setPlayState:function(t){this.option.autoPlay=!!t},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var t=this.option,e=t.data||[],i=t.axisType,n=this._names=[];if(&quot;category&quot;===i){var a=[];rl.each(e,function(t,e){var i,o=Ip.getDataItemValue(t);rl.isObject(t)?(i=rl.clone(t)).value=e:i=e,a.push(i),rl.isString(o)||null!=o&amp;&amp;!isNaN(o)||(o=&quot;&quot;),n.push(o+&quot;&quot;)}),e=a}var o={category:&quot;ordinal&quot;,time:&quot;time&quot;}[i]||&quot;number&quot;;(this._data=new tg([{name:&quot;value&quot;,type:o}],this)).initData(e,n)},getData:function(){return this._data},getCategories:function(){if(&quot;category&quot;===this.get(&quot;axisType&quot;))return this._names.slice()}}),jT=ZT.extend({type:&quot;timeline.slider&quot;,defaultOption:{backgroundColor:&quot;rgba(0,0,0,0)&quot;,borderColor:&quot;#ccc&quot;,borderWidth:0,orient:&quot;horizontal&quot;,inverse:!1,tooltip:{trigger:&quot;item&quot;},symbol:&quot;emptyCircle&quot;,symbolSize:10,lineStyle:{show:!0,width:2,color:&quot;#304654&quot;},label:{position:&quot;auto&quot;,normal:{show:!0,interval:&quot;auto&quot;,rotate:0,color:&quot;#304654&quot;},emphasis:{show:!0,color:&quot;#c23531&quot;}},itemStyle:{normal:{color:&quot;#304654&quot;,borderWidth:1},emphasis:{color:&quot;#c23531&quot;}},checkpointStyle:{symbol:&quot;circle&quot;,symbolSize:13,color:&quot;#c23531&quot;,borderWidth:5,borderColor:&quot;rgba(194,53,49, 0.5)&quot;,animation:!0,animationDuration:300,animationEasing:&quot;quinticInOut&quot;},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:&quot;left&quot;,playIcon:&quot;path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z&quot;,stopIcon:&quot;path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z&quot;,nextIcon:&quot;path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z&quot;,prevIcon:&quot;path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z&quot;,normal:{color:&quot;#304654&quot;,borderColor:&quot;#304654&quot;,borderWidth:1},emphasis:{color:&quot;#c23531&quot;,borderColor:&quot;#c23531&quot;,borderWidth:2}},data:[]}});rl.mixin(jT,Ip.dataFormatMixin);var UT=Nf.extend({type:&quot;timeline&quot;}),qT=function(t,e,i,n){Kg.call(this,t,e,i),this.type=n||&quot;value&quot;,this._autoLabelInterval,this.model=null};qT.prototype={constructor:qT,getLabelInterval:function(){var t=this.model,e=t.getModel(&quot;label.normal&quot;),i=e.get(&quot;interval&quot;);if(null!=i&amp;&amp;&quot;auto&quot;!=i)return i;return(i=this._autoLabelInterval)||(i=this._autoLabelInterval=Rg.getAxisLabelInterval(rl.map(this.scale.getTicks(),this.dataToCoord,this),Rg.getFormattedLabels(this,e.get(&quot;formatter&quot;)),e.getFont(),&quot;horizontal&quot;===t.get(&quot;orient&quot;)?0:90,e.get(&quot;rotate&quot;))),i},isLabelIgnored:function(t){if(&quot;category&quot;===this.type){var e=this.getLabelInterval();return&quot;function&quot;==typeof e&amp;&amp;!e(t,this.scale.getLabel(t))||t%(e+1)}}},rl.inherits(qT,Kg);var XT=qT,YT=Ug.createSymbol,$T=Eu.encodeHTML,KT=rl.bind,JT=rl.each,QT=Math.PI;UT.extend({type:&quot;timeline.slider&quot;,init:function(t,e){this.api=e,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(t,e,i,n){if(this.model=t,this.api=i,this.ecModel=e,this.group.removeAll(),t.get(&quot;show&quot;,!0)){var a=this._layout(t,i),o=this._createGroup(&quot;mainGroup&quot;),r=this._createGroup(&quot;labelGroup&quot;),s=this._axis=this._createAxis(a,t);t.formatTooltip=function(t){return $T(s.scale.getLabel(t))},JT([&quot;AxisLine&quot;,&quot;AxisTick&quot;,&quot;Control&quot;,&quot;CurrentPointer&quot;],function(e){this[&quot;_render&quot;+e](a,o,s,t)},this),this._renderAxisLabel(a,r,s,t),this._position(a,t)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(t,e){var i=t.get(&quot;label.normal.position&quot;),n=t.get(&quot;orient&quot;),a=function(t,e){return Np.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get(&quot;padding&quot;))}(t,e);null==i||&quot;auto&quot;===i?i=&quot;horizontal&quot;===n?a.y+a.height/2&lt;e.getHeight()/2?&quot;-&quot;:&quot;+&quot;:a.x+a.width/2&lt;e.getWidth()/2?&quot;+&quot;:&quot;-&quot;:isNaN(i)&amp;&amp;(i={horizontal:{top:&quot;-&quot;,bottom:&quot;+&quot;},vertical:{left:&quot;-&quot;,right:&quot;+&quot;}}[n][i]);var o={horizontal:&quot;center&quot;,vertical:i&gt;=0||&quot;+&quot;===i?&quot;left&quot;:&quot;right&quot;},r={horizontal:i&gt;=0||&quot;+&quot;===i?&quot;top&quot;:&quot;bottom&quot;,vertical:&quot;middle&quot;},s={horizontal:0,vertical:QT/2},l=&quot;vertical&quot;===n?a.height:a.width,h=t.getModel(&quot;controlStyle&quot;),u=h.get(&quot;show&quot;),c=u?h.get(&quot;itemSize&quot;):0,d=u?h.get(&quot;itemGap&quot;):0,p=c+d,f=t.get(&quot;label.normal.rotate&quot;)||0;f=f*QT/180;var g,m,v,y,x=h.get(&quot;position&quot;,!0),_=(u=h.get(&quot;show&quot;,!0))&amp;&amp;h.get(&quot;showPlayBtn&quot;,!0),b=u&amp;&amp;h.get(&quot;showPrevBtn&quot;,!0),w=u&amp;&amp;h.get(&quot;showNextBtn&quot;,!0),S=0,M=l;return&quot;left&quot;===x||&quot;bottom&quot;===x?(_&amp;&amp;(g=[0,0],S+=p),b&amp;&amp;(m=[S,0],S+=p),w&amp;&amp;(v=[M-c,0],M-=p)):(_&amp;&amp;(g=[M-c,0],M-=p),b&amp;&amp;(m=[0,0],S+=p),w&amp;&amp;(v=[M-c,0],M-=p)),y=[S,M],t.get(&quot;inverse&quot;)&amp;&amp;y.reverse(),{viewRect:a,mainLength:l,orient:n,rotation:s[n],labelRotation:f,labelPosOpt:i,labelAlign:t.get(&quot;label.normal.align&quot;)||o[n],labelBaseline:t.get(&quot;label.normal.verticalAlign&quot;)||t.get(&quot;label.normal.baseline&quot;)||r[n],playPosition:g,prevBtnPosition:m,nextBtnPosition:v,axisExtent:y,controlSize:c,controlGap:d}},_position:function(t,e){function i(t){var e=t.position;t.origin=[c[0][0]-e[0],c[1][0]-e[1]]}function n(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function a(t,e,i,n,a){t[n]+=i[n][a]-e[n][a]}var o=this._mainGroup,r=this._labelGroup,s=t.viewRect;if(&quot;vertical&quot;===t.orient){var l=yl.create(),h=s.x,u=s.y+s.height;yl.translate(l,l,[-h,-u]),yl.rotate(l,l,-QT/2),yl.translate(l,l,[h,u]),(s=s.clone()).applyTransform(l)}var c=n(s),d=n(o.getBoundingRect()),p=n(r.getBoundingRect()),f=o.position,g=r.position;g[0]=f[0]=c[0][0];var m=t.labelPosOpt;if(isNaN(m)){a(f,d,c,1,v=&quot;+&quot;===m?0:1),a(g,p,c,1,1-v)}else{var v=m&gt;=0?0:1;a(f,d,c,1,v),g[1]=f[1]+m}o.attr(&quot;position&quot;,f),r.attr(&quot;position&quot;,g),o.rotation=r.rotation=t.rotation,i(o),i(r)},_createAxis:function(t,e){var i=e.getData(),n=e.get(&quot;axisType&quot;),a=Rg.createScaleByModel(e,n),o=i.getDataExtent(&quot;value&quot;);a.setExtent(o[0],o[1]),this._customizeScale(a,i),a.niceTicks();var r=new XT(&quot;value&quot;,a,t.axisExtent,n);return r.model=e,r},_customizeScale:function(t,e){t.getTicks=function(){return e.mapArray([&quot;value&quot;],function(t){return t})},t.getTicksLabels=function(){return rl.map(this.getTicks(),t.getLabel,t)}},_createGroup:function(t){var e=this[&quot;_&quot;+t]=new fp.Group;return this.group.add(e),e},_renderAxisLine:function(t,e,i,n){var a=i.getExtent();n.get(&quot;lineStyle.show&quot;)&amp;&amp;e.add(new fp.Line({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:rl.extend({lineCap:&quot;round&quot;},n.getModel(&quot;lineStyle&quot;).getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(t,e,i,n){var a=n.getData(),o=i.scale.getTicks();JT(o,function(t,o){var r=i.dataToCoord(t),s=a.getItemModel(o),l=s.getModel(&quot;itemStyle.normal&quot;),h=s.getModel(&quot;itemStyle.emphasis&quot;),u={position:[r,0],onclick:KT(this._changeTimeline,this,o)},c=us(s,l,e,u);fp.setHoverStyle(c,h.getItemStyle()),s.get(&quot;tooltip&quot;)?(c.dataIndex=o,c.dataModel=n):c.dataIndex=c.dataModel=null},this)},_renderAxisLabel:function(t,e,i,n){var a=n.getModel(&quot;label.normal&quot;);if(a.get(&quot;show&quot;)){var o=n.getData(),r=i.scale.getTicks(),s=Rg.getFormattedLabels(i,a.get(&quot;formatter&quot;)),l=i.getLabelInterval();JT(r,function(n,a){if(!i.isLabelIgnored(a,l)){var r=o.getItemModel(a),h=r.getModel(&quot;label.normal&quot;),u=r.getModel(&quot;label.emphasis&quot;),c=i.dataToCoord(n),d=new fp.Text({position:[c,0],rotation:t.labelRotation-t.rotation,onclick:KT(this._changeTimeline,this,a),silent:!1});fp.setTextStyle(d.style,h,{text:s[a],textAlign:t.labelAlign,textVerticalAlign:t.labelBaseline}),e.add(d),fp.setHoverStyle(d,fp.setTextStyle({},u))}},this)}},_renderControl:function(t,e,i,n){function a(t,i,a,u){if(t){var c=function(t,e,i,n){return fp.makePath(t.get(e).replace(/^path:\/\//,&quot;&quot;),rl.clone(n||{}),new oh(i[0],i[1],i[2],i[3]),&quot;center&quot;)}(n,i,h,{position:t,origin:[o/2,0],rotation:u?-r:0,rectHover:!0,style:s,onclick:a});e.add(c),fp.setHoverStyle(c,l)}}var o=t.controlSize,r=t.rotation,s=n.getModel(&quot;controlStyle.normal&quot;).getItemStyle(),l=n.getModel(&quot;controlStyle.emphasis&quot;).getItemStyle(),h=[0,-o/2,o,o],u=n.getPlayState(),c=n.get(&quot;inverse&quot;,!0);a(t.nextBtnPosition,&quot;controlStyle.nextIcon&quot;,KT(this._changeTimeline,this,c?&quot;-&quot;:&quot;+&quot;)),a(t.prevBtnPosition,&quot;controlStyle.prevIcon&quot;,KT(this._changeTimeline,this,c?&quot;+&quot;:&quot;-&quot;)),a(t.playPosition,&quot;controlStyle.&quot;+(u?&quot;stopIcon&quot;:&quot;playIcon&quot;),KT(this._handlePlayClick,this,!u),!0)},_renderCurrentPointer:function(t,e,i,n){var a=n.getData(),o=n.getCurrentIndex(),r=a.getItemModel(o).getModel(&quot;checkpointStyle&quot;),s=this,l={onCreate:function(t){t.draggable=!0,t.drift=KT(s._handlePointerDrag,s),t.ondragend=KT(s._handlePointerDragend,s),cs(t,o,i,n,!0)},onUpdate:function(t){cs(t,o,i,n)}};this._currentPointer=us(r,r,this._mainGroup,{},this._currentPointer,l)},_handlePlayClick:function(t){this._clearTimer(),this.api.dispatchAction({type:&quot;timelinePlayChange&quot;,playState:t,from:this.uid})},_handlePointerDrag:function(t,e,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},_handlePointerDragend:function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},_pointerChangeTimeline:function(t,e){var i=this._toAxisCoord(t)[0],n=this._axis,a=Pu.asc(n.getExtent().slice());i&gt;a[1]&amp;&amp;(i=a[1]),i&lt;a[0]&amp;&amp;(i=a[0]),this._currentPointer.position[0]=i,this._currentPointer.dirty();var o=this._findNearestTick(i),r=this.model;(e||o!==r.getCurrentIndex()&amp;&amp;r.get(&quot;realtime&quot;))&amp;&amp;this._changeTimeline(o)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&amp;&amp;(this._timer=setTimeout(KT(function(){var t=this.model;this._changeTimeline(t.getCurrentIndex()+(t.get(&quot;rewind&quot;,!0)?-1:1))},this),this.model.get(&quot;playInterval&quot;)))},_toAxisCoord:function(t){var e=this._mainGroup.getLocalTransform();return fp.applyTransform(t,e,!0)},_findNearestTick:function(t){var e,i=this.model.getData(),n=1/0,a=this._axis;return i.each([&quot;value&quot;],function(i,o){var r=a.dataToCoord(i),s=Math.abs(r-t);s&lt;n&amp;&amp;(n=s,e=o)}),e},_clearTimer:function(){this._timer&amp;&amp;(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(t){var e=this.model.getCurrentIndex();&quot;+&quot;===t?t=e+1:&quot;-&quot;===t&amp;&amp;(t=e-1),this.api.dispatchAction({type:&quot;timelineChange&quot;,currentIndex:t,from:this.uid})}});ym.registerPreprocessor(FT);var tA=ym.extendComponentModel({type:&quot;toolbox&quot;,layoutMode:{type:&quot;box&quot;,ignoreSize:!0},mergeDefaultAndTheme:function(t){tA.superApply(this,&quot;mergeDefaultAndTheme&quot;,arguments),rl.each(this.option.feature,function(t,e){var i=xI.get(e);i&amp;&amp;rl.merge(t,i.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:&quot;horizontal&quot;,left:&quot;right&quot;,top:&quot;top&quot;,backgroundColor:&quot;transparent&quot;,borderColor:&quot;#ccc&quot;,borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{normal:{borderColor:&quot;#666&quot;,color:&quot;none&quot;},emphasis:{borderColor:&quot;#3E98C5&quot;}}}}),eA=(ym.extendComponentView({type:&quot;toolbox&quot;,render:function(t,e,i,n){function a(a,u){var c,d=h[a],p=h[u],f=s[d],g=new _p(f,t,t.ecModel);if(d&amp;&amp;!p){if(function(t){return 0===t.indexOf(&quot;my&quot;)}(d))c={model:g,onclick:g.option.onclick,featureName:d};else{var m=xI.get(d);if(!m)return;c=new m(g,e,i)}l[d]=c}else{if(!(c=l[p]))return;c.model=g,c.ecModel=e,c.api=i}d||!p?g.get(&quot;show&quot;)&amp;&amp;!c.unusable?(!function(n,a,s){var l=n.getModel(&quot;iconStyle&quot;),h=a.getIcons?a.getIcons():n.get(&quot;icon&quot;),u=n.get(&quot;title&quot;)||{};if(&quot;string&quot;==typeof h){var c=h,d=u;u={},(h={})[s]=c,u[s]=d}var p=n.iconPaths={};rl.each(h,function(s,h){var c=fp.createIcon(s,{},{x:-r/2,y:-r/2,width:r,height:r});c.setStyle(l.getModel(&quot;normal&quot;).getItemStyle()),c.hoverStyle=l.getModel(&quot;emphasis&quot;).getItemStyle(),fp.setHoverStyle(c),t.get(&quot;showTitle&quot;)&amp;&amp;(c.__title=u[h],c.on(&quot;mouseover&quot;,function(){var t=l.getModel(&quot;emphasis&quot;).getItemStyle();c.setStyle({text:u[h],textPosition:t.textPosition||&quot;bottom&quot;,textFill:t.fill||t.stroke||&quot;#000&quot;,textAlign:t.textAlign||&quot;center&quot;})}).on(&quot;mouseout&quot;,function(){c.setStyle({textFill:null})})),c.trigger(n.get(&quot;iconStatus.&quot;+h)||&quot;normal&quot;),o.add(c),c.on(&quot;click&quot;,rl.bind(a.onclick,a,e,i,h)),p[h]=c})}(g,c,d),g.setIconStatus=function(t,e){var i=this.option,n=this.iconPaths;i.iconStatus=i.iconStatus||{},i.iconStatus[t]=e,n[t]&amp;&amp;n[t].trigger(e)},c.render&amp;&amp;c.render(g,e,i,n)):c.remove&amp;&amp;c.remove(e,i):c.dispose&amp;&amp;c.dispose(e,i)}var o=this.group;if(o.removeAll(),t.get(&quot;show&quot;)){var r=+t.get(&quot;itemSize&quot;),s=t.get(&quot;feature&quot;)||{},l=this._features||(this._features={}),h=[];rl.each(s,function(t,e){h.push(e)}),new qf(this._featureNames||[],h).add(a).update(a).remove(rl.curry(a,null)).execute(),this._featureNames=h,lM.layout(o,t,i),o.add(lM.makeBackground(o.getBoundingRect(),t)),o.eachChild(function(t){var e=t.__title,n=t.hoverStyle;if(n&amp;&amp;e){var a=Nh.getBoundingRect(e,Nh.makeFont(n)),s=t.position[0]+o.position[0],l=!1;t.position[1]+o.position[1]+r+a.height&gt;i.getHeight()&amp;&amp;(n.textPosition=&quot;top&quot;,l=!0);var h=l?-5-a.height:r+8;s+a.width/2&gt;i.getWidth()?(n.textPosition=[&quot;100%&quot;,h],n.textAlign=&quot;right&quot;):s-a.width/2&lt;0&amp;&amp;(n.textPosition=[0,h],n.textAlign=&quot;left&quot;)}})}},updateView:function(t,e,i,n){rl.each(this._features,function(t){t.updateView&amp;&amp;t.updateView(t.model,e,i,n)})},updateLayout:function(t,e,i,n){rl.each(this._features,function(t){t.updateLayout&amp;&amp;t.updateLayout(t.model,e,i,n)})},remove:function(t,e){rl.each(this._features,function(i){i.remove&amp;&amp;i.remove(t,e)}),this.group.removeAll()},dispose:function(t,e){rl.each(this._features,function(i){i.dispose&amp;&amp;i.dispose(t,e)})}}),_I.toolbox.saveAsImage);ds.defaultOption={show:!0,icon:&quot;M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0&quot;,title:eA.title,type:&quot;png&quot;,name:&quot;&quot;,excludeComponents:[&quot;toolbox&quot;],pixelRatio:1,lang:eA.lang.slice()},ds.prototype.unusable=!Us.canvasSupported;ds.prototype.onclick=function(t,e){var i=this.model,n=i.get(&quot;name&quot;)||t.get(&quot;title.0.text&quot;)||&quot;echarts&quot;,a=document.createElement(&quot;a&quot;),o=i.get(&quot;type&quot;,!0)||&quot;png&quot;;a.download=n+&quot;.&quot;+o,a.target=&quot;_blank&quot;;var r=e.getConnectedDataURL({type:o,backgroundColor:i.get(&quot;backgroundColor&quot;,!0)||t.get(&quot;backgroundColor&quot;)||&quot;#fff&quot;,excludeComponents:i.get(&quot;excludeComponents&quot;),pixelRatio:i.get(&quot;pixelRatio&quot;)});if(a.href=r,&quot;function&quot;!=typeof MouseEvent||Us.browser.ie||Us.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var s=atob(r.split(&quot;,&quot;)[1]),l=s.length,h=new Uint8Array(l);l--;)h[l]=s.charCodeAt(l);var u=new Blob([h]);window.navigator.msSaveOrOpenBlob(u,n+&quot;.&quot;+o)}else{var c=i.get(&quot;lang&quot;),d=&#39;&lt;body style=&quot;margin:0;&quot;&gt;&lt;img src=&quot;&#39;+r+&#39;&quot; style=&quot;max-width:100%;&quot; title=&quot;&#39;+(c&amp;&amp;c[0]||&quot;&quot;)+&#39;&quot; /&gt;&lt;/body&gt;&#39;;window.open().document.write(d)}else{var p=new MouseEvent(&quot;click&quot;,{view:window,bubbles:!0,cancelable:!1});a.dispatchEvent(p)}},xI.register(&quot;saveAsImage&quot;,ds);var iA=_I.toolbox.magicType;ps.defaultOption={show:!0,type:[],icon:{line:&quot;M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4&quot;,bar:&quot;M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7&quot;,stack:&quot;M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z&quot;,tiled:&quot;M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z&quot;},title:rl.clone(iA.title),option:{},seriesIndex:{}};var nA=ps.prototype;nA.getIcons=function(){var t=this.model,e=t.get(&quot;icon&quot;),i={};return rl.each(t.get(&quot;type&quot;),function(t){e[t]&amp;&amp;(i[t]=e[t])}),i};var aA={line:function(t,e,i,n){if(&quot;bar&quot;===t)return rl.merge({id:e,type:&quot;line&quot;,data:i.get(&quot;data&quot;),stack:i.get(&quot;stack&quot;),markPoint:i.get(&quot;markPoint&quot;),markLine:i.get(&quot;markLine&quot;)},n.get(&quot;option.line&quot;)||{},!0)},bar:function(t,e,i,n){if(&quot;line&quot;===t)return rl.merge({id:e,type:&quot;bar&quot;,data:i.get(&quot;data&quot;),stack:i.get(&quot;stack&quot;),markPoint:i.get(&quot;markPoint&quot;),markLine:i.get(&quot;markLine&quot;)},n.get(&quot;option.bar&quot;)||{},!0)},stack:function(t,e,i,n){if(&quot;line&quot;===t||&quot;bar&quot;===t)return rl.merge({id:e,stack:&quot;__ec_magicType_stack__&quot;},n.get(&quot;option.stack&quot;)||{},!0)},tiled:function(t,e,i,n){if(&quot;line&quot;===t||&quot;bar&quot;===t)return rl.merge({id:e,stack:&quot;&quot;},n.get(&quot;option.tiled&quot;)||{},!0)}},oA=[[&quot;line&quot;,&quot;bar&quot;],[&quot;stack&quot;,&quot;tiled&quot;]];nA.onclick=function(t,e,i){var n=this.model,a=n.get(&quot;seriesIndex.&quot;+i);if(aA[i]){var o={series:[]};rl.each(oA,function(t){rl.indexOf(t,i)&gt;=0&amp;&amp;rl.each(t,function(t){n.setIconStatus(t,&quot;normal&quot;)})}),n.setIconStatus(i,&quot;emphasis&quot;),t.eachComponent({mainType:&quot;series&quot;,query:null==a?null:{seriesIndex:a}},function(e){var a=e.subType,r=e.id,s=aA[i](a,r,e,n);s&amp;&amp;(rl.defaults(s,e.option),o.series.push(s));var l=e.coordinateSystem;if(l&amp;&amp;&quot;cartesian2d&quot;===l.type&amp;&amp;(&quot;line&quot;===i||&quot;bar&quot;===i)){var h=l.getAxesByScale(&quot;ordinal&quot;)[0];if(h){var u=h.dim+&quot;Axis&quot;,c=t.queryComponents({mainType:u,index:e.get(name+&quot;Index&quot;),id:e.get(name+&quot;Id&quot;)})[0].componentIndex;o[u]=o[u]||[];for(var d=0;d&lt;=c;d++)o[u][c]=o[u][c]||{};o[u][c].boundaryGap=&quot;bar&quot;===i}}}),e.dispatchAction({type:&quot;changeMagicType&quot;,currentType:i,newOption:o})}},ym.registerAction({type:&quot;changeMagicType&quot;,event:&quot;magicTypeChanged&quot;,update:&quot;prepareAndUpdate&quot;},function(t,e){e.mergeOption(t.newOption)}),xI.register(&quot;magicType&quot;,ps);var rA=_I.toolbox.dataView,sA=new Array(60).join(&quot;-&quot;),lA=&quot;\t&quot;,hA=new RegExp(&quot;[&quot;+lA+&quot;]+&quot;,&quot;g&quot;);gs.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:&quot;M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28&quot;,title:rl.clone(rA.title),lang:rl.clone(rA.lang),backgroundColor:&quot;#fff&quot;,textColor:&quot;#000&quot;,textareaColor:&quot;#fff&quot;,textareaBorderColor:&quot;#333&quot;,buttonColor:&quot;#c23531&quot;,buttonTextColor:&quot;#fff&quot;},gs.prototype.onclick=function(t,e){function i(){n.removeChild(o),x._dom=null}var n=e.getDom(),a=this.model;this._dom&amp;&amp;n.removeChild(this._dom);var o=document.createElement(&quot;div&quot;);o.style.cssText=&quot;position:absolute;left:5px;top:5px;bottom:5px;right:5px;&quot;,o.style.backgroundColor=a.get(&quot;backgroundColor&quot;)||&quot;#fff&quot;;var r=document.createElement(&quot;h4&quot;),s=a.get(&quot;lang&quot;)||[];r.innerHTML=s[0]||a.get(&quot;title&quot;),r.style.cssText=&quot;margin: 10px 20px;&quot;,r.style.color=a.get(&quot;textColor&quot;);var l=document.createElement(&quot;div&quot;),h=document.createElement(&quot;textarea&quot;);l.style.cssText=&quot;display:block;width:100%;overflow:auto;&quot;;var u=a.get(&quot;optionToContent&quot;),c=a.get(&quot;contentToOption&quot;),d=function(t){var e=function(t){var e={},i=[],n=[];return t.eachRawSeries(function(t){var a=t.coordinateSystem;if(!a||&quot;cartesian2d&quot;!==a.type&amp;&amp;&quot;polar&quot;!==a.type)i.push(t);else{var o=a.getBaseAxis();if(&quot;category&quot;===o.type){var r=o.dim+&quot;_&quot;+o.index;e[r]||(e[r]={categoryAxis:o,valueAxis:a.getOtherAxis(o),series:[]},n.push({axisDim:o.dim,axisIndex:o.index})),e[r].series.push(t)}else i.push(t)}}),{seriesGroupByCategoryAxis:e,other:i,meta:n}}(t);return{value:rl.filter([function(t){var e=[];return rl.each(t,function(t,i){var n=t.categoryAxis,a=t.valueAxis.dim,o=[&quot; &quot;].concat(rl.map(t.series,function(t){return t.name})),r=[n.model.getCategories()];rl.each(t.series,function(t){r.push(t.getRawData().mapArray(a,function(t){return t}))});for(var s=[o.join(lA)],l=0;l&lt;r[0].length;l++){for(var h=[],u=0;u&lt;r.length;u++)h.push(r[u][l]);s.push(h.join(lA))}e.push(s.join(&quot;\n&quot;))}),e.join(&quot;\n\n&quot;+sA+&quot;\n\n&quot;)}(e.seriesGroupByCategoryAxis),function(t){return rl.map(t,function(t){var e=t.getRawData(),i=[t.name],n=[];return e.each(e.dimensions,function(){for(var t=arguments,a=arguments.length,o=arguments[a-1],r=e.getName(o),s=0;s&lt;a-1;s++)n[s]=t[s];i.push((r?r+lA:&quot;&quot;)+n.join(lA))}),i.join(&quot;\n&quot;)}).join(&quot;\n\n&quot;+sA+&quot;\n\n&quot;)}(e.other)],function(t){return t.replace(/[\n\t\s]/g,&quot;&quot;)}).join(&quot;\n\n&quot;+sA+&quot;\n\n&quot;),meta:e.meta}}(t);if(&quot;function&quot;==typeof u){var p=u(e.getOption());&quot;string&quot;==typeof p?l.innerHTML=p:rl.isDom(p)&amp;&amp;l.appendChild(p)}else l.appendChild(h),h.readOnly=a.get(&quot;readOnly&quot;),h.style.cssText=&quot;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;&quot;,h.style.color=a.get(&quot;textColor&quot;),h.style.borderColor=a.get(&quot;textareaBorderColor&quot;),h.style.backgroundColor=a.get(&quot;textareaColor&quot;),h.value=d.value;var f=d.meta,g=document.createElement(&quot;div&quot;);g.style.cssText=&quot;position:absolute;bottom:0;left:0;right:0;&quot;;var m=&quot;float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px&quot;,v=document.createElement(&quot;div&quot;),y=document.createElement(&quot;div&quot;);m+=&quot;;background-color:&quot;+a.get(&quot;buttonColor&quot;),m+=&quot;;color:&quot;+a.get(&quot;buttonTextColor&quot;);var x=this;su.addEventListener(v,&quot;click&quot;,i),su.addEventListener(y,&quot;click&quot;,function(){var t;try{t=&quot;function&quot;==typeof c?c(l,e.getOption()):function(t,e){var i=t.split(new RegExp(&quot;\n*&quot;+sA+&quot;\n*&quot;,&quot;g&quot;)),n={series:[]};return rl.each(i,function(t,i){if(function(t){if(t.slice(0,t.indexOf(&quot;\n&quot;)).indexOf(lA)&gt;=0)return!0}(t)){var a=function(e){for(var i=t.split(/\n+/g),n=fs(i.shift()).split(hA),a=[],o=rl.map(n,function(t){return{name:t,data:[]}}),r=0;r&lt;i.length;r++){var s=fs(i[r]).split(hA);a.push(s.shift());for(var l=0;l&lt;s.length;l++)o[l]&amp;&amp;(o[l].data[r]=s[l])}return{series:o,categories:a}}(),o=e[i],r=o.axisDim+&quot;Axis&quot;;o&amp;&amp;(n[r]=n[r]||[],n[r][o.axisIndex]={data:a.categories},n.series=n.series.concat(a.series))}else a=function(e){for(var i=t.split(/\n+/g),n=fs(i.shift()),a=[],o=0;o&lt;i.length;o++){var r,s=fs(i[o]).split(hA),l=&quot;&quot;,h=!1;isNaN(s[0])?(h=!0,l=s[0],s=s.slice(1),a[o]={name:l,value:[]},r=a[o].value):r=a[o]=[];for(var u=0;u&lt;s.length;u++)r.push(+s[u]);1===r.length&amp;&amp;(h?a[o].value=r[0]:a[o]=r[0])}return{name:n,data:a}}(),n.series.push(a)}),n}(h.value,f)}catch(t){throw i(),new Error(&quot;Data view format error &quot;+t)}t&amp;&amp;e.dispatchAction({type:&quot;changeDataView&quot;,newOption:t}),i()}),v.innerHTML=s[1],y.innerHTML=s[2],y.style.cssText=m,v.style.cssText=m,!a.get(&quot;readOnly&quot;)&amp;&amp;g.appendChild(y),g.appendChild(v),su.addEventListener(h,&quot;keydown&quot;,function(t){if(9===(t.keyCode||t.which)){var e=this.value,i=this.selectionStart,n=this.selectionEnd;this.value=e.substring(0,i)+lA+e.substring(n),this.selectionStart=this.selectionEnd=i+1,su.stop(t)}}),o.appendChild(r),o.appendChild(l),o.appendChild(g),l.style.height=n.clientHeight-80+&quot;px&quot;,n.appendChild(o),this._dom=o},gs.prototype.remove=function(t,e){this._dom&amp;&amp;e.getDom().removeChild(this._dom)},gs.prototype.dispose=function(t,e){this.remove(t,e)},xI.register(&quot;dataView&quot;,gs),ym.registerAction({type:&quot;changeDataView&quot;,event:&quot;dataViewChanged&quot;,update:&quot;prepareAndUpdate&quot;},function(t,e){var i=[];rl.each(t.newOption.series,function(t){var n=e.getSeriesByName(t.name)[0];if(n){var a=n.get(&quot;data&quot;);i.push({name:t.name,data:function(t,e){return rl.map(t,function(t,i){var n=e&amp;&amp;e[i];return rl.isObject(n)&amp;&amp;!rl.isArray(n)?(rl.isObject(t)&amp;&amp;!rl.isArray(t)&amp;&amp;(t=t.value),rl.defaults({value:t},n)):t})}(t.data,a)})}else i.push(rl.extend({type:&quot;scatter&quot;},t))}),e.mergeOption(rl.defaults({series:i},t.newOption))});var uA=rl.each,cA=&quot;\0_ec_hist_store&quot;,dA={push:function(t,e){var i=ms(t);uA(e,function(e,n){for(var a=i.length-1;a&gt;=0&amp;&amp;!i[a][n];a--);if(a&lt;0){var o=t.queryComponents({mainType:&quot;dataZoom&quot;,subType:&quot;select&quot;,id:n})[0];if(o){var r=o.getPercentRange();i[0][n]={dataZoomId:n,start:r[0],end:r[1]}}}}),i.push(e)},pop:function(t){var e=ms(t),i=e[e.length-1];e.length&gt;1&amp;&amp;e.pop();var n={};return uA(i,function(t,i){for(var a=e.length-1;a&gt;=0;a--)if(t=e[a][i]){n[i]=t;break}}),n},clear:function(t){t[cA]=null},count:function(t){return ms(t).length}},pA=(VI.extend({type:&quot;dataZoom.select&quot;}),BI.extend({type:&quot;dataZoom.select&quot;}),_I.toolbox.dataZoom),fA=rl.each,gA=&quot;\0_ec_\0toolbox-dataZoom_&quot;;vs.defaultOption={show:!0,icon:{zoom:&quot;M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1&quot;,back:&quot;M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26&quot;},title:rl.clone(pA.title)};var mA=vs.prototype;mA.render=function(t,e,i,n){this.model=t,this.ecModel=e,this.api=i,function(t,e,i,n,a){var o=i._isZoomActive;n&amp;&amp;&quot;takeGlobalCursor&quot;===n.type&amp;&amp;(o=&quot;dataZoomSelect&quot;===n.key&amp;&amp;n.dataZoomSelectActive),i._isZoomActive=o,t.setIconStatus(&quot;zoom&quot;,o?&quot;emphasis&quot;:&quot;normal&quot;);var r=new cI(ys(t.option),e,{include:[&quot;grid&quot;]});i._brushController.setPanels(r.makePanelOpts(a,function(t){return t.xAxisDeclared&amp;&amp;!t.yAxisDeclared?&quot;lineX&quot;:!t.xAxisDeclared&amp;&amp;t.yAxisDeclared?&quot;lineY&quot;:&quot;rect&quot;})).enableBrush(!!o&amp;&amp;{brushType:&quot;auto&quot;,brushStyle:{lineWidth:0,fill:&quot;rgba(0,0,0,0.2)&quot;}})}(t,e,this,n,i),function(t,e){t.setIconStatus(&quot;back&quot;,dA.count(e)&gt;1?&quot;emphasis&quot;:&quot;normal&quot;)}(t,e)},mA.onclick=function(t,e,i){vA[i].call(this)},mA.remove=function(t,e){this._brushController.unmount()},mA.dispose=function(t,e){this._brushController.dispose()};var vA={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:&quot;takeGlobalCursor&quot;,key:&quot;dataZoomSelect&quot;,dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(dA.pop(this.ecModel))}};mA._onBrush=function(t,e){function i(t,e,i){var o=e.getAxis(t),r=o.model,s=function(t,e,i){var n;return i.eachComponent({mainType:&quot;dataZoom&quot;,subType:&quot;select&quot;},function(i){i.getAxisModel(t,e.componentIndex)&amp;&amp;(n=i)}),n}(t,r,a),l=s.findRepresentativeAxisProxy(r).getMinMaxSpan();null==l.minValueSpan&amp;&amp;null==l.maxValueSpan||(i=xb(0,i.slice(),o.scale.getExtent(),0,l.minValueSpan,l.maxValueSpan)),s&amp;&amp;(n[s.id]={dataZoomId:s.id,startValue:i[0],endValue:i[1]})}if(e.isEnd&amp;&amp;t.length){var n={},a=this.ecModel;this._brushController.updateCovers([]);new cI(ys(this.model.option),a,{include:[&quot;grid&quot;]}).matchOutputRanges(t,a,function(t,e,n){if(&quot;cartesian2d&quot;===n.type){var a=t.brushType;&quot;rect&quot;===a?(i(&quot;x&quot;,n,e[0]),i(&quot;y&quot;,n,e[1])):i({lineX:&quot;x&quot;,lineY:&quot;y&quot;}[a],n,e)}}),dA.push(a,n),this._dispatchZoomAction(n)}},mA._dispatchZoomAction=function(t){var e=[];fA(t,function(t,i){e.push(rl.clone(t))}),e.length&amp;&amp;this.api.dispatchAction({type:&quot;dataZoom&quot;,from:this.uid,batch:e})},xI.register(&quot;dataZoom&quot;,vs),ym.registerPreprocessor(function(t){function e(e,n){if(n){var a=e+&quot;Index&quot;,o=n[a];null==o||&quot;all&quot;==o||rl.isArray(o)||(o=!1===o||&quot;none&quot;===o?[]:[o]),function(e,i){var n=t[e];rl.isArray(n)||(n=n?[n]:[]);fA(n,i)}(e,function(t,n){if(null==o||&quot;all&quot;==o||-1!==rl.indexOf(o,n)){var r={type:&quot;select&quot;,$fromToolbox:!0,id:gA+e+n};r[a]=n,i.push(r)}})}}if(t){var i=t.dataZoom||(t.dataZoom=[]);rl.isArray(i)||(t.dataZoom=i=[i]);var n=t.toolbox;if(n&amp;&amp;(rl.isArray(n)&amp;&amp;(n=n[0]),n&amp;&amp;n.feature)){var a=n.feature.dataZoom;e(&quot;xAxis&quot;,a),e(&quot;yAxis&quot;,a)}}});var yA=_I.toolbox.restore;xs.defaultOption={show:!0,icon:&quot;M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5&quot;,title:yA.title};xs.prototype.onclick=function(t,e,i){dA.clear(t),e.dispatchAction({type:&quot;restore&quot;,from:this.uid})},xI.register(&quot;restore&quot;,xs),ym.registerAction({type:&quot;restore&quot;,event:&quot;restore&quot;,update:&quot;prepareAndUpdate&quot;},function(t,e){e.resetOption(&quot;recreate&quot;)});var xA,_A=&quot;urn:schemas-microsoft-com:vml&quot;,bA=&quot;undefined&quot;==typeof window?null:window,wA=!1,SA=bA&amp;&amp;bA.document;if(SA&amp;&amp;!Us.canvasSupported)try{!SA.namespaces.zrvml&amp;&amp;SA.namespaces.add(&quot;zrvml&quot;,_A),xA=function(t){return SA.createElement(&quot;&lt;zrvml:&quot;+t+&#39; class=&quot;zrvml&quot;&gt;&#39;)}}catch(t){xA=function(t){return SA.createElement(&quot;&lt;&quot;+t+&#39; xmlns=&quot;&#39;+_A+&#39;&quot; class=&quot;zrvml&quot;&gt;&#39;)}}var MA={doc:SA,createNode:function(t){return xA(t)},initVML:function(){if(!wA&amp;&amp;SA){wA=!0;var t=SA.styleSheets;t.length&lt;31?SA.createStyleSheet().addRule(&quot;.zrvml&quot;,&quot;behavior:url(#default#VML)&quot;):t[0].addRule(&quot;.zrvml&quot;,&quot;behavior:url(#default#VML)&quot;)}}},IA=ll.applyTransform,TA=Cc.CMD,AA=Math.round,CA=Math.sqrt,LA=Math.abs,DA=Math.cos,PA=Math.sin,kA=Math.max;if(!Us.canvasSupported){var OA=21600,zA=OA/2,EA=function(t){t.style.cssText=&quot;position:absolute;left:0;top:0;width:1px;height:1px;&quot;,t.coordsize=OA+&quot;,&quot;+OA,t.coordorigin=&quot;0,0&quot;},RA=function(t,e,i){return&quot;rgb(&quot;+[t,e,i].join(&quot;,&quot;)+&quot;)&quot;},NA=function(t,e){e&amp;&amp;t&amp;&amp;e.parentNode!==t&amp;&amp;t.appendChild(e)},VA=function(t,e){e&amp;&amp;t&amp;&amp;e.parentNode===t&amp;&amp;t.removeChild(e)},BA=function(t,e,i){return 1e5*(parseFloat(t)||0)+1e3*(parseFloat(e)||0)+i},GA=function(t,e){return&quot;string&quot;==typeof t?t.lastIndexOf(&quot;%&quot;)&gt;=0?parseFloat(t)/100*e:parseFloat(t):t},HA=function(t,e,i){var n=Nl.parse(e);i=+i,isNaN(i)&amp;&amp;(i=1),n&amp;&amp;(t.color=RA(n[0],n[1],n[2]),t.opacity=i*n[3])},WA=function(t,e,i,n){var a=&quot;fill&quot;==e,o=t.getElementsByTagName(e)[0];null!=i[e]&amp;&amp;&quot;none&quot;!==i[e]&amp;&amp;(a||!a&amp;&amp;i.lineWidth)?(t[a?&quot;filled&quot;:&quot;stroked&quot;]=&quot;true&quot;,i[e]instanceof Zd&amp;&amp;VA(t,o),o||(o=MA.createNode(e)),a?function(t,e,i){var n=e.fill;if(null!=n)if(n instanceof Zd){var a,o=0,r=[0,0],s=0,l=1,h=i.getBoundingRect(),u=h.width,c=h.height;if(&quot;linear&quot;===n.type){a=&quot;gradient&quot;;var d=i.transform,p=[n.x*u,n.y*c],f=[n.x2*u,n.y2*c];d&amp;&amp;(IA(p,p,d),IA(f,f,d));var g=f[0]-p[0],m=f[1]-p[1];(o=180*Math.atan2(g,m)/Math.PI)&lt;0&amp;&amp;(o+=360),o&lt;1e-6&amp;&amp;(o=0)}else{a=&quot;gradientradial&quot;;var p=[n.x*u,n.y*c],d=i.transform,v=i.scale,y=u,x=c;r=[(p[0]-h.x)/y,(p[1]-h.y)/x],d&amp;&amp;IA(p,p,d),y/=v[0]*OA,x/=v[1]*OA;var _=kA(y,x);s=0/_,l=2*n.r/_-s}var b=n.colorStops.slice();b.sort(function(t,e){return t.offset-e.offset});for(var w=b.length,S=[],M=[],I=0;I&lt;w;I++){var T=b[I],A=function(t){var e=Nl.parse(t);return[RA(e[0],e[1],e[2]),e[3]]}(T.color);M.push(T.offset*l+s+&quot; &quot;+A[0]),0!==I&amp;&amp;I!==w-1||S.push(A)}if(w&gt;=2){var C=S[0][0],L=S[1][0],D=S[0][1]*e.opacity,P=S[1][1]*e.opacity;t.type=a,t.method=&quot;none&quot;,t.focus=&quot;100%&quot;,t.angle=o,t.color=C,t.color2=L,t.colors=M.join(&quot;,&quot;),t.opacity=P,t.opacity2=D}&quot;radial&quot;===a&amp;&amp;(t.focusposition=r.join(&quot;,&quot;))}else HA(t,n,e.opacity)}(o,i,n):function(t,e){null!=e.lineDash&amp;&amp;(t.dashstyle=e.lineDash.join(&quot; &quot;)),null==e.stroke||e.stroke instanceof Zd||HA(t,e.stroke,e.opacity)}(o,i),NA(t,o)):(t[a?&quot;filled&quot;:&quot;stroked&quot;]=&quot;false&quot;,VA(t,o))},FA=[[],[],[]];Yc.prototype.brushVML=function(t){var e=this.style,i=this._vmlEl;i||(i=MA.createNode(&quot;shape&quot;),EA(i),this._vmlEl=i),WA(i,&quot;fill&quot;,e,this),WA(i,&quot;stroke&quot;,e,this);var n=this.transform,a=null!=n,o=i.getElementsByTagName(&quot;stroke&quot;)[0];if(o){var r=e.lineWidth;if(a&amp;&amp;!e.strokeNoScale){var s=n[0]*n[3]-n[1]*n[2];r*=CA(LA(s))}o.weight=r+&quot;px&quot;}var l=this.path||(this.path=new Cc);this.__dirtyPath&amp;&amp;(l.beginPath(),this.buildPath(l,this.shape),l.toStatic(),this.__dirtyPath=!1),i.path=function(t,e){var i,n,a,o,r,s,l=TA.M,h=TA.C,u=TA.L,c=TA.A,d=TA.Q,p=[],f=t.data,g=t.len();for(o=0;o&lt;g;){switch(a=f[o++],n=&quot;&quot;,i=0,a){case l:n=&quot; m &quot;,i=1,r=f[o++],s=f[o++],FA[0][0]=r,FA[0][1]=s;break;case u:n=&quot; l &quot;,i=1,r=f[o++],s=f[o++],FA[0][0]=r,FA[0][1]=s;break;case d:case h:n=&quot; c &quot;,i=3;var m,v,y=f[o++],x=f[o++],_=f[o++],b=f[o++];a===d?(m=_,v=b,_=(_+2*y)/3,b=(b+2*x)/3,y=(r+2*y)/3,x=(s+2*x)/3):(m=f[o++],v=f[o++]),FA[0][0]=y,FA[0][1]=x,FA[1][0]=_,FA[1][1]=b,FA[2][0]=m,FA[2][1]=v,r=m,s=v;break;case c:var w=0,S=0,M=1,I=1,T=0;e&amp;&amp;(w=e[4],S=e[5],M=CA(e[0]*e[0]+e[1]*e[1]),I=CA(e[2]*e[2]+e[3]*e[3]),T=Math.atan2(-e[1]/I,e[0]/M));var A=f[o++],C=f[o++],L=f[o++],D=f[o++],P=f[o++]+T,k=f[o++]+P+T;o++;var O=f[o++],z=A+DA(P)*L,E=C+PA(P)*D,y=A+DA(k)*L,x=C+PA(k)*D,R=O?&quot; wa &quot;:&quot; at &quot;;Math.abs(z-y)&lt;1e-4&amp;&amp;(Math.abs(k-P)&gt;.01?O&amp;&amp;(z+=.0125):Math.abs(E-C)&lt;1e-4?O&amp;&amp;z&lt;A||!O&amp;&amp;z&gt;A?x-=.0125:x+=.0125:O&amp;&amp;E&lt;C||!O&amp;&amp;E&gt;C?y+=.0125:y-=.0125),p.push(R,AA(((A-L)*M+w)*OA-zA),&quot;,&quot;,AA(((C-D)*I+S)*OA-zA),&quot;,&quot;,AA(((A+L)*M+w)*OA-zA),&quot;,&quot;,AA(((C+D)*I+S)*OA-zA),&quot;,&quot;,AA((z*M+w)*OA-zA),&quot;,&quot;,AA((E*I+S)*OA-zA),&quot;,&quot;,AA((y*M+w)*OA-zA),&quot;,&quot;,AA((x*I+S)*OA-zA)),r=y,s=x;break;case TA.R:var N=FA[0],V=FA[1];N[0]=f[o++],N[1]=f[o++],V[0]=N[0]+f[o++],V[1]=N[1]+f[o++],e&amp;&amp;(IA(N,N,e),IA(V,V,e)),N[0]=AA(N[0]*OA-zA),V[0]=AA(V[0]*OA-zA),N[1]=AA(N[1]*OA-zA),V[1]=AA(V[1]*OA-zA),p.push(&quot; m &quot;,N[0],&quot;,&quot;,N[1],&quot; l &quot;,V[0],&quot;,&quot;,N[1],&quot; l &quot;,V[0],&quot;,&quot;,V[1],&quot; l &quot;,N[0],&quot;,&quot;,V[1]);break;case TA.Z:p.push(&quot; x &quot;)}if(i&gt;0){p.push(n);for(var B=0;B&lt;i;B++){var G=FA[B];e&amp;&amp;IA(G,G,e),p.push(AA(G[0]*OA-zA),&quot;,&quot;,AA(G[1]*OA-zA),B&lt;i-1?&quot;,&quot;:&quot;&quot;)}}}return p.join(&quot;&quot;)}(l,this.transform),i.style.zIndex=BA(this.zlevel,this.z,this.z2),NA(t,i),null!=e.text?this.drawRectText(t,this.getBoundingRect()):this.removeRectText(t)},Yc.prototype.onRemove=function(t){VA(t,this._vmlEl),this.removeRectText(t)},Yc.prototype.onAdd=function(t){NA(t,this._vmlEl),this.appendRectText(t)};Jh.prototype.brushVML=function(t){var e,i,n=this.style,a=n.image;if(function(t){return&quot;object&quot;==typeof t&amp;&amp;t.tagName&amp;&amp;&quot;IMG&quot;===t.tagName.toUpperCase()}(a)){var o=a.src;if(o===this._imageSrc)e=this._imageWidth,i=this._imageHeight;else{var r=a.runtimeStyle,s=r.width,l=r.height;r.width=&quot;auto&quot;,r.height=&quot;auto&quot;,e=a.width,i=a.height,r.width=s,r.height=l,this._imageSrc=o,this._imageWidth=e,this._imageHeight=i}a=o}else a===this._imageSrc&amp;&amp;(e=this._imageWidth,i=this._imageHeight);if(a){var h=n.x||0,u=n.y||0,c=n.width,d=n.height,p=n.sWidth,f=n.sHeight,g=n.sx||0,m=n.sy||0,v=p&amp;&amp;f,y=this._vmlEl;y||(y=MA.doc.createElement(&quot;div&quot;),EA(y),this._vmlEl=y);var x,_=y.style,b=!1,w=1,S=1;if(this.transform&amp;&amp;(x=this.transform,w=CA(x[0]*x[0]+x[1]*x[1]),S=CA(x[2]*x[2]+x[3]*x[3]),b=x[1]||x[2]),b){var M=[h,u],I=[h+c,u],T=[h,u+d],A=[h+c,u+d];IA(M,M,x),IA(I,I,x),IA(T,T,x),IA(A,A,x);var C=kA(M[0],I[0],T[0],A[0]),L=kA(M[1],I[1],T[1],A[1]),D=[];D.push(&quot;M11=&quot;,x[0]/w,&quot;,&quot;,&quot;M12=&quot;,x[2]/S,&quot;,&quot;,&quot;M21=&quot;,x[1]/w,&quot;,&quot;,&quot;M22=&quot;,x[3]/S,&quot;,&quot;,&quot;Dx=&quot;,AA(h*w+x[4]),&quot;,&quot;,&quot;Dy=&quot;,AA(u*S+x[5])),_.padding=&quot;0 &quot;+AA(C)+&quot;px &quot;+AA(L)+&quot;px 0&quot;,_.filter=&quot;progid:DXImageTransform.Microsoft.Matrix(&quot;+D.join(&quot;&quot;)+&quot;, SizingMethod=clip)&quot;}else x&amp;&amp;(h=h*w+x[4],u=u*S+x[5]),_.filter=&quot;&quot;,_.left=AA(h)+&quot;px&quot;,_.top=AA(u)+&quot;px&quot;;var P=this._imageEl,k=this._cropEl;P||(P=MA.doc.createElement(&quot;div&quot;),this._imageEl=P);var O=P.style;if(v){if(e&amp;&amp;i)O.width=AA(w*e*c/p)+&quot;px&quot;,O.height=AA(S*i*d/f)+&quot;px&quot;;else{var z=new Image,E=this;z.onload=function(){z.onload=null,e=z.width,i=z.height,O.width=AA(w*e*c/p)+&quot;px&quot;,O.height=AA(S*i*d/f)+&quot;px&quot;,E._imageWidth=e,E._imageHeight=i,E._imageSrc=a},z.src=a}k||((k=MA.doc.createElement(&quot;div&quot;)).style.overflow=&quot;hidden&quot;,this._cropEl=k);var R=k.style;R.width=AA((c+g*c/p)*w),R.height=AA((d+m*d/f)*S),R.filter=&quot;progid:DXImageTransform.Microsoft.Matrix(Dx=&quot;+-g*c/p*w+&quot;,Dy=&quot;+-m*d/f*S+&quot;)&quot;,k.parentNode||y.appendChild(k),P.parentNode!=k&amp;&amp;k.appendChild(P)}else O.width=AA(w*c)+&quot;px&quot;,O.height=AA(S*d)+&quot;px&quot;,y.appendChild(P),k&amp;&amp;k.parentNode&amp;&amp;(y.removeChild(k),this._cropEl=null);var N=&quot;&quot;,V=n.opacity;V&lt;1&amp;&amp;(N+=&quot;.Alpha(opacity=&quot;+AA(100*V)+&quot;) &quot;),N+=&quot;progid:DXImageTransform.Microsoft.AlphaImageLoader(src=&quot;+a+&quot;, SizingMethod=scale)&quot;,O.filter=N,y.style.zIndex=BA(this.zlevel,this.z,this.z2),NA(t,y),null!=n.text&amp;&amp;this.drawRectText(t,this.getBoundingRect())}},Jh.prototype.onRemove=function(t){VA(t,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(t)},Jh.prototype.onAdd=function(t){NA(t,this._vmlEl),this.appendRectText(t)};var ZA,jA={},UA=0,qA=document.createElement(&quot;div&quot;);Nh.$override(&quot;measureText&quot;,function(t,e){var i=MA.doc;ZA||((ZA=i.createElement(&quot;div&quot;)).style.cssText=&quot;position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;&quot;,MA.doc.body.appendChild(ZA));try{ZA.style.font=e}catch(t){}return ZA.innerHTML=&quot;&quot;,ZA.appendChild(i.createTextNode(t)),{width:ZA.offsetWidth}});for(var XA=new oh,YA=[$h,Kh,Jh,Yc,dd],$A=0;$A&lt;YA.length;$A++){var KA=YA[$A].prototype;KA.drawRectText=function(t,e,i,n){var a=this.style;this.__dirty&amp;&amp;qh.normalizeTextStyle(a,!0);var o=a.text;if(null!=o&amp;&amp;(o+=&quot;&quot;),o){if(a.rich){var r=Nh.parseRichText(o,a);o=[];for(var s=0;s&lt;r.lines.length;s++){for(var l=r.lines[s].tokens,h=[],u=0;u&lt;l.length;u++)h.push(l[u].text);o.push(h.join(&quot;&quot;))}o=o.join(&quot;\n&quot;)}var c,d,p=a.textAlign,f=a.textVerticalAlign,g=function(t){var e=jA[t];if(!e){UA&gt;100&amp;&amp;(UA=0,jA={});var i,n=qA.style;try{n.font=t,i=n.fontFamily.split(&quot;,&quot;)[0]}catch(t){}e={style:n.fontStyle||&quot;normal&quot;,variant:n.fontVariant||&quot;normal&quot;,weight:n.fontWeight||&quot;normal&quot;,size:0|parseFloat(n.fontSize||12),family:i||&quot;Microsoft YaHei&quot;},jA[t]=e,UA++}return e}(a.font),m=g.style+&quot; &quot;+g.variant+&quot; &quot;+g.weight+&quot; &quot;+g.size+&#39;px &quot;&#39;+g.family+&#39;&quot;&#39;;i=i||Nh.getBoundingRect(o,m,p,f);var v=this.transform;if(v&amp;&amp;!n&amp;&amp;(XA.copy(e),XA.applyTransform(v),e=XA),n)c=e.x,d=e.y;else{var y=a.textPosition,x=a.textDistance;if(y instanceof Array)c=e.x+GA(y[0],e.width),d=e.y+GA(y[1],e.height),p=p||&quot;left&quot;;else{var _=Nh.adjustTextPositionOnRect(y,e,x);c=_.x,d=_.y,p=p||_.textAlign,f=f||_.textVerticalAlign}}c=Nh.adjustTextX(c,i.width,p),d=Nh.adjustTextY(d,i.height,f),d+=i.height/2;var b,w,S,M=MA.createNode,I=this._textVmlEl;I?w=(b=(S=I.firstChild).nextSibling).nextSibling:(I=M(&quot;line&quot;),b=M(&quot;path&quot;),w=M(&quot;textpath&quot;),S=M(&quot;skew&quot;),w.style[&quot;v-text-align&quot;]=&quot;left&quot;,EA(I),b.textpathok=!0,w.on=!0,I.from=&quot;0 0&quot;,I.to=&quot;1000 0.05&quot;,NA(I,S),NA(I,b),NA(I,w),this._textVmlEl=I);var T=[c,d],A=I.style;v&amp;&amp;n?(IA(T,T,v),S.on=!0,S.matrix=v[0].toFixed(3)+&quot;,&quot;+v[2].toFixed(3)+&quot;,&quot;+v[1].toFixed(3)+&quot;,&quot;+v[3].toFixed(3)+&quot;,0,0&quot;,S.offset=(AA(T[0])||0)+&quot;,&quot;+(AA(T[1])||0),S.origin=&quot;0 0&quot;,A.left=&quot;0px&quot;,A.top=&quot;0px&quot;):(S.on=!1,A.left=AA(c)+&quot;px&quot;,A.top=AA(d)+&quot;px&quot;),w.string=function(t){return String(t).replace(/&amp;/g,&quot;&amp;amp;&quot;).replace(/&quot;/g,&quot;&amp;quot;&quot;)}(o);try{w.style.font=m}catch(t){}WA(I,&quot;fill&quot;,{fill:a.textFill,opacity:a.opacity},this),WA(I,&quot;stroke&quot;,{stroke:a.textStroke,opacity:a.opacity,lineDash:a.lineDash},this),I.style.zIndex=BA(this.zlevel,this.z,this.z2),NA(t,I)}},KA.removeRectText=function(t){VA(t,this._textVmlEl),this._textVmlEl=null},KA.appendRectText=function(t){NA(t,this._textVmlEl)}}dd.prototype.brushVML=function(t){var e=this.style;null!=e.text?this.drawRectText(t,{x:e.x||0,y:e.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(t)},dd.prototype.onRemove=function(t){this.removeRectText(t)},dd.prototype.onAdd=function(t){this.appendRectText(t)}}var JA=rl.each;bs.prototype={constructor:bs,getType:function(){return&quot;vml&quot;},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0,!0);this._paintList(t)},_paintList:function(t){for(var e=this._vmlRoot,i=0;i&lt;t.length;i++){var n=t[i];n.invisible||n.ignore?(n.__alreadyNotVisible||n.onRemove(e),n.__alreadyNotVisible=!0):(n.__alreadyNotVisible&amp;&amp;n.onAdd(e),n.__alreadyNotVisible=!1,n.__dirty&amp;&amp;(n.beforeBrush&amp;&amp;n.beforeBrush(),(n.brushVML||n.brush).call(n,e),n.afterBrush&amp;&amp;n.afterBrush())),n.__dirty=!1}this._firstPaint&amp;&amp;(this._vmlViewport.appendChild(e),this._firstPaint=!1)},resize:function(t,e){var t=null==t?this._getWidth():t,e=null==e?this._getHeight():e;if(this._width!=t||this._height!=e){this._width=t,this._height=e;var i=this._vmlViewport.style;i.width=t+&quot;px&quot;,i.height=e+&quot;px&quot;}},dispose:function(){this.root.innerHTML=&quot;&quot;,this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&amp;&amp;this.root.removeChild(this._vmlViewport)},_getWidth:function(){var t=this.root,e=t.currentStyle;return(t.clientWidth||_s(e.width))-_s(e.paddingLeft)-_s(e.paddingRight)|0},_getHeight:function(){var t=this.root,e=t.currentStyle;return(t.clientHeight||_s(e.height))-_s(e.paddingTop)-_s(e.paddingBottom)|0}},JA([&quot;getLayer&quot;,&quot;insertLayer&quot;,&quot;eachLayer&quot;,&quot;eachBuiltinLayer&quot;,&quot;eachOtherLayer&quot;,&quot;getLayers&quot;,&quot;modLayer&quot;,&quot;delLayer&quot;,&quot;clearLayer&quot;,&quot;toDataURL&quot;,&quot;pathToImage&quot;],function(t){bs.prototype[t]=function(t){return function(){Ul(&#39;In IE8.0 VML mode painter not support method &quot;&#39;+t+&#39;&quot;&#39;)}}(t)});var QA=bs;(0,Cu.registerPainter)(&quot;vml&quot;,QA);var tC=&quot;http://www.w3.org/2000/svg&quot;,eC={createElement:function(t){return document.createElementNS(tC,t)}},iC=eC.createElement,nC=Cc.CMD,aC=Array.prototype.join,oC=&quot;none&quot;,rC=Math.round,sC=Math.sin,lC=Math.cos,hC=Math.PI,uC=2*Math.PI,cC=180/hC,dC=1e-4,pC={};pC.brush=function(t){var e=t.style,i=t.__svgEl;i||(i=iC(&quot;path&quot;),t.__svgEl=i),t.path||t.createPathProxy();var n=t.path;if(t.__dirtyPath){n.beginPath(),t.buildPath(n,t.shape),t.__dirtyPath=!1;var a=function(t){for(var e=[],i=t.data,n=t.len(),a=0;a&lt;n;){var o=&quot;&quot;,r=0;switch(i[a++]){case nC.M:o=&quot;M&quot;,r=2;break;case nC.L:o=&quot;L&quot;,r=2;break;case nC.Q:o=&quot;Q&quot;,r=4;break;case nC.C:o=&quot;C&quot;,r=6;break;case nC.A:var s=i[a++],l=i[a++],h=i[a++],u=i[a++],c=i[a++],d=i[a++],p=i[a++],f=i[a++],g=Math.abs(d),m=Ss(g%uC)&amp;&amp;!Ss(g),v=!1;v=g&gt;=uC||!Ss(g)&amp;&amp;(d&gt;-hC&amp;&amp;d&lt;0||d&gt;hC)==!!f;var y=ws(s+h*lC(c)),x=ws(l+u*sC(c));m&amp;&amp;(d=f?uC-1e-4:1e-4-uC,v=!0,9===a&amp;&amp;e.push(&quot;M&quot;,y,x));var _=ws(s+h*lC(c+d)),b=ws(l+u*sC(c+d));e.push(&quot;A&quot;,ws(h),ws(u),rC(p*cC),+v,+f,_,b);break;case nC.Z:o=&quot;Z&quot;;break;case nC.R:var _=ws(i[a++]),b=ws(i[a++]),w=ws(i[a++]),S=ws(i[a++]);e.push(&quot;M&quot;,_,b,&quot;L&quot;,_+w,b,&quot;L&quot;,_+w,b+S,&quot;L&quot;,_,b+S,&quot;L&quot;,_,b)}o&amp;&amp;e.push(o);for(var M=0;M&lt;r;M++)e.push(ws(i[a++]))}return e.join(&quot; &quot;)}(n);a.indexOf(&quot;NaN&quot;)&lt;0&amp;&amp;Is(i,&quot;d&quot;,a)}Ts(i,e),Ms(i,t.transform),null!=e.text&amp;&amp;vC(t,t.getBoundingRect())};var fC={};fC.brush=function(t){var e=t.style,i=e.image;if(i instanceof HTMLImageElement){i=i.src}if(i){var n=e.x||0,a=e.y||0,o=e.width,r=e.height,s=t.__svgEl;s||(s=iC(&quot;image&quot;),t.__svgEl=s),i!==t.__imageSrc&amp;&amp;(!function(t,e,i){t.setAttributeNS(&quot;http://www.w3.org/1999/xlink&quot;,e,i)}(s,&quot;href&quot;,i),t.__imageSrc=i),Is(s,&quot;width&quot;,o),Is(s,&quot;height&quot;,r),Is(s,&quot;x&quot;,n),Is(s,&quot;y&quot;,a),Ms(s,t.transform),null!=e.text&amp;&amp;vC(t,t.getBoundingRect())}};var gC={},mC=new oh,vC=function(t,e,i){var n=t.style;t.__dirty&amp;&amp;qh.normalizeTextStyle(n,!0);var a=n.text;if(null!=a){a+=&quot;&quot;;var o=t.__textSvgEl;if(o||(o=iC(&quot;text&quot;),t.__textSvgEl=o),Ts(o,n,!0),t instanceof dd||t.style.transformText)Ms(o,t.transform);else if(t.transform)mC.copy(e),mC.applyTransform(t.transform),e=mC;else{var r=t.transformCoordToGlobal(e.x,e.y);e.x=r[0],e.y=r[1]}var s,l,h=n.textPosition,u=n.textDistance,c=n.textAlign||&quot;left&quot;;&quot;number&quot;==typeof n.fontSize&amp;&amp;(n.fontSize+=&quot;px&quot;);var d=n.font||[n.fontStyle||&quot;&quot;,n.fontWeight||&quot;&quot;,n.fontSize||&quot;&quot;,n.fontFamily||&quot;&quot;].join(&quot; &quot;)||Nh.DEFAULT_FONT,p=As(n.textVerticalAlign),f=(i=Nh.getBoundingRect(a,d,c,p)).lineHeight;if(h instanceof Array)s=e.x+h[0],l=e.y+h[1];else{var g=Nh.adjustTextPositionOnRect(h,e,u);s=g.x,l=g.y,p=As(g.textVerticalAlign),c=g.textAlign}Is(o,&quot;alignment-baseline&quot;,p),d&amp;&amp;(o.style.font=d);var m=n.textPadding;Is(o,&quot;x&quot;,s),Is(o,&quot;y&quot;,l);var v=a.split(&quot;\n&quot;),y=v.length,x=c;&quot;left&quot;===x?(x=&quot;start&quot;,m&amp;&amp;(s+=m[3])):&quot;right&quot;===x?(x=&quot;end&quot;,m&amp;&amp;(s-=m[1])):&quot;center&quot;===x&amp;&amp;(x=&quot;middle&quot;,m&amp;&amp;(s+=(m[3]-m[1])/2));var _=0;if(&quot;baseline&quot;===p?(_=-i.height+f,m&amp;&amp;(_-=m[2])):&quot;middle&quot;===p?(_=(-i.height+f)/2,m&amp;&amp;(l+=(m[0]-m[2])/2)):m&amp;&amp;(_+=m[0]),t.__text!==a||t.__textFont!==d){var b=t.__tspanList||[];t.__tspanList=b;for(S=0;S&lt;y;S++){(M=b[S])?M.innerHTML=&quot;&quot;:(M=b[S]=iC(&quot;tspan&quot;),o.appendChild(M),Is(M,&quot;alignment-baseline&quot;,p),Is(M,&quot;text-anchor&quot;,x)),Is(M,&quot;x&quot;,s),Is(M,&quot;y&quot;,l+S*f+_),M.appendChild(document.createTextNode(v[S]))}for(;S&lt;b.length;S++)o.removeChild(b[S]);b.length=y,t.__text=a,t.__textFont=d}else if(t.__tspanList.length)for(var w=t.__tspanList.length,S=0;S&lt;w;++S){var M=t.__tspanList[S];M&amp;&amp;(Is(M,&quot;x&quot;,s),Is(M,&quot;y&quot;,l+S*f+_))}}};gC.drawRectText=vC,gC.brush=function(t){var e=t.style;null!=e.text&amp;&amp;(e.textPosition=[0,0],vC(t,{x:e.x||0,y:e.y||0,width:0,height:0},t.getBoundingRect()))};var yC={path:pC,image:fC,text:gC};Cs.prototype={diff:function(t,e,i){i||(i=function(t,e){return t===e}),this.equals=i;var n=this;t=t.slice();var a=(e=e.slice()).length,o=t.length,r=1,s=a+o,l=[{newPos:-1,components:[]}],h=this.extractCommon(l[0],e,t,0);if(l[0].newPos+1&gt;=a&amp;&amp;h+1&gt;=o){for(var u=[],c=0;c&lt;e.length;c++)u.push(c);return[{indices:u,count:e.length}]}for(;r&lt;=s;){var d=function(){for(var i=-1*r;i&lt;=r;i+=2){var s,h=l[i-1],u=l[i+1],c=(u?u.newPos:0)-i;h&amp;&amp;(l[i-1]=void 0);var d=h&amp;&amp;h.newPos+1&lt;a,p=u&amp;&amp;0&lt;=c&amp;&amp;c&lt;o;if(d||p){if(!d||p&amp;&amp;h.newPos&lt;u.newPos?(s=function(t){return{newPos:t.newPos,components:t.components.slice(0)}}(u),n.pushComponent(s.components,void 0,!0)):((s=h).newPos++,n.pushComponent(s.components,!0,void 0)),c=n.extractCommon(s,e,t,i),s.newPos+1&gt;=a&amp;&amp;c+1&gt;=o)return function(t,e,i,n){for(var a=0,o=e.length,r=0,s=0;a&lt;o;a++){var l=e[a];if(l.removed){for(var h=[],u=s;u&lt;s+l.count;u++)h.push(u);l.indices=h,s+=l.count}else{for(var h=[],u=r;u&lt;r+l.count;u++)h.push(u);l.indices=h,r+=l.count,l.added||(s+=l.count)}}return e}(0,s.components);l[i]=s}else l[i]=void 0}r++}();if(d)return d}},pushComponent:function(t,e,i){var n=t[t.length-1];n&amp;&amp;n.added===e&amp;&amp;n.removed===i?t[t.length-1]={count:n.count+1,added:e,removed:i}:t.push({count:1,added:e,removed:i})},extractCommon:function(t,e,i,n){for(var a=e.length,o=i.length,r=t.newPos,s=r-n,l=0;r+1&lt;a&amp;&amp;s+1&lt;o&amp;&amp;this.equals(e[r+1],i[s+1]);)r++,s++,l++;return l&amp;&amp;t.components.push({count:l}),t.newPos=r,s},tokenize:function(t){return t.slice()},join:function(t){return t.slice()}};var xC=new Cs,_C=function(t,e,i){return xC.diff(t,e,i)},bC=eC.createElement,wC=yC.path,SC=yC.image,MC=yC.text;Ls.prototype.createElement=bC,Ls.prototype.getDefs=function(t){var e=this._svgRoot,i=this._svgRoot.getElementsByTagName(&quot;defs&quot;);return 0===i.length?t?((i=e.insertBefore(this.createElement(&quot;defs&quot;),e.firstChild)).contains||(i.contains=function(t){var e=i.children;if(!e)return!1;for(var n=e.length-1;n&gt;=0;--n)if(e[n]===t)return!0;return!1}),i):null:i[0]},Ls.prototype.update=function(t,e){if(t){var i=this.getDefs(!1);if(t._dom&amp;&amp;i.contains(t._dom))&quot;function&quot;==typeof e&amp;&amp;e();else{var n=this.add(t);n&amp;&amp;(t._dom=n)}}},Ls.prototype.addDom=function(t){this.getDefs(!0).appendChild(t)},Ls.prototype.removeDom=function(t){this.getDefs(!1).removeChild(t._dom)},Ls.prototype.getDoms=function(){var t=this.getDefs(!1);if(!t)return[];var e=[];return rl.each(this._tagNames,function(i){var n=t.getElementsByTagName(i);e=e.concat([].slice.call(n))}),e},Ls.prototype.markAllUnused=function(){var t=this.getDoms(),e=this;rl.each(t,function(t){t[e._markLabel]=&quot;0&quot;})},Ls.prototype.markUsed=function(t){t&amp;&amp;(t[this._markLabel]=&quot;1&quot;)},Ls.prototype.removeUnused=function(){var t=this.getDefs(!1);if(t){var e=this.getDoms(),i=this;rl.each(e,function(e){&quot;1&quot;!==e[i._markLabel]&amp;&amp;t.removeChild(e)})}},Ls.prototype.getSvgProxy=function(t){return t instanceof Yc?wC:t instanceof Jh?SC:t instanceof dd?MC:wC},Ls.prototype.getTextSvgElement=function(t){return t.__textSvgEl},Ls.prototype.getSvgElement=function(t){return t.__svgEl};var IC=Ls;rl.inherits(Ds,IC),Ds.prototype.addWithoutUpdate=function(t,e){if(e&amp;&amp;e.style){var i=this;rl.each([&quot;fill&quot;,&quot;stroke&quot;],function(n){if(e.style[n]&amp;&amp;(&quot;linear&quot;===e.style[n].type||&quot;radial&quot;===e.style[n].type)){var a,o=e.style[n],r=i.getDefs(!0);o._dom?(a=o._dom,r.contains(o._dom)||i.addDom(a)):a=i.add(o),i.markUsed(e);var s=a.getAttribute(&quot;id&quot;);t.setAttribute(n,&quot;url(#&quot;+s+&quot;)&quot;)}})}},Ds.prototype.add=function(t){var e;if(&quot;linear&quot;===t.type)e=this.createElement(&quot;linearGradient&quot;);else{if(&quot;radial&quot;!==t.type)return Ul(&quot;Illegal gradient type.&quot;),null;e=this.createElement(&quot;radialGradient&quot;)}return t.id=t.id||this.nextId++,e.setAttribute(&quot;id&quot;,&quot;zr-gradient-&quot;+t.id),this.updateDom(t,e),this.addDom(e),e},Ds.prototype.update=function(t){var e=this;IC.prototype.update.call(this,t,function(){var i=t.type,n=t._dom.tagName;&quot;linear&quot;===i&amp;&amp;&quot;linearGradient&quot;===n||&quot;radial&quot;===i&amp;&amp;&quot;radialGradient&quot;===n?e.updateDom(t,t._dom):(e.removeDom(t),e.add(t))})},Ds.prototype.updateDom=function(t,e){if(&quot;linear&quot;===t.type)e.setAttribute(&quot;x1&quot;,t.x),e.setAttribute(&quot;y1&quot;,t.y),e.setAttribute(&quot;x2&quot;,t.x2),e.setAttribute(&quot;y2&quot;,t.y2);else{if(&quot;radial&quot;!==t.type)return void Ul(&quot;Illegal gradient type.&quot;);e.setAttribute(&quot;cx&quot;,t.x),e.setAttribute(&quot;cy&quot;,t.y),e.setAttribute(&quot;r&quot;,t.r)}t.global?e.setAttribute(&quot;gradientUnits&quot;,&quot;userSpaceOnUse&quot;):e.setAttribute(&quot;gradientUnits&quot;,&quot;objectBoundingBox&quot;),e.innerHTML=&quot;&quot;;for(var i=t.colorStops,n=0,a=i.length;n&lt;a;++n){var o=this.createElement(&quot;stop&quot;);o.setAttribute(&quot;offset&quot;,100*i[n].offset+&quot;%&quot;),o.setAttribute(&quot;stop-color&quot;,i[n].color),e.appendChild(o)}t._dom=e},Ds.prototype.markUsed=function(t){if(t.style){var e=t.style.fill;e&amp;&amp;e._dom&amp;&amp;IC.prototype.markUsed.call(this,e._dom),(e=t.style.stroke)&amp;&amp;e._dom&amp;&amp;IC.prototype.markUsed.call(this,e._dom)}};var TC=Ds;rl.inherits(Ps,IC),Ps.prototype.update=function(t){var e=this.getSvgElement(t);e&amp;&amp;this.updateDom(e,t.__clipPaths,!1);var i=this.getTextSvgElement(t);i&amp;&amp;this.updateDom(i,t.__clipPaths,!0),this.markUsed(t)},Ps.prototype.updateDom=function(t,e,i){if(e&amp;&amp;e.length&gt;0){var n,a,o=this.getDefs(!0),r=e[0],s=i?&quot;_textDom&quot;:&quot;_dom&quot;;r[s]?(a=r[s].getAttribute(&quot;id&quot;),n=r[s],o.contains(n)||o.appendChild(n)):(a=&quot;zr-clip-&quot;+this.nextId,++this.nextId,(n=this.createElement(&quot;clipPath&quot;)).setAttribute(&quot;id&quot;,a),o.appendChild(n),r[s]=n);var l=this.getSvgProxy(r);if(r.transform&amp;&amp;r.parent.invTransform&amp;&amp;!i){var h=Array.prototype.slice.call(r.transform);yl.mul(r.transform,r.parent.invTransform,r.transform),l.brush(r),r.transform=h}else l.brush(r);var u=this.getSvgElement(r);n.appendChild(u.cloneNode()),t.setAttribute(&quot;clip-path&quot;,&quot;url(#&quot;+a+&quot;)&quot;),e.length&gt;1&amp;&amp;this.updateDom(n,e.slice(1),i)}else t&amp;&amp;t.setAttribute(&quot;clip-path&quot;,&quot;none&quot;)},Ps.prototype.markUsed=function(t){var e=this;t.__clipPaths&amp;&amp;t.__clipPaths.length&gt;0&amp;&amp;rl.each(t.__clipPaths,function(t){t._dom&amp;&amp;IC.prototype.markUsed.call(e,t._dom),t._textDom&amp;&amp;IC.prototype.markUsed.call(e,t._textDom)})};var AC=Ps,CC=eC.createElement,LC=rl.each,DC=yC.path,PC=yC.image,kC=yC.text,OC=function(t,e,i){this.root=t,this.storage=e,this._opts=i=rl.extend({},i||{});var n=CC(&quot;svg&quot;);n.setAttribute(&quot;xmlns&quot;,&quot;http://www.w3.org/2000/svg&quot;),n.setAttribute(&quot;version&quot;,&quot;1.1&quot;),n.setAttribute(&quot;baseProfile&quot;,&quot;full&quot;),n.style[&quot;user-select&quot;]=&quot;none&quot;,n.style.cssText=&quot;position:absolute;left:0;top:0;&quot;,this.gradientManager=new TC(n),this.clipPathManager=new AC(n);var a=document.createElement(&quot;div&quot;);a.style.cssText=&quot;overflow:hidden;position:relative&quot;,this._svgRoot=n,this._viewport=a,t.appendChild(a),a.appendChild(n),this.resize(i.width,i.height),this._visibleList=[]};OC.prototype={constructor:OC,getType:function(){return&quot;svg&quot;},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0);this._paintList(t)},_paintList:function(t){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused();var e,i=this._svgRoot,n=this._visibleList,a=t.length,o=[];for(e=0;e&lt;a;e++){var r=function(t){return t instanceof Yc?DC:t instanceof Jh?PC:t instanceof dd?kC:DC}(p=t[e]);p.invisible||(p.__dirty&amp;&amp;(r&amp;&amp;r.brush(p),this.clipPathManager.update(p),p.style&amp;&amp;(this.gradientManager.update(p.style.fill),this.gradientManager.update(p.style.stroke)),p.__dirty=!1),o.push(p))}var s,l=_C(n,o);for(e=0;e&lt;l.length;e++){if((c=l[e]).removed)for(d=0;d&lt;c.count;d++){var h=Vs(p=n[c.indices[d]]),u=Ns(p);Rs(i,h),Rs(i,u)}}for(e=0;e&lt;l.length;e++){var c=l[e];if(c.added)for(d=0;d&lt;c.count;d++){var h=Vs(p=o[c.indices[d]]),u=Ns(p);s?zs(i,h,s):Es(i,h),h?zs(i,u,h):s?zs(i,u,s):Es(i,u),zs(i,u,h),s=u||h||s,this.gradientManager.addWithoutUpdate(h,p),this.clipPathManager.markUsed(p)}else if(!c.removed)for(var d=0;d&lt;c.count;d++){var p=o[c.indices[d]];s=h=Ns(p)||Vs(p)||s,this.gradientManager.markUsed(p),this.gradientManager.addWithoutUpdate(h,p),this.clipPathManager.markUsed(p)}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this._visibleList=o},_getDefs:function(t){var e=this._svgRoot,i=this._svgRoot.getElementsByTagName(&quot;defs&quot;);if(0===i.length){if(t){return(i=e.insertBefore(CC(&quot;defs&quot;),e.firstChild)).contains||(i.contains=function(t){var e=i.children;if(!e)return!1;for(var n=e.length-1;n&gt;=0;--n)if(e[n]===t)return!0;return!1}),i}return null}return i[0]},resize:function(t,e){var i=this._viewport;i.style.display=&quot;none&quot;;var n=this._opts;if(null!=t&amp;&amp;(n.width=t),null!=e&amp;&amp;(n.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display=&quot;&quot;,this._width!==t&amp;&amp;this._height!==e){this._width=t,this._height=e;var a=i.style;a.width=t+&quot;px&quot;,a.height=e+&quot;px&quot;;var o=this._svgRoot;o.setAttribute(&quot;width&quot;,t),o.setAttribute(&quot;height&quot;,e)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,i=[&quot;width&quot;,&quot;height&quot;][t],n=[&quot;clientWidth&quot;,&quot;clientHeight&quot;][t],a=[&quot;paddingLeft&quot;,&quot;paddingTop&quot;][t],o=[&quot;paddingRight&quot;,&quot;paddingBottom&quot;][t];if(null!=e[i]&amp;&amp;&quot;auto&quot;!==e[i])return parseFloat(e[i]);var r=this.root,s=document.defaultView.getComputedStyle(r);return(r[n]||ks(s[i])||ks(r.style[i]))-(ks(s[a])||0)-(ks(s[o])||0)|0},dispose:function(){this.root.innerHTML=&quot;&quot;,this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&amp;&amp;this.root.removeChild(this._viewport)},pathToSvg:function(){this.refresh();var t=this._svgRoot.outerHTML;return&quot;data:img/svg+xml;utf-8,&quot;+unescape(t)}},LC([&quot;getLayer&quot;,&quot;insertLayer&quot;,&quot;eachLayer&quot;,&quot;eachBuiltinLayer&quot;,&quot;eachOtherLayer&quot;,&quot;getLayers&quot;,&quot;modLayer&quot;,&quot;delLayer&quot;,&quot;clearLayer&quot;,&quot;toDataURL&quot;,&quot;pathToImage&quot;],function(t){OC.prototype[t]=function(t){return function(){Ul(&#39;In SVG mode painter not support method &quot;&#39;+t+&#39;&quot;&#39;)}}(t)});var zC=OC;(0,Cu.registerPainter)(&quot;svg&quot;,zC);!function(t){t&amp;&amp;t.__esModule&amp;&amp;Object.prototype.hasOwnProperty.call(t,&quot;default&quot;)&amp;&amp;t.default}(e(function(t,e){!function(){for(var t in ym){if(null==ym||!ym.hasOwnProperty(t)||&quot;default&quot;===t||&quot;__esModule&quot;===t)return;e[t]=ym[t]}}(),function(){for(var t in vm){if(null==vm||!vm.hasOwnProperty(t)||&quot;default&quot;===t||&quot;__esModule&quot;===t)return;e[t]=vm[t]}}()}));var EC=&quot;Expected a function&quot;,RC=NaN,NC=&quot;[object Symbol]&quot;,VC=/^\s+|\s+$/g,BC=/^[-+]0x[0-9a-f]+$/i,GC=/^0b[01]+$/i,HC=/^0o[0-7]+$/i,WC=parseInt,FC=&quot;object&quot;==typeof Ws&amp;&amp;Ws&amp;&amp;Ws===Object&amp;&amp;Ws,ZC=&quot;object&quot;==typeof self&amp;&amp;self&amp;&amp;self.Object===Object&amp;&amp;self,jC=FC||ZC||Function(&quot;return this&quot;)(),UC=Object.prototype.toString,qC=Math.max,XC=Math.min,YC=function(){return jC.Date.now()},$C=function(t,e,i){function n(e){var i=l,n=h;return l=h=void 0,f=e,c=t.apply(n,i)}function a(t){var i=t-p;return void 0===p||i&gt;=e||i&lt;0||m&amp;&amp;t-f&gt;=u}function o(){var t=YC();if(a(t))return r(t);d=setTimeout(o,function(t){var i=e-(t-p);return m?XC(i,u-(t-f)):i}(t))}function r(t){return d=void 0,v&amp;&amp;l?n(t):(l=h=void 0,c)}function s(){var t=YC(),i=a(t);if(l=arguments,h=this,p=t,i){if(void 0===d)return function(t){return f=t,d=setTimeout(o,e),g?n(t):c}(p);if(m)return d=setTimeout(o,e),n(p)}return void 0===d&amp;&amp;(d=setTimeout(o,e)),c}var l,h,u,c,d,p,f=0,g=!1,m=!1,v=!0;if(&quot;function&quot;!=typeof t)throw new TypeError(EC);return e=Gs(e)||0,Bs(i)&amp;&amp;(g=!!i.leading,u=(m=&quot;maxWait&quot;in i)?qC(Gs(i.maxWait)||0,e):u,v=&quot;trailing&quot;in i?!!i.trailing:v),s.cancel=function(){void 0!==d&amp;&amp;clearTimeout(d),f=0,l=p=h=d=void 0},s.flush=function(){return void 0===d?c:r(YC())},s};!function(){if(&quot;undefined&quot;!=typeof document){var t=document.head||document.getElementsByTagName(&quot;head&quot;)[0],e=document.createElement(&quot;style&quot;),i=&quot; .echarts { width: 600px; height: 400px; } &quot;;e.type=&quot;text/css&quot;,e.styleSheet?e.styleSheet.cssText=i:e.appendChild(document.createTextNode(i)),t.appendChild(e)}}();var KC=[&quot;legendselectchanged&quot;,&quot;legendselected&quot;,&quot;legendunselected&quot;,&quot;datazoom&quot;,&quot;datarangeselected&quot;,&quot;timelinechanged&quot;,&quot;timelineplaychanged&quot;,&quot;restore&quot;,&quot;dataviewchanged&quot;,&quot;magictypechanged&quot;,&quot;geoselectchanged&quot;,&quot;geoselected&quot;,&quot;geounselected&quot;,&quot;pieselectchanged&quot;,&quot;pieselected&quot;,&quot;pieunselected&quot;,&quot;mapselectchanged&quot;,&quot;mapselected&quot;,&quot;mapunselected&quot;,&quot;axisareaselected&quot;,&quot;focusnodeadjacency&quot;,&quot;unfocusnodeadjacency&quot;,&quot;brush&quot;,&quot;brushselected&quot;],JC=[&quot;click&quot;,&quot;dblclick&quot;,&quot;mouseover&quot;,&quot;mouseout&quot;,&quot;mousedown&quot;,&quot;mouseup&quot;,&quot;globalout&quot;];return{render:function(){var t=this.$createElement;return(this._self._c||t)(&quot;div&quot;,{staticClass:&quot;echarts&quot;})},staticRenderFns:[],props:{options:Object,theme:[String,Object],initOptions:Object,group:String,autoResize:Boolean,watchShallow:Boolean},data:function(){return{chart:null}},computed:{width:{cache:!1,get:function(){return this.delegateGet(&quot;width&quot;,&quot;getWidth&quot;)}},height:{cache:!1,get:function(){return this.delegateGet(&quot;height&quot;,&quot;getHeight&quot;)}},isDisposed:{cache:!1,get:function(){return!!this.delegateGet(&quot;isDisposed&quot;,&quot;isDisposed&quot;)}},computedOptions:{cache:!1,get:function(){return this.delegateGet(&quot;computedOptions&quot;,&quot;getOption&quot;)}}},watch:{group:function(t){this.chart.group=t}},methods:{mergeOptions:function(t,e,i){this.delegateMethod(&quot;setOption&quot;,t,e,i)},resize:function(t){this.delegateMethod(&quot;resize&quot;,t)},dispatchAction:function(t){this.delegateMethod(&quot;dispatchAction&quot;,t)},convertToPixel:function(t,e){return this.delegateMethod(&quot;convertToPixel&quot;,t,e)},convertFromPixel:function(t,e){return this.delegateMethod(&quot;convertFromPixel&quot;,t,e)},containPixel:function(t,e){return this.delegateMethod(&quot;containPixel&quot;,t,e)},showLoading:function(t,e){this.delegateMethod(&quot;showLoading&quot;,t,e)},hideLoading:function(){this.delegateMethod(&quot;hideLoading&quot;)},getDataURL:function(t){return this.delegateMethod(&quot;getDataURL&quot;,t)},getConnectedDataURL:function(t){return this.delegateMethod(&quot;getConnectedDataURL&quot;,t)},clear:function(){this.delegateMethod(&quot;clear&quot;)},dispose:function(){this.delegateMethod(&quot;dispose&quot;)},delegateMethod:function(e){for(var i=[],n=arguments.length-1;n-- &gt;0;)i[n]=arguments[n+1];if(this.chart){return(a=this.chart)[e].apply(a,i);var a}else t.util.warn(&quot;Cannot call [&quot;+e+&quot;] before the chart is initialized. Set prop [options] first.&quot;,this)},delegateGet:function(e,i){return this.chart||t.util.warn(&quot;Cannot get [&quot;+e+&quot;] before the chart is initialized. Set prop [options] first.&quot;,this),this.chart[i]()},init:function(){var t=this;if(!this.chart){var e=ym.init(this.$el,this.theme,this.initOptions);this.group&amp;&amp;(e.group=this.group),e.setOption(this.options,!0),KC.forEach(function(i){e.on(i,function(e){t.$emit(i,e)})}),JC.forEach(function(i){e.on(i,function(e){t.$emit(i,e),t.$emit(&quot;chart&quot;+i,e)})}),this.autoResize&amp;&amp;(this.__resizeHanlder=$C(function(){e.resize()},100,{leading:!0}),window.addEventListener(&quot;resize&quot;,this.__resizeHanlder)),this.chart=e}},destroy:function(){this.autoResize&amp;&amp;window.removeEventListener(&quot;resize&quot;,this.__resizeHanlder),this.dispose(),this.chart=null},refresh:function(){this.destroy(),this.init()}},created:function(){var t=this;this.$watch(&quot;options&quot;,function(e){!t.chart&amp;&amp;e?t.init():t.chart.setOption(t.options,!0)},{deep:!this.watchShallow});[&quot;theme&quot;,&quot;initOptions&quot;,&quot;autoResize&quot;,&quot;watchShallow&quot;].forEach(function(e){t.$watch(e,function(){t.refresh()},{deep:!0})})},mounted:function(){this.options&amp;&amp;this.init()},activated:function(){this.autoResize&amp;&amp;this.chart&amp;&amp;this.chart.resize()},beforeDestroy:function(){this.chart&amp;&amp;this.destroy()},connect:function(t){&quot;string&quot;!=typeof t&amp;&amp;(t=t.map(function(t){return t.chart})),ym.connect(t)},disconnect:function(t){ym.disConnect(t)},registerMap:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];ym.registerMap.apply(ym,t)},registerTheme:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];ym.registerTheme.apply(ym,t)}}});</td>
      </tr>
</table>

  <div class="BlobToolbar position-absolute js-file-line-actions dropdown js-menu-container js-select-menu d-none" aria-hidden="true">
    <button class="btn-octicon ml-0 px-2 p-0 bg-white border border-gray-dark rounded-1 dropdown-toggle js-menu-target" id="js-file-line-action-button" type="button" aria-expanded="false" aria-haspopup="true" aria-label="Inline file action toolbar" aria-controls="inline-file-actions">
      <svg aria-hidden="true" class="octicon octicon-kebab-horizontal" height="16" version="1.1" viewBox="0 0 13 16" width="13"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/></svg>
    </button>
    <div class="dropdown-menu-content js-menu-content" id="inline-file-actions">
      <ul class="BlobToolbar-dropdown dropdown-menu dropdown-menu-se mt-2">
        <li><a class="js-zeroclipboard dropdown-item" style="cursor:pointer;" id="js-copy-lines" data-original-text="Copy lines">Copy lines</a></li>
        <li><a class="js-zeroclipboard dropdown-item" id= "js-copy-permalink" style="cursor:pointer;" data-original-text="Copy permalink">Copy permalink</a></li>
        <li><a href="/Justineo/vue-echarts/blame/18aff090320b6543a410887668ef4b9c2a98fc0e/dist/vue-echarts.js" class="dropdown-item js-update-url-with-hash" id="js-view-git-blame">View git blame</a></li>
          <li><a href="/Justineo/vue-echarts/issues/new" class="dropdown-item" id="js-new-issue">Open new issue</a></li>
      </ul>
    </div>
  </div>

  </div>

  </div>

  <button type="button" data-facebox="#jump-to-line" data-facebox-class="linejump" data-hotkey="l" class="d-none">Jump to Line</button>
  <div id="jump-to-line" style="display:none">
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="" class="js-jump-to-line-form" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>
      <input class="form-control linejump-input js-jump-to-line-field" type="text" placeholder="Jump to line&hellip;" aria-label="Jump to line" autofocus>
      <button type="submit" class="btn">Go</button>
</form>  </div>


  </div>
  <div class="modal-backdrop js-touch-events"></div>
</div>

    </div>
  </div>

  </div>

      
<div class="footer container-lg px-3" role="contentinfo">
  <div class="position-relative d-flex flex-justify-between py-6 mt-6 f6 text-gray border-top border-gray-light ">
    <ul class="list-style-none d-flex flex-wrap ">
      <li class="mr-3">&copy; 2018 <span title="0.27425s from unicorn-1333983701-qrpsv">GitHub</span>, Inc.</li>
        <li class="mr-3"><a href="https://github.com/site/terms" data-ga-click="Footer, go to terms, text:terms">Terms</a></li>
        <li class="mr-3"><a href="https://github.com/site/privacy" data-ga-click="Footer, go to privacy, text:privacy">Privacy</a></li>
        <li class="mr-3"><a href="https://github.com/security" data-ga-click="Footer, go to security, text:security">Security</a></li>
        <li class="mr-3"><a href="https://status.github.com/" data-ga-click="Footer, go to status, text:status">Status</a></li>
        <li><a href="https://help.github.com" data-ga-click="Footer, go to help, text:help">Help</a></li>
    </ul>

    <a href="https://github.com" aria-label="Homepage" class="footer-octicon" title="GitHub">
      <svg aria-hidden="true" class="octicon octicon-mark-github" height="24" version="1.1" viewBox="0 0 16 16" width="24"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
</a>
    <ul class="list-style-none d-flex flex-wrap ">
        <li class="mr-3"><a href="https://github.com/contact" data-ga-click="Footer, go to contact, text:contact">Contact GitHub</a></li>
      <li class="mr-3"><a href="https://developer.github.com" data-ga-click="Footer, go to api, text:api">API</a></li>
      <li class="mr-3"><a href="https://training.github.com" data-ga-click="Footer, go to training, text:training">Training</a></li>
      <li class="mr-3"><a href="https://shop.github.com" data-ga-click="Footer, go to shop, text:shop">Shop</a></li>
        <li class="mr-3"><a href="https://github.com/blog" data-ga-click="Footer, go to blog, text:blog">Blog</a></li>
        <li><a href="https://github.com/about" data-ga-click="Footer, go to about, text:about">About</a></li>

    </ul>
  </div>
</div>



  <div id="ajax-error-message" class="ajax-error-message flash flash-error">
    <svg aria-hidden="true" class="octicon octicon-alert" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.865 1.52c-.18-.31-.51-.5-.87-.5s-.69.19-.87.5L.275 13.5c-.18.31-.18.69 0 1 .19.31.52.5.87.5h13.7c.36 0 .69-.19.86-.5.17-.31.18-.69.01-1L8.865 1.52zM8.995 13h-2v-2h2v2zm0-3h-2V6h2v4z"/></svg>
    <button type="button" class="flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
      <svg aria-hidden="true" class="octicon octicon-x" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"/></svg>
    </button>
    You can't perform that action at this time.
  </div>


    
    <script crossorigin="anonymous" integrity="sha256-9FzcNJoIEcc+i1CeZ7oN2TGqvCgoRASOnFTv8QCd4fo=" src="https://assets-cdn.github.com/assets/frameworks-f45cdc349a0811c73e8b509e67ba0dd931aabc282844048e9c54eff1009de1fa.js"></script>
    
    <script async="async" crossorigin="anonymous" integrity="sha256-W28w6RisOmf6sO0z5u+/1B5o7oNCnWAADFwEZox0d/s=" src="https://assets-cdn.github.com/assets/github-5b6f30e918ac3a67fab0ed33e6efbfd41e68ee83429d60000c5c04668c7477fb.js"></script>
    
    
    
    
  <div class="js-stale-session-flash stale-session-flash flash flash-warn flash-banner d-none">
    <svg aria-hidden="true" class="octicon octicon-alert" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.865 1.52c-.18-.31-.51-.5-.87-.5s-.69.19-.87.5L.275 13.5c-.18.31-.18.69 0 1 .19.31.52.5.87.5h13.7c.36 0 .69-.19.86-.5.17-.31.18-.69.01-1L8.865 1.52zM8.995 13h-2v-2h2v2zm0-3h-2V6h2v4z"/></svg>
    <span class="signed-in-tab-flash">You signed in with another tab or window. <a href="">Reload</a> to refresh your session.</span>
    <span class="signed-out-tab-flash">You signed out in another tab or window. <a href="">Reload</a> to refresh your session.</span>
  </div>
  <div class="facebox" id="facebox" style="display:none;">
  <div class="facebox-popup">
    <div class="facebox-content" role="dialog" aria-labelledby="facebox-header" aria-describedby="facebox-description">
    </div>
    <button type="button" class="facebox-close js-facebox-close" aria-label="Close modal">
      <svg aria-hidden="true" class="octicon octicon-x" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"/></svg>
    </button>
  </div>
</div>


  </body>
</html>

